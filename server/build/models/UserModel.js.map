{"version":3,"sources":["../../src/models/UserModel.js"],"names":["Schema","mongoose","PlayerSchema","playerName","type","String","attack","Number","defense","maxHealth","health","key","frame","gold","exp","maxExp","level","items","Object","equipedItems","potions","UserSchema","email","required","unique","password","username","resetToken","resetTokenExp","Date","player","pre","next","bcrypt","hash","methods","isValidPassword","user","compare","UserModel","model"],"mappings":"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","sourcesContent":["/* eslint-disable func-names */\r\nimport mongoose from \"mongoose\";\r\nimport bcrypt from \"bcrypt\";\r\n\r\nconst { Schema } = mongoose;\r\n\r\nconst PlayerSchema = new Schema({\r\n  playerName: {\r\n    type: String,\r\n  },\r\n  attack: {\r\n    type: Number,\r\n  },\r\n  defense: {\r\n    type: Number,\r\n  },\r\n  maxHealth: {\r\n    type: Number,\r\n  },\r\n  health: {\r\n    type: Number,\r\n  },\r\n  key:{\r\n    type:String\r\n  },\r\n  frame: {\r\n    type: Number,\r\n  },\r\n  gold: {\r\n    type: Number,\r\n  },\r\n  exp:{\r\n    type:Number\r\n  },\r\n  maxExp:{\r\n    type:Number\r\n  },\r\n  level:{\r\n    type:Number\r\n  },\r\n  items: {\r\n    type:Object\r\n  },\r\n  equipedItems:{\r\n    type:Object\r\n  },\r\n  potions:{\r\n    type:Number\r\n  }\r\n});\r\n\r\nconst UserSchema = new Schema({\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n    unique: true,\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  username: {\r\n    type: String,\r\n    required: true,\r\n    unique: true,\r\n  },\r\n  resetToken: {\r\n    type: String,\r\n  },\r\n  resetTokenExp: {\r\n    type: Date,\r\n  },\r\n  player: {\r\n    type: PlayerSchema,\r\n  },\r\n});\r\n\r\nUserSchema.pre(\"save\", async function (next) {\r\n  const hash = await bcrypt.hash(this.password, 10);\r\n  this.password = hash;\r\n  next();\r\n});\r\n\r\nUserSchema.methods.isValidPassword = async function (password) {\r\n  const user = this;\r\n  const compare = await bcrypt.compare(password, user.password);\r\n  return compare;\r\n};\r\n\r\nconst UserModel = mongoose.model(\"user\", UserSchema);\r\n\r\nexport default UserModel;\r\n"],"file":"UserModel.js"}