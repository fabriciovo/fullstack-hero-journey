{"version":3,"sources":["../../src/game_manager/PlayerModel.js"],"names":["PlayerModel","playerId","spawnLocations","players","name","frame","attack","defense","health","maxHealth","gold","id","playerAttacking","flipX","location","generateLocation","x","y","playerName","playerItems","maxNumberOfItems","item","attackBonus","defenseBonus","healthBonus","itemId","Object","keys","length","damage","console","log","updateHealth","Math","floor","random","invalidLocation","some","key"],"mappings":"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","sourcesContent":["export default class PlayerModel {\r\n    constructor(playerId, spawnLocations, players, name, frame) {\r\n        this.attack = 25;\r\n        this.defense = 10;\r\n        this.health = 150;\r\n        this.maxHealth = 150;\r\n        this.gold = 0;\r\n        this.id = playerId;\r\n        this.spawnLocations = spawnLocations;\r\n        this.playerAttacking = false;\r\n        this.flipX = true;\r\n        const location = this.generateLocation(players);\r\n        this.x = location[0];\r\n        this.y = location[1];\r\n        this.playerName = name;\r\n        this.frame = frame;\r\n        this.playerItems = {};\r\n        this.maxNumberOfItems = 5;\r\n    }\r\n\r\n    addItem(item){\r\n        this.playerItems[item.id] = item;\r\n        this.attack += item.attackBonus;\r\n        this.defense += item.defenseBonus;\r\n        this.maxHealth += item.healthBonus;\r\n\r\n    }\r\n    removeItem(itemId){\r\n        this.attack -= this.playerItems[itemId].attackBonus;\r\n        this.defense -= this.playerItems[itemId].defenseBonus;\r\n        this.maxHealth -= this.playerItems[itemId].healthBonus;\r\n        delete this.playerItems[itemId];\r\n    }\r\n\r\n    canPickupItem() {\r\n        if (Object.keys(this.playerItems).length < 5) {\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    \r\n\r\n    playerAttacked (attack){\r\n        const damage = this.defense - attack;\r\n        console.log(damage)\r\n        this.updateHealth(damage);\r\n    }\r\n\r\n    updateGold(gold) {\r\n        this.gold += gold;\r\n    }\r\n\r\n    updateHealth(health) {\r\n        this.health += health;\r\n        if (this.health > this.maxHealth) this.health = this.maxHealth;\r\n    }\r\n\r\n    respawn(players) {\r\n        this.health = this.maxHealth;\r\n        const location = this.generateLocation(players);\r\n        this.x = location[0];\r\n        this.y = location[1];\r\n    }\r\n\r\n\r\n    generateLocation(players){\r\n        const location = this.spawnLocations[Math.floor(Math.random() * this.spawnLocations.length)];\r\n        const invalidLocation = Object.keys(players).some(key =>{\r\n            if(players[key].x === location[0] && players[key].y === location[1]){\r\n                return true;\r\n            }else{\r\n                return false;\r\n            }\r\n        });\r\n\r\n        if(invalidLocation){\r\n            return this.generateLocation(players);\r\n        }else{\r\n            return location;\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n"],"file":"PlayerModel.js"}