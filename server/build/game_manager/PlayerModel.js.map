{"version":3,"sources":["../../src/game_manager/PlayerModel.js"],"names":["PlayerModel","playerId","spawnLocations","players","name","frame","health","maxHealth","gold","id","playerAttacking","flipX","location","generateLocation","x","y","playerName","Math","floor","random","length","invalidLocation","Object","keys","some","key"],"mappings":";;;;;;;;;;;;;IAAqBA,W;AACjB,uBAAYC,QAAZ,EAAsBC,cAAtB,EAAsCC,OAAtC,EAA+CC,IAA/C,EAAqDC,KAArD,EAA4D;AAAA;AACxD,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKC,EAAL,GAAUR,QAAV;AACA,SAAKC,cAAL,GAAsBA,cAAtB;AACA,SAAKQ,eAAL,GAAuB,KAAvB;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,QAAMC,QAAQ,GAAG,KAAKC,gBAAL,CAAsBV,OAAtB,CAAjB;AACA,SAAKW,CAAL,GAASF,QAAQ,CAAC,CAAD,CAAjB;AACA,SAAKG,CAAL,GAASH,QAAQ,CAAC,CAAD,CAAjB;AACA,SAAKI,UAAL,GAAkBZ,IAAlB;AACA,SAAKC,KAAL,GAAaA,KAAb;AACH;;;;WAED,oBAAWG,IAAX,EAAiB;AACb,WAAKA,IAAL,IAAaA,IAAb;AACH;;;WAED,sBAAaF,MAAb,EAAqB;AACjB,WAAKA,MAAL,IAAeA,MAAf;AACA,UAAI,KAAKA,MAAL,GAAc,EAAlB,EAAsB,KAAKA,MAAL,GAAc,EAAd;AACzB;;;WAED,iBAAQH,OAAR,EAAiB;AACb,WAAKG,MAAL,GAAc,KAAKC,SAAnB;AACA,UAAMK,QAAQ,GAAG,KAAKC,gBAAL,CAAsBV,OAAtB,CAAjB;AACA,WAAKW,CAAL,GAASF,QAAQ,CAAC,CAAD,CAAjB;AACA,WAAKG,CAAL,GAASH,QAAQ,CAAC,CAAD,CAAjB;AACH;;;WAGD,0BAAiBT,OAAjB,EAAyB;AACrB,UAAMS,QAAQ,GAAG,KAAKV,cAAL,CAAoBe,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAAKjB,cAAL,CAAoBkB,MAA/C,CAApB,CAAjB;AACA,UAAMC,eAAe,GAAGC,MAAM,CAACC,IAAP,CAAYpB,OAAZ,EAAqBqB,IAArB,CAA0B,UAAAC,GAAG,EAAG;AACpD,YAAGtB,OAAO,CAACsB,GAAD,CAAP,CAAaX,CAAb,KAAmBF,QAAQ,CAAC,CAAD,CAA3B,IAAkCT,OAAO,CAACsB,GAAD,CAAP,CAAaV,CAAb,KAAmBH,QAAQ,CAAC,CAAD,CAAhE,EAAoE;AAChE,iBAAO,IAAP;AACH,SAFD,MAEK;AACD,iBAAO,KAAP;AACH;AACJ,OANuB,CAAxB;;AAQA,UAAGS,eAAH,EAAmB;AACf,eAAO,KAAKR,gBAAL,CAAsBV,OAAtB,CAAP;AACH,OAFD,MAEK;AACD,eAAOS,QAAP;AACH;AAEJ","sourcesContent":["export default class PlayerModel {\r\n    constructor(playerId, spawnLocations, players, name, frame) {\r\n        this.health = 10;\r\n        this.maxHealth = 10;\r\n        this.gold = 0;\r\n        this.id = playerId;\r\n        this.spawnLocations = spawnLocations;\r\n        this.playerAttacking = false;\r\n        this.flipX = true;\r\n        const location = this.generateLocation(players);\r\n        this.x = location[0];\r\n        this.y = location[1];\r\n        this.playerName = name;\r\n        this.frame = frame;\r\n    }\r\n\r\n    updateGold(gold) {\r\n        this.gold += gold;\r\n    }\r\n\r\n    updateHealth(health) {\r\n        this.health += health;\r\n        if (this.health > 10) this.health = 10;\r\n    }\r\n\r\n    respawn(players) {\r\n        this.health = this.maxHealth;\r\n        const location = this.generateLocation(players);\r\n        this.x = location[0];\r\n        this.y = location[1];\r\n    }\r\n\r\n\r\n    generateLocation(players){\r\n        const location = this.spawnLocations[Math.floor(Math.random() * this.spawnLocations.length)];\r\n        const invalidLocation = Object.keys(players).some(key =>{\r\n            if(players[key].x === location[0] && players[key].y === location[1]){\r\n                return true;\r\n            }else{\r\n                return false;\r\n            }\r\n        });\r\n\r\n        if(invalidLocation){\r\n            return this.generateLocation(players);\r\n        }else{\r\n            return location;\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n"],"file":"PlayerModel.js"}