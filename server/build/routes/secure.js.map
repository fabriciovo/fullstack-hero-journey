{"version":3,"file":"secure.js","names":["_express","_interopRequireDefault","require","_ChatModel","router","express","Router","post","_ref","_asyncToGenerator2","_regenerator","mark","_callee","request","response","message","email","chat","wrap","_callee$","_context","prev","next","body","status","json","user","ChatModel","create","sent","stop","_x","_x2","apply","arguments","_default","exports"],"sources":["../../src/routes/secure.js"],"sourcesContent":["import express from 'express';\n\nimport ChatModel from '../models/ChatModel.js';\n\nconst router = express.Router();\n\nrouter.post('/chat', async (request, response) => {\n  if (!request.body || !request.body.message) {\n    response.status(400).json({ message: 'invalid body', status: 400 });\n  } else {\n    const { message } = request.body;\n    const { email } = request.user;\n    const chat = await ChatModel.create({ email, message });\n    response.status(200).json({ chat, message: 'message sent', status: 200 });\n  }\n});\n\nexport default router;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEA,IAAME,MAAM,GAAGC,mBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,OAAO;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAC,QAAOC,OAAO,EAAEC,QAAQ;IAAA,IAAAC,OAAA,EAAAC,KAAA,EAAAC,IAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAA,MACvC,CAACT,OAAO,CAACU,IAAI,IAAI,CAACV,OAAO,CAACU,IAAI,CAACR,OAAO;YAAAK,QAAA,CAAAE,IAAA;YAAA;UAAA;UACxCR,QAAQ,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE,cAAc;YAAES,MAAM,EAAE;UAAI,CAAC,CAAC;UAACJ,QAAA,CAAAE,IAAA;UAAA;QAAA;UAE5DP,OAAO,GAAKF,OAAO,CAACU,IAAI,CAAxBR,OAAO;UACPC,KAAK,GAAKH,OAAO,CAACa,IAAI,CAAtBV,KAAK;UAAAI,QAAA,CAAAE,IAAA;UAAA,OACMK,qBAAS,CAACC,MAAM,CAAC;YAAEZ,KAAK,EAALA,KAAK;YAAED,OAAO,EAAPA;UAAQ,CAAC,CAAC;QAAA;UAAjDE,IAAI,GAAAG,QAAA,CAAAS,IAAA;UACVf,QAAQ,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAER,IAAI,EAAJA,IAAI;YAAEF,OAAO,EAAE,cAAc;YAAES,MAAM,EAAE;UAAI,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAJ,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAE7E;EAAA,iBAAAmB,EAAA,EAAAC,GAAA;IAAA,OAAAxB,IAAA,CAAAyB,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,cAEYhC,MAAM","ignoreList":[]}