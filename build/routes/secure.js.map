{"version":3,"sources":["../../src/routes/secure.js"],"names":["router","express","Router","post","request","response","body","message","status","json","email","user","ChatModel","create","chat"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,OAAZ;AAAA,2FAAqB,iBAAOC,OAAP,EAAgBC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACf,CAACD,OAAO,CAACE,IAAT,IAAiB,CAACF,OAAO,CAACE,IAAR,CAAaC,OADhB;AAAA;AAAA;AAAA;;AAEjBF,YAAAA,QAAQ,CAACG,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAAEF,cAAAA,OAAO,EAAE,cAAX;AAA2BC,cAAAA,MAAM,EAAE;AAAnC,aAA1B;AAFiB;AAAA;;AAAA;AAITD,YAAAA,OAJS,GAIGH,OAAO,CAACE,IAJX,CAITC,OAJS;AAKTG,YAAAA,KALS,GAKCN,OAAO,CAACO,IALT,CAKTD,KALS;AAAA;AAAA,mBAMEE,sBAAUC,MAAV,CAAiB;AAAEH,cAAAA,KAAK,EAALA,KAAF;AAASH,cAAAA,OAAO,EAAPA;AAAT,aAAjB,CANF;;AAAA;AAMXO,YAAAA,IANW;AAOjBT,YAAAA,QAAQ,CAACG,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAAEK,cAAAA,IAAI,EAAJA,IAAF;AAAQP,cAAAA,OAAO,EAAE,cAAjB;AAAiCC,cAAAA,MAAM,EAAE;AAAzC,aAA1B;;AAPiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAAA;AAAA;AAAA;AAAA;eAWeR,M","sourcesContent":["import express from 'express';\r\n\r\nimport ChatModel from '../models/ChatModel';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/chat', async (request, response) => {\r\n  if (!request.body || !request.body.message) {\r\n    response.status(400).json({ message: 'invalid body', status: 400 });\r\n  } else {\r\n    const { message } = request.body;\r\n    const { email } = request.user;\r\n    const chat = await ChatModel.create({ email, message });\r\n    response.status(200).json({ chat, message: 'message sent', status: 200 });\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"file":"secure.js"}