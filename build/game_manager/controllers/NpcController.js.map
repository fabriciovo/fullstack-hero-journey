{"version":3,"file":"NpcController.js","names":["_uuid","require","NpcController","exports","io","npcsLocations","_classCallCheck2","npcs","spawnNpc","_createClass2","key","value","setupEventListeners","socket","location","npc","x","y","id","concat","v4","addNpc","npcId","emit","deleteNpc"],"sources":["../../../src/game_manager/controllers/NpcController.js"],"sourcesContent":["import { v4 } from \"uuid\";\n\nexport default class NpcController {\n  constructor(io, npcsLocations) {\n    this.npcs = {};\n    this.npcsLocations = npcsLocations;\n    this.io = io;\n\n    this.spawnNpc();\n  }\n\n  setupEventListeners(socket) {}\n\n  spawnNpc() {\n    const location = this.npcsLocations[0];\n    const npc = {\n      x: location[0],\n      y: location[1],\n      id: `npc-${v4()}`,\n    };\n    this.addNpc(npc.id, npc);\n  }\n\n  addNpc(npcId, npc) {\n    this.npcs[npcId] = npc;\n    this.io.emit(\"npcSpawned\", npc);\n  }\n\n  deleteNpc(npcId) {\n    delete this.npcs[npcId];\n    this.io.emit(\"npcRemoved\", npcId);\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAA0B,IAELC,aAAa,GAAAC,OAAA;EAChC,SAAAD,cAAYE,EAAE,EAAEC,aAAa,EAAE;IAAA,IAAAC,gBAAA,mBAAAJ,aAAA;IAC7B,IAAI,CAACK,IAAI,GAAG,CAAC,CAAC;IACd,IAAI,CAACF,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACD,EAAE,GAAGA,EAAE;IAEZ,IAAI,CAACI,QAAQ,CAAC,CAAC;EACjB;EAAC,WAAAC,aAAA,aAAAP,aAAA;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAC,oBAAoBC,MAAM,EAAE,CAAC;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAE9B,SAAAH,SAAA,EAAW;MACT,IAAMM,QAAQ,GAAG,IAAI,CAACT,aAAa,CAAC,CAAC,CAAC;MACtC,IAAMU,GAAG,GAAG;QACVC,CAAC,EAAEF,QAAQ,CAAC,CAAC,CAAC;QACdG,CAAC,EAAEH,QAAQ,CAAC,CAAC,CAAC;QACdI,EAAE,SAAAC,MAAA,CAAS,IAAAC,QAAE,EAAC,CAAC;MACjB,CAAC;MACD,IAAI,CAACC,MAAM,CAACN,GAAG,CAACG,EAAE,EAAEH,GAAG,CAAC;IAC1B;EAAC;IAAAL,GAAA;IAAAC,KAAA,EAED,SAAAU,OAAOC,KAAK,EAAEP,GAAG,EAAE;MACjB,IAAI,CAACR,IAAI,CAACe,KAAK,CAAC,GAAGP,GAAG;MACtB,IAAI,CAACX,EAAE,CAACmB,IAAI,CAAC,YAAY,EAAER,GAAG,CAAC;IACjC;EAAC;IAAAL,GAAA;IAAAC,KAAA,EAED,SAAAa,UAAUF,KAAK,EAAE;MACf,OAAO,IAAI,CAACf,IAAI,CAACe,KAAK,CAAC;MACvB,IAAI,CAAClB,EAAE,CAACmB,IAAI,CAAC,YAAY,EAAED,KAAK,CAAC;IACnC;EAAC;AAAA","ignoreList":[]}