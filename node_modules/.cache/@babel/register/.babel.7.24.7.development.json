{"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nrequire(\"dotenv/config\");\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _cookieParser = _interopRequireDefault(require(\"cookie-parser\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _main = _interopRequireDefault(require(\"./routes/main\"));\nvar _password = _interopRequireDefault(require(\"./routes/password\"));\nvar _secure = _interopRequireDefault(require(\"./routes/secure\"));\nvar _GameManager = _interopRequireDefault(require(\"./game_manager/GameManager\"));\nvar app = (0, _express[\"default\"])();\nvar server = require(\"http\").Server(app);\nvar io = require(\"socket.io\")(server, {\n  cors: {\n    origin: [process.env.CORS_ORIGIN, \"http://127.0.0.1:5500\"],\n    methods: [\"GET\", \"POST\"]\n  }\n});\nvar gameManager = new _GameManager[\"default\"](io);\ngameManager.setup();\nvar port = process.env.PORT || 3000;\nvar uri = process.env.MONGO_CONNECTION_URL;\nvar mongoConfig = {\n  useNewUrlParser: true,\n  authSource: \"admin\"\n};\nif (process.env.MONGO_USER_NAME && process.env.MONGO_PASSWORD) {\n  mongoConfig.auth = {};\n  mongoConfig.auth.username = process.env.MONGO_USER_NAME;\n  mongoConfig.auth.password = process.env.MONGO_PASSWORD;\n}\n_mongoose[\"default\"].connect(uri, mongoConfig);\n_mongoose[\"default\"].connection.on(\"error\", function (error) {\n  console.log(error);\n  process.exit(1);\n});\napp.use(_bodyParser[\"default\"].urlencoded({\n  extended: false\n}));\napp.use(_bodyParser[\"default\"].json());\napp.use((0, _cookieParser[\"default\"])());\napp.use((0, _cors[\"default\"])({\n  credentials: true,\n  origin: process.env.CORS_ORIGIN\n}));\nrequire(\"./auth/auth\");\napp.get(\"/game.html\", _passport[\"default\"].authenticate(\"jwt\", {\n  session: false\n}), function (request, response) {\n  response.status(200).json(request.user);\n});\napp.use(_express[\"default\"][\"static\"](_path[\"default\"].join(__dirname, \"../public\")));\napp.get(\"/\", function (request, response) {\n  response.sendFile(_path[\"default\"].join(__dirname, \"../index.html\"));\n});\napp.use(\"/\", _main[\"default\"]);\napp.use(\"/\", _password[\"default\"]);\napp.use(\"/\", _passport[\"default\"].authenticate(\"jwt\", {\n  session: false\n}), _secure[\"default\"]);\napp.use(function (request, response) {\n  response.status(404).json({\n    message: \"404 - Not Found\",\n    status: 404\n  });\n});\napp.use(function (error, request, response, next) {\n  console.log(error);\n  response.status(error.status || 500).json({\n    error: error.message,\n    status: 500\n  });\n});\n_mongoose[\"default\"].connection.on(\"connected\", function () {\n  server.listen(port, function () {\n    console.log(\"Connected\");\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiX3BhdGgiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2V4cHJlc3MiLCJfYm9keVBhcnNlciIsIl9jb3JzIiwiX2Nvb2tpZVBhcnNlciIsIl9wYXNzcG9ydCIsIl9tb25nb29zZSIsIl9tYWluIiwiX3Bhc3N3b3JkIiwiX3NlY3VyZSIsIl9HYW1lTWFuYWdlciIsImFwcCIsImV4cHJlc3MiLCJzZXJ2ZXIiLCJTZXJ2ZXIiLCJpbyIsImNvcnMiLCJvcmlnaW4iLCJwcm9jZXNzIiwiZW52IiwiQ09SU19PUklHSU4iLCJtZXRob2RzIiwiZ2FtZU1hbmFnZXIiLCJHYW1lTWFuYWdlciIsInNldHVwIiwicG9ydCIsIlBPUlQiLCJ1cmkiLCJNT05HT19DT05ORUNUSU9OX1VSTCIsIm1vbmdvQ29uZmlnIiwidXNlTmV3VXJsUGFyc2VyIiwiYXV0aFNvdXJjZSIsIk1PTkdPX1VTRVJfTkFNRSIsIk1PTkdPX1BBU1NXT1JEIiwiYXV0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJjb25uZWN0aW9uIiwib24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJleGl0IiwidXNlIiwiYm9keVBhcnNlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJjb29raWVQYXJzZXIiLCJjcmVkZW50aWFscyIsImdldCIsInBhc3Nwb3J0IiwiYXV0aGVudGljYXRlIiwic2Vzc2lvbiIsInJlcXVlc3QiLCJyZXNwb25zZSIsInN0YXR1cyIsInVzZXIiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNlbmRGaWxlIiwicm91dGVzIiwicGFzc3dvcmRSb3V0ZXMiLCJzZWN1cmVSb3V0ZXMiLCJtZXNzYWdlIiwibmV4dCIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tIFwiY29va2llLXBhcnNlclwiO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5pbXBvcnQgcm91dGVzIGZyb20gXCIuL3JvdXRlcy9tYWluXCI7XG5pbXBvcnQgcGFzc3dvcmRSb3V0ZXMgZnJvbSBcIi4vcm91dGVzL3Bhc3N3b3JkXCI7XG5pbXBvcnQgc2VjdXJlUm91dGVzIGZyb20gXCIuL3JvdXRlcy9zZWN1cmVcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9nYW1lX21hbmFnZXIvR2FtZU1hbmFnZXJcIjtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuY29uc3Qgc2VydmVyID0gcmVxdWlyZShcImh0dHBcIikuU2VydmVyKGFwcCk7XG5jb25zdCBpbyA9IHJlcXVpcmUoXCJzb2NrZXQuaW9cIikoc2VydmVyLCB7XG4gIGNvcnM6IHtcbiAgICBvcmlnaW46IFtwcm9jZXNzLmVudi5DT1JTX09SSUdJTiwgXCJodHRwOi8vMTI3LjAuMC4xOjU1MDBcIl0sXG4gICAgbWV0aG9kczogW1wiR0VUXCIsIFwiUE9TVFwiXVxuICB9XG59KTtcblxuY29uc3QgZ2FtZU1hbmFnZXIgPSBuZXcgR2FtZU1hbmFnZXIoaW8pO1xuZ2FtZU1hbmFnZXIuc2V0dXAoKTtcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDA7XG5cbmNvbnN0IHVyaSA9IHByb2Nlc3MuZW52Lk1PTkdPX0NPTk5FQ1RJT05fVVJMO1xuY29uc3QgbW9uZ29Db25maWcgPSB7XG4gIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgYXV0aFNvdXJjZTogXCJhZG1pblwiLFxufTtcblxuaWYgKHByb2Nlc3MuZW52Lk1PTkdPX1VTRVJfTkFNRSAmJiBwcm9jZXNzLmVudi5NT05HT19QQVNTV09SRCkge1xuICBtb25nb0NvbmZpZy5hdXRoID0ge307XG4gIG1vbmdvQ29uZmlnLmF1dGgudXNlcm5hbWUgPSBwcm9jZXNzLmVudi5NT05HT19VU0VSX05BTUU7XG4gIG1vbmdvQ29uZmlnLmF1dGgucGFzc3dvcmQgPSBwcm9jZXNzLmVudi5NT05HT19QQVNTV09SRDtcbn1cblxubW9uZ29vc2UuY29ubmVjdCh1cmksIG1vbmdvQ29uZmlnKTtcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oXCJlcnJvclwiLCAoZXJyb3IpID0+IHtcbiAgY29uc29sZS5sb2coZXJyb3IpO1xuICBwcm9jZXNzLmV4aXQoMSk7XG59KTtcblxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbmFwcC51c2UoXG4gIGNvcnMoe1xuICAgIGNyZWRlbnRpYWxzOiB0cnVlLFxuICAgIG9yaWdpbjogcHJvY2Vzcy5lbnYuQ09SU19PUklHSU4sXG4gIH0pXG4pO1xuXG5yZXF1aXJlKFwiLi9hdXRoL2F1dGhcIik7XG5cbmFwcC5nZXQoXG4gIFwiL2dhbWUuaHRtbFwiLFxuICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJqd3RcIiwgeyBzZXNzaW9uOiBmYWxzZSB9KSxcbiAgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbihyZXF1ZXN0LnVzZXIpO1xuICB9XG4pO1xuXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi4vcHVibGljXCIpKSk7XG5cbmFwcC5nZXQoXCIvXCIsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICByZXNwb25zZS5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uL2luZGV4Lmh0bWxcIikpO1xufSk7XG5cbmFwcC51c2UoXCIvXCIsIHJvdXRlcyk7XG5hcHAudXNlKFwiL1wiLCBwYXNzd29yZFJvdXRlcyk7XG5hcHAudXNlKFwiL1wiLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJqd3RcIiwgeyBzZXNzaW9uOiBmYWxzZSB9KSwgc2VjdXJlUm91dGVzKTtcblxuYXBwLnVzZSgocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiNDA0IC0gTm90IEZvdW5kXCIsIHN0YXR1czogNDA0IH0pO1xufSk7XG5cbmFwcC51c2UoKGVycm9yLCByZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xuICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIHJlc3BvbnNlXG4gICAgLnN0YXR1cyhlcnJvci5zdGF0dXMgfHwgNTAwKVxuICAgIC5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UsIHN0YXR1czogNTAwIH0pO1xufSk7XG5cbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oXCJjb25uZWN0ZWRcIiwgKCkgPT4ge1xuICBzZXJ2ZXIubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZFwiKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUFBLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxRQUFBLEdBQUFELHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSSxXQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSyxLQUFBLEdBQUFILHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBTSxhQUFBLEdBQUFKLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBTyxTQUFBLEdB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","map":{"version":3,"names":["require","_path","_interopRequireDefault","_express","_bodyParser","_cors","_cookieParser","_passport","_mongoose","_main","_password","_secure","_GameManager","app","express","server","Server","io","cors","origin","process","env","CORS_ORIGIN","methods","gameManager","GameManager","setup","port","PORT","uri","MONGO_CONNECTION_URL","mongoConfig","useNewUrlParser","authSource","MONGO_USER_NAME","MONGO_PASSWORD","auth","username","password","mongoose","connect","connection","on","error","console","log","exit","use","bodyParser","urlencoded","extended","json","cookieParser","credentials","get","passport","authenticate","session","request","response","status","user","path","join","__dirname","sendFile","routes","passwordRoutes","secureRoutes","message","next","listen"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/","sources":["index.js"],"sourcesContent":["import \"dotenv/config\";\nimport path from \"path\";\nimport express from \"express\";\nimport bodyParser from \"body-parser\";\nimport cors from \"cors\";\nimport cookieParser from \"cookie-parser\";\nimport passport from \"passport\";\nimport mongoose from \"mongoose\";\n\nimport routes from \"./routes/main\";\nimport passwordRoutes from \"./routes/password\";\nimport secureRoutes from \"./routes/secure\";\nimport GameManager from \"./game_manager/GameManager\";\n\nconst app = express();\nconst server = require(\"http\").Server(app);\nconst io = require(\"socket.io\")(server, {\n  cors: {\n    origin: [process.env.CORS_ORIGIN, \"http://127.0.0.1:5500\"],\n    methods: [\"GET\", \"POST\"]\n  }\n});\n\nconst gameManager = new GameManager(io);\ngameManager.setup();\nconst port = process.env.PORT || 3000;\n\nconst uri = process.env.MONGO_CONNECTION_URL;\nconst mongoConfig = {\n  useNewUrlParser: true,\n  authSource: \"admin\",\n};\n\nif (process.env.MONGO_USER_NAME && process.env.MONGO_PASSWORD) {\n  mongoConfig.auth = {};\n  mongoConfig.auth.username = process.env.MONGO_USER_NAME;\n  mongoConfig.auth.password = process.env.MONGO_PASSWORD;\n}\n\nmongoose.connect(uri, mongoConfig);\nmongoose.connection.on(\"error\", (error) => {\n  console.log(error);\n  process.exit(1);\n});\n\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json());\napp.use(cookieParser());\napp.use(\n  cors({\n    credentials: true,\n    origin: process.env.CORS_ORIGIN,\n  })\n);\n\nrequire(\"./auth/auth\");\n\napp.get(\n  \"/game.html\",\n  passport.authenticate(\"jwt\", { session: false }),\n  (request, response) => {\n    response.status(200).json(request.user);\n  }\n);\n\napp.use(express.static(path.join(__dirname, \"../public\")));\n\napp.get(\"/\", (request, response) => {\n  response.sendFile(path.join(__dirname, \"../index.html\"));\n});\n\napp.use(\"/\", routes);\napp.use(\"/\", passwordRoutes);\napp.use(\"/\", passport.authenticate(\"jwt\", { session: false }), secureRoutes);\n\napp.use((request, response) => {\n  response.status(404).json({ message: \"404 - Not Found\", status: 404 });\n});\n\napp.use((error, request, response, next) => {\n  console.log(error);\n  response\n    .status(error.status || 500)\n    .json({ error: error.message, status: 500 });\n});\n\nmongoose.connection.on(\"connected\", () => {\n  server.listen(port, () => {\n    console.log(\"Connected\");\n  });\n});\n"],"mappings":"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","ignoreList":[]}},"mtime":1719120887572},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar tokenList = {};\nvar router = _express[\"default\"].Router();\nfunction processLogoutRequest(request, response) {\n  if (request.cookies) {\n    var refreshToken = request.cookies.refreshJwt;\n    if (refreshToken in tokenList) delete tokenList[refreshToken];\n    response.clearCookie('jwt');\n    response.clearCookie('refreshJwt');\n  }\n  if (request.method === 'POST') {\n    response.status(200).json({\n      message: 'logged out',\n      status: 200\n    });\n  } else if (request.method === 'GET') {\n    response.sendFile('logout.html', {\n      root: './public'\n    });\n  }\n}\nrouter.get('/status', function (request, response) {\n  response.status(200).json({\n    message: 'ok',\n    status: 200\n  });\n});\nrouter.post('/signup', _passport[\"default\"].authenticate('signup', {\n  session: false\n}), /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(request, response) {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          response.status(200).json({\n            message: 'signup successful',\n            status: 200\n          });\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.post('/login', /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(request, response, next) {\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          // eslint-disable-next-line consistent-return\n          _passport[\"default\"].authenticate('login', /*#__PURE__*/function () {\n            var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(error, user) {\n              return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.prev = 0;\n                    if (!error) {\n                      _context2.next = 3;\n                      break;\n                    }\n                    return _context2.abrupt(\"return\", next(error));\n                  case 3:\n                    if (user) {\n                      _context2.next = 5;\n                      break;\n                    }\n                    return _context2.abrupt(\"return\", next(new Error('Username and password are required')));\n                  case 5:\n                    request.login(user, {\n                      session: false\n                    }, function (err) {\n                      if (err) return next(err);\n\n                      // create our jwt\n                      var body = {\n                        _id: user._id,\n                        email: user.email,\n                        name: user.username\n                      };\n                      var token = _jsonwebtoken[\"default\"].sign({\n                        user: body\n                      }, process.env.JWT_SECRET, {\n                        expiresIn: 300\n                      });\n                      var refreshToken = _jsonwebtoken[\"default\"].sign({\n                        user: body\n                      }, process.env.JWT_REFRESH_SECRET, {\n                        expiresIn: 86400\n                      });\n\n                      // store tokens in cookie\n                      response.cookie('jwt', token);\n                      response.cookie('refreshJwt', refreshToken);\n\n                      // store tokens in memory\n                      tokenList[refreshToken] = {\n                        token: token,\n                        refreshToken: refreshToken,\n                        email: user.email,\n                        _id: user._id,\n                        name: user.username\n                      };\n\n                      // send the token to the user\n                      return response.status(200).json({\n                        token: token,\n                        refreshToken: refreshToken,\n                        status: 200\n                      });\n                    });\n                    _context2.next = 12;\n                    break;\n                  case 8:\n                    _context2.prev = 8;\n                    _context2.t0 = _context2[\"catch\"](0);\n                    console.log(_context2.t0);\n                    return _context2.abrupt(\"return\", next(_context2.t0));\n                  case 12:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2, null, [[0, 8]]);\n            }));\n            return function (_x6, _x7) {\n              return _ref3.apply(this, arguments);\n            };\n          }())(request, response, next);\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nrouter.route('/logout').get(processLogoutRequest).post(processLogoutRequest);\nrouter.post('/token', function (request, response) {\n  var refreshToken = request.body.refreshToken;\n  if (refreshToken in tokenList) {\n    var body = {\n      email: tokenList[refreshToken].email,\n      _id: tokenList[refreshToken]._id,\n      name: tokenList[refreshToken].name\n    };\n    var token = _jsonwebtoken[\"default\"].sign({\n      user: body\n    }, process.env.JWT_SECRET, {\n      expiresIn: 300\n    });\n\n    // update jwt\n    response.cookie('jwt', token);\n    tokenList[refreshToken].token = token;\n    response.status(200).json({\n      token: token,\n      status: 200\n    });\n  } else {\n    response.status(401).json({\n      message: 'unauthorized',\n      status: 401\n    });\n  }\n});\nvar _default = exports[\"default\"] = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Bhc3Nwb3J0IiwiX2pzb253ZWJ0b2tlbiIsInRva2VuTGlzdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwcm9jZXNzTG9nb3V0UmVxdWVzdCIsInJlcXVlc3QiLCJyZXNwb25zZSIsImNvb2tpZXMiLCJyZWZyZXNoVG9rZW4iLCJyZWZyZXNoSnd0IiwiY2xlYXJDb29raWUiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmRGaWxlIiwicm9vdCIsImdldCIsInBvc3QiLCJwYXNzcG9ydCIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0Iiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMiIsIl9jYWxsZWUzIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiX3JlZjMiLCJfY2FsbGVlMiIsImVycm9yIiwidXNlciIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsImFicnVwdCIsIkVycm9yIiwibG9naW4iLCJlcnIiLCJib2R5IiwiX2lkIiwiZW1haWwiLCJuYW1lIiwidXNlcm5hbWUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsIkpXVF9SRUZSRVNIX1NFQ1JFVCIsImNvb2tpZSIsInQwIiwiY29uc29sZSIsImxvZyIsIl94NiIsIl94NyIsIl94MyIsIl94NCIsIl94NSIsInJvdXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZmFicmljaW9vbGl2ZWlyYS9EZXZlbG9wZXIvZnVsbHN0YWNrLWhlcm8tam91cm5leS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbIm1haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5jb25zdCB0b2tlbkxpc3QgPSB7fTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmZ1bmN0aW9uIHByb2Nlc3NMb2dvdXRSZXF1ZXN0KHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGlmIChyZXF1ZXN0LmNvb2tpZXMpIHtcbiAgICBjb25zdCByZWZyZXNoVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMucmVmcmVzaEp3dDtcbiAgICBpZiAocmVmcmVzaFRva2VuIGluIHRva2VuTGlzdCkgZGVsZXRlIHRva2VuTGlzdFtyZWZyZXNoVG9rZW5dO1xuICAgIHJlc3BvbnNlLmNsZWFyQ29va2llKCdqd3QnKTtcbiAgICByZXNwb25zZS5jbGVhckNvb2tpZSgncmVmcmVzaEp3dCcpO1xuICB9XG4gIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdsb2dnZWQgb3V0Jywgc3RhdHVzOiAyMDAgfSk7XG4gIH0gZWxzZSBpZiAocmVxdWVzdC5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgcmVzcG9uc2Uuc2VuZEZpbGUoJ2xvZ291dC5odG1sJywgeyByb290OiAnLi9wdWJsaWMnIH0pO1xuICB9XG59XG5cbnJvdXRlci5nZXQoJy9zdGF0dXMnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdvaycsIHN0YXR1czogMjAwIH0pO1xufSk7XG5cbnJvdXRlci5wb3N0KCcvc2lnbnVwJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdzaWdudXAnLCB7IHNlc3Npb246IGZhbHNlIH0pLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdzaWdudXAgc3VjY2Vzc2Z1bCcsIHN0YXR1czogMjAwIH0pO1xufSk7XG5cbnJvdXRlci5wb3N0KCcvbG9naW4nLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnbG9naW4nLCBhc3luYyAoZXJyb3IsIHVzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gbmV4dChuZXcgRXJyb3IoJ1VzZXJuYW1lIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQnKSk7XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QubG9naW4odXNlciwgeyBzZXNzaW9uOiBmYWxzZSB9LCAoZXJyKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiBuZXh0KGVycik7XG5cbiAgICAgICAgLy8gY3JlYXRlIG91ciBqd3RcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIG5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXI6IGJvZHkgfSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46IDMwMCB9KTtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gand0LnNpZ24oXG4gICAgICAgICAgeyB1c2VyOiBib2R5IH0sIHByb2Nlc3MuZW52LkpXVF9SRUZSRVNIX1NFQ1JFVCwgeyBleHBpcmVzSW46IDg2NDAwIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gc3RvcmUgdG9rZW5zIGluIGNvb2tpZVxuICAgICAgICByZXNwb25zZS5jb29raWUoJ2p3dCcsIHRva2VuKTtcbiAgICAgICAgcmVzcG9uc2UuY29va2llKCdyZWZyZXNoSnd0JywgcmVmcmVzaFRva2VuKTtcblxuICAgICAgICAvLyBzdG9yZSB0b2tlbnMgaW4gbWVtb3J5XG4gICAgICAgIHRva2VuTGlzdFtyZWZyZXNoVG9rZW5dID0ge1xuICAgICAgICAgIHRva2VuLFxuICAgICAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgIG5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2VuZCB0aGUgdG9rZW4gdG8gdGhlIHVzZXJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiwgcmVmcmVzaFRva2VuLCBzdGF0dXM6IDIwMCB9KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxuICB9KShyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk7XG59KTtcblxucm91dGVyLnJvdXRlKCcvbG9nb3V0JylcbiAgLmdldChwcm9jZXNzTG9nb3V0UmVxdWVzdClcbiAgLnBvc3QocHJvY2Vzc0xvZ291dFJlcXVlc3QpO1xuXG5yb3V0ZXIucG9zdCgnL3Rva2VuJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IHsgcmVmcmVzaFRva2VuIH0gPSByZXF1ZXN0LmJvZHk7XG4gIGlmIChyZWZyZXNoVG9rZW4gaW4gdG9rZW5MaXN0KSB7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIGVtYWlsOiB0b2tlbkxpc3RbcmVmcmVzaFRva2VuXS5lbWFpbCxcbiAgICAgIF9pZDogdG9rZW5MaXN0W3JlZnJlc2hUb2tlbl0uX2lkLFxuICAgICAgbmFtZTogdG9rZW5MaXN0W3JlZnJlc2hUb2tlbl0ubmFtZSxcbiAgICB9O1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyB1c2VyOiBib2R5IH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAzMDAgfSk7XG5cbiAgICAvLyB1cGRhdGUgand0XG4gICAgcmVzcG9uc2UuY29va2llKCdqd3QnLCB0b2tlbik7XG4gICAgdG9rZW5MaXN0W3JlZnJlc2hUb2tlbl0udG9rZW4gPSB0b2tlbjtcblxuICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiwgc3RhdHVzOiAyMDAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICd1bmF1dGhvcml6ZWQnLCBzdGF0dXM6IDQwMSB9KTtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsYUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBTUcsU0FBUyxHQUFHLENBQUMsQ0FBQztBQUNwQixJQUFNQyxNQUFNLEdBQUdDLG1CQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CLFNBQVNDLG9CQUFvQkEsQ0FBQ0MsT0FBTyxFQUFFQyxRQUFRLEVBQUU7RUFDL0MsSUFBSUQsT0FBTyxDQUFDRSxPQUFPLEVBQUU7SUFDbkIsSUFBTUMsWUFBWSxHQUFHSCxPQUFPLENBQUNFLE9BQU8sQ0FBQ0UsVUFBVTtJQUMvQyxJQUFJRCxZQUFZLElBQUlSLFNBQVMsRUFBRSxPQUFPQSxTQUFTLENBQUNRLFlBQVksQ0FBQztJQUM3REYsUUFBUSxD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_passport","_jsonwebtoken","tokenList","router","express","Router","processLogoutRequest","request","response","cookies","refreshToken","refreshJwt","clearCookie","method","status","json","message","sendFile","root","get","post","passport","authenticate","session","_ref","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","stop","_x","_x2","apply","arguments","_ref2","_callee3","_callee3$","_context3","_ref3","_callee2","error","user","_callee2$","_context2","abrupt","Error","login","err","body","_id","email","name","username","token","jwt","sign","process","env","JWT_SECRET","expiresIn","JWT_REFRESH_SECRET","cookie","t0","console","log","_x6","_x7","_x3","_x4","_x5","route","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/","sources":["main.js"],"sourcesContent":["import express from 'express';\nimport passport from 'passport';\nimport jwt from 'jsonwebtoken';\n\nconst tokenList = {};\nconst router = express.Router();\n\nfunction processLogoutRequest(request, response) {\n  if (request.cookies) {\n    const refreshToken = request.cookies.refreshJwt;\n    if (refreshToken in tokenList) delete tokenList[refreshToken];\n    response.clearCookie('jwt');\n    response.clearCookie('refreshJwt');\n  }\n  if (request.method === 'POST') {\n    response.status(200).json({ message: 'logged out', status: 200 });\n  } else if (request.method === 'GET') {\n    response.sendFile('logout.html', { root: './public' });\n  }\n}\n\nrouter.get('/status', (request, response) => {\n  response.status(200).json({ message: 'ok', status: 200 });\n});\n\nrouter.post('/signup', passport.authenticate('signup', { session: false }), async (request, response) => {\n  response.status(200).json({ message: 'signup successful', status: 200 });\n});\n\nrouter.post('/login', async (request, response, next) => {\n  // eslint-disable-next-line consistent-return\n  passport.authenticate('login', async (error, user) => {\n    try {\n      if (error) {\n        return next(error);\n      }\n      if (!user) {\n        return next(new Error('Username and password are required'));\n      }\n\n      request.login(user, { session: false }, (err) => {\n        if (err) return next(err);\n\n        // create our jwt\n        const body = {\n          _id: user._id,\n          email: user.email,\n          name: user.username,\n        };\n\n        const token = jwt.sign({ user: body }, process.env.JWT_SECRET, { expiresIn: 300 });\n        const refreshToken = jwt.sign(\n          { user: body }, process.env.JWT_REFRESH_SECRET, { expiresIn: 86400 },\n        );\n\n        // store tokens in cookie\n        response.cookie('jwt', token);\n        response.cookie('refreshJwt', refreshToken);\n\n        // store tokens in memory\n        tokenList[refreshToken] = {\n          token,\n          refreshToken,\n          email: user.email,\n          _id: user._id,\n          name: user.username,\n        };\n\n        // send the token to the user\n        return response.status(200).json({ token, refreshToken, status: 200 });\n      });\n    } catch (err) {\n      console.log(err);\n      return next(err);\n    }\n  })(request, response, next);\n});\n\nrouter.route('/logout')\n  .get(processLogoutRequest)\n  .post(processLogoutRequest);\n\nrouter.post('/token', (request, response) => {\n  const { refreshToken } = request.body;\n  if (refreshToken in tokenList) {\n    const body = {\n      email: tokenList[refreshToken].email,\n      _id: tokenList[refreshToken]._id,\n      name: tokenList[refreshToken].name,\n    };\n    const token = jwt.sign({ user: body }, process.env.JWT_SECRET, { expiresIn: 300 });\n\n    // update jwt\n    response.cookie('jwt', token);\n    tokenList[refreshToken].token = token;\n\n    response.status(200).json({ token, status: 200 });\n  } else {\n    response.status(401).json({ message: 'unauthorized', status: 401 });\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}},"mtime":1719011205040},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/password.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _nodemailerExpressHandlebars = _interopRequireDefault(require(\"nodemailer-express-handlebars\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\nvar _UserModel = _interopRequireDefault(require(\"../models/UserModel\"));\nvar email = process.env.EMAIL;\nvar password = process.env.PASSWORD;\nvar smtpTransport = _nodemailer[\"default\"].createTransport({\n  service: process.env.EMAIL_PROVIDER,\n  auth: {\n    user: email,\n    pass: password\n  }\n});\nvar handlebarsOptions = {\n  viewEngine: {\n    extName: '.hbs',\n    defaultLayout: null,\n    partialsDir: './templates/',\n    layoutsDir: './templates/'\n  },\n  viewPath: _path[\"default\"].resolve('./templates/'),\n  extName: '.html'\n};\nsmtpTransport.use('compile', (0, _nodemailerExpressHandlebars[\"default\"])(handlebarsOptions));\nvar router = _express[\"default\"].Router();\nrouter.post('/forgot-password', /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(request, response) {\n    var userEmail, user, buffer, token, emailOptions;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          userEmail = request.body.email;\n          _context.next = 3;\n          return _UserModel[\"default\"].findOne({\n            email: userEmail\n          });\n        case 3:\n          user = _context.sent;\n          if (user) {\n            _context.next = 7;\n            break;\n          }\n          response.status(400).json({\n            message: 'invalid email',\n            status: 400\n          });\n          return _context.abrupt(\"return\");\n        case 7:\n          // create user token\n          buffer = _crypto[\"default\"].randomBytes(20);\n          token = buffer.toString('hex'); // update user reset password token and exp\n          _context.next = 11;\n          return _UserModel[\"default\"].findByIdAndUpdate({\n            _id: user._id\n          }, {\n            resetToken: token,\n            resetTokenExp: Date.now() + 600000\n          });\n        case 11:\n          // send user password reset email\n          emailOptions = {\n            to: userEmail,\n            from: email,\n            template: 'forgot-password',\n            subject: 'MMO Password Reset',\n            context: {\n              name: 'joe',\n              url: \"http://localhost:\".concat(process.env.PORT || 3000, \"/?token=\").concat(token, \"&scene=resetPassword\")\n            }\n          };\n          _context.next = 14;\n          return smtpTransport.sendMail(emailOptions);\n        case 14:\n          response.status(200).json({\n            message: 'An email has been sent to your email address. Password reset link is only valid for 10 minutes.',\n            status: 200\n          });\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.post('/reset-password', /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(request, response) {\n    var userEmail, user, emailOptions;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userEmail = request.body.email;\n          _context2.next = 3;\n          return _UserModel[\"default\"].findOne({\n            resetToken: request.body.token,\n            resetTokenExp: {\n              $gt: Date.now()\n            },\n            email: userEmail\n          });\n        case 3:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 7;\n            break;\n          }\n          response.status(400).json({\n            message: 'invalid token',\n            status: 400\n          });\n          return _context2.abrupt(\"return\");\n        case 7:\n          if (!(!request.body.password || !request.body.verifiedPassword || request.body.password !== request.body.verifiedPassword)) {\n            _context2.next = 10;\n            break;\n          }\n          response.status(400).json({\n            message: 'passwords do not match',\n            status: 400\n          });\n          return _context2.abrupt(\"return\");\n        case 10:\n          // update user model\n          user.password = request.body.password;\n          user.resetToken = undefined;\n          user.resetTokenExp = undefined;\n          _context2.next = 15;\n          return user.save();\n        case 15:\n          // send user password update email\n          emailOptions = {\n            to: userEmail,\n            from: email,\n            template: 'reset-password',\n            subject: 'MMO Password Reset Confirmation',\n            context: {\n              name: user.username\n            }\n          };\n          _context2.next = 18;\n          return smtpTransport.sendMail(emailOptions);\n        case 18:\n          response.status(200).json({\n            message: 'password updated',\n            status: 200\n          });\n        case 19:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nvar _default = exports[\"default\"] = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX25vZGVtYWlsZXJFeHByZXNzSGFuZGxlYmFycyIsIl9ub2RlbWFpbGVyIiwiX3BhdGgiLCJfY3J5cHRvIiwiX1VzZXJNb2RlbCIsImVtYWlsIiwicHJvY2VzcyIsImVudiIsIkVNQUlMIiwicGFzc3dvcmQiLCJQQVNTV09SRCIsInNtdHBUcmFuc3BvcnQiLCJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VydmljZSIsIkVNQUlMX1BST1ZJREVSIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwiaGFuZGxlYmFyc09wdGlvbnMiLCJ2aWV3RW5naW5lIiwiZXh0TmFtZSIsImRlZmF1bHRMYXlvdXQiLCJwYXJ0aWFsc0RpciIsImxheW91dHNEaXIiLCJ2aWV3UGF0aCIsInBhdGgiLCJyZXNvbHZlIiwidXNlIiwiaGJzIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJ1c2VyRW1haWwiLCJidWZmZXIiLCJ0b2tlbiIsImVtYWlsT3B0aW9ucyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiVXNlck1vZGVsIiwiZmluZE9uZSIsInNlbnQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImFicnVwdCIsImNyeXB0byIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsInJlc2V0VG9rZW4iLCJyZXNldFRva2VuRXhwIiwiRGF0ZSIsIm5vdyIsInRvIiwiZnJvbSIsInRlbXBsYXRlIiwic3ViamVjdCIsImNvbnRleHQiLCJuYW1lIiwidXJsIiwiY29uY2F0IiwiUE9SVCIsInNlbmRNYWlsIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMiIsIl9jYWxsZWUyIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiJGd0IiwidmVyaWZpZWRQYXNzd29yZCIsInVuZGVmaW5lZCIsInNhdmUiLCJ1c2VybmFtZSIsIl94MyIsIl94NCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJwYXNzd29yZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBoYnMgZnJvbSAnbm9kZW1haWxlci1leHByZXNzLWhhbmRsZWJhcnMnO1xuaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcic7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcblxuaW1wb3J0IFVzZXJNb2RlbCBmcm9tICcuLi9tb2RlbHMvVXNlck1vZGVsJztcblxuY29uc3QgZW1haWwgPSBwcm9jZXNzLmVudi5FTUFJTDtcbmNvbnN0IHBhc3N3b3JkID0gcHJvY2Vzcy5lbnYuUEFTU1dPUkQ7XG5cbmNvbnN0IHNtdHBUcmFuc3BvcnQgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gIHNlcnZpY2U6IHByb2Nlc3MuZW52LkVNQUlMX1BST1ZJREVSLFxuICBhdXRoOiB7XG4gICAgdXNlcjogZW1haWwsXG4gICAgcGFzczogcGFzc3dvcmQsXG4gIH0sXG59KTtcblxuY29uc3QgaGFuZGxlYmFyc09wdGlvbnMgPSB7XG4gIHZpZXdFbmdpbmU6IHtcbiAgICBleHROYW1lOiAnLmhicycsXG4gICAgZGVmYXVsdExheW91dDogbnVsbCxcbiAgICBwYXJ0aWFsc0RpcjogJy4vdGVtcGxhdGVzLycsXG4gICAgbGF5b3V0c0RpcjogJy4vdGVtcGxhdGVzLycsXG4gIH0sXG4gIHZpZXdQYXRoOiBwYXRoLnJlc29sdmUoJy4vdGVtcGxhdGVzLycpLFxuICBleHROYW1lOiAnLmh0bWwnLFxufTtcblxuc210cFRyYW5zcG9ydC51c2UoJ2NvbXBpbGUnLCBoYnMoaGFuZGxlYmFyc09wdGlvbnMpKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoJy9mb3Jnb3QtcGFzc3dvcmQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgY29uc3QgdXNlckVtYWlsID0gcmVxdWVzdC5ib2R5LmVtYWlsO1xuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogdXNlckVtYWlsIH0pO1xuICBpZiAoIXVzZXIpIHtcbiAgICByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ2ludmFsaWQgZW1haWwnLCBzdGF0dXM6IDQwMCB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBjcmVhdGUgdXNlciB0b2tlblxuICBjb25zdCBidWZmZXIgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMjApO1xuICBjb25zdCB0b2tlbiA9IGJ1ZmZlci50b1N0cmluZygnaGV4Jyk7XG5cbiAgLy8gdXBkYXRlIHVzZXIgcmVzZXQgcGFzc3dvcmQgdG9rZW4gYW5kIGV4cFxuICBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgeyBfaWQ6IHVzZXIuX2lkIH0sIHsgcmVzZXRUb2tlbjogdG9rZW4sIHJlc2V0VG9rZW5FeHA6IERhdGUubm93KCkgKyA2MDAwMDAgfSxcbiAgKTtcblxuICAvLyBzZW5kIHVzZXIgcGFzc3dvcmQgcmVzZXQgZW1haWxcbiAgY29uc3QgZW1haWxPcHRpb25zID0ge1xuICAgIHRvOiB1c2VyRW1haWwsXG4gICAgZnJvbTogZW1haWwsXG4gICAgdGVtcGxhdGU6ICdmb3Jnb3QtcGFzc3dvcmQnLFxuICAgIHN1YmplY3Q6ICdNTU8gUGFzc3dvcmQgUmVzZXQnLFxuICAgIGNvbnRleHQ6IHtcbiAgICAgIG5hbWU6ICdqb2UnLFxuICAgICAgdXJsOiBgaHR0cDovL2xvY2FsaG9zdDoke3Byb2Nlc3MuZW52LlBPUlQgfHwgMzAwMH0vP3Rva2VuPSR7dG9rZW59JnNjZW5lPXJlc2V0UGFzc3dvcmRgLFxuICAgIH0sXG4gIH07XG4gIGF3YWl0IHNtdHBUcmFuc3BvcnQuc2VuZE1haWwoZW1haWxPcHRpb25zKTtcblxuICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0FuIGVtYWlsIGhhcyBiZWVuIHNlbnQgdG8geW91ciBlbWFpbCBhZGRyZXNzLiBQYXNzd29yZCByZXNldCBsaW5rIGlzIG9ubHkgdmFsaWQgZm9yIDEwIG1pbnV0ZXMuJywgc3RhdHVzOiAyMDAgfSk7XG59KTtcblxucm91dGVyLnBvc3QoJy9yZXNldC1wYXNzd29yZCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICBjb25zdCB1c2VyRW1haWwgPSByZXF1ZXN0LmJvZHkuZW1haWw7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7XG4gICAgcmVzZXRUb2tlbjogcmVxdWVzdC5ib2R5LnRva2VuLFxuICAgIHJlc2V0VG9rZW5FeHA6IHsgJGd0OiBEYXRlLm5vdygpIH0sXG4gICAgZW1haWw6IHVzZXJFbWFpbCxcbiAgfSk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdpbnZhbGlkIHRva2VuJywgc3RhdHVzOiA0MDAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gZW5zdXJlIHBhc3N3b3JkIHdhcyBwcm92aWRlZCwgYW5kIHRoYXQgdGhlIHBhc3N3b3JkIG1hdGNoZXMgdGhlIHZlcmlmaWVkIHBhc3N3b3JkXG4gIGlmICghcmVxdWVzdC5ib2R5LnBhc3N3b3JkIHx8ICFyZXF1ZXN0LmJvZHkudmVyaWZpZWRQYXNzd29yZFxuICAgIHx8IHJlcXVlc3QuYm9keS5wYXNzd29yZCAhPT0gcmVxdWVzdC5ib2R5LnZlcmlmaWVkUGFzc3dvcmQpIHtcbiAgICByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ3Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnLCBzdGF0dXM6IDQwMCB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyB1cGRhdGUgdXNlciBtb2RlbFxuICB1c2VyLnBhc3N3b3JkID0gcmVxdWVzdC5ib2R5LnBhc3N3b3JkO1xuICB1c2VyLnJlc2V0VG9rZW4gPSB1bmRlZmluZWQ7XG4gIHVzZXIucmVzZXRUb2tlbkV4cCA9IHVuZGVmaW5lZDtcbiAgYXdhaXQgdXNlci5zYXZlKCk7XG5cbiAgLy8gc2VuZCB1c2VyIHBhc3N3b3JkIHVwZGF0ZSBlbWFpbFxuICBjb25zdCBlbWFpbE9wdGlvbnMgPSB7XG4gICAgdG86IHVzZXJFbWFpbCxcbiAgICBmcm9tOiBlbWFpbCxcbiAgICB0ZW1wbGF0ZTogJ3Jlc2V0LXBhc3N3b3JkJyxcbiAgICBzdWJqZWN0OiAnTU1PIFBhc3N3b3JkIFJlc2V0IENvbmZpcm1hdGlvbicsXG4gICAgY29udGV4dDoge1xuICAgICAgbmFtZTogdXNlci51c2VybmFtZSxcbiAgICB9LFxuICB9O1xuICBhd2FpdCBzbXRwVHJhbnNwb3J0LnNlbmRNYWlsKGVtYWlsT3B0aW9ucyk7XG5cbiAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdwYXNzd29yZCB1cGRhdGVkJywgc3RhdHVzOiAyMDAgfSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyw0QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUks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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_nodemailerExpressHandlebars","_nodemailer","_path","_crypto","_UserModel","email","process","env","EMAIL","password","PASSWORD","smtpTransport","nodemailer","createTransport","service","EMAIL_PROVIDER","auth","user","pass","handlebarsOptions","viewEngine","extName","defaultLayout","partialsDir","layoutsDir","viewPath","path","resolve","use","hbs","router","express","Router","post","_ref","_asyncToGenerator2","_regenerator","mark","_callee","request","response","userEmail","buffer","token","emailOptions","wrap","_callee$","_context","prev","next","body","UserModel","findOne","sent","status","json","message","abrupt","crypto","randomBytes","toString","findByIdAndUpdate","_id","resetToken","resetTokenExp","Date","now","to","from","template","subject","context","name","url","concat","PORT","sendMail","stop","_x","_x2","apply","arguments","_ref2","_callee2","_callee2$","_context2","$gt","verifiedPassword","undefined","save","username","_x3","_x4","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/","sources":["password.js"],"sourcesContent":["import express from 'express';\nimport hbs from 'nodemailer-express-handlebars';\nimport nodemailer from 'nodemailer';\nimport path from 'path';\nimport crypto from 'crypto';\n\nimport UserModel from '../models/UserModel';\n\nconst email = process.env.EMAIL;\nconst password = process.env.PASSWORD;\n\nconst smtpTransport = nodemailer.createTransport({\n  service: process.env.EMAIL_PROVIDER,\n  auth: {\n    user: email,\n    pass: password,\n  },\n});\n\nconst handlebarsOptions = {\n  viewEngine: {\n    extName: '.hbs',\n    defaultLayout: null,\n    partialsDir: './templates/',\n    layoutsDir: './templates/',\n  },\n  viewPath: path.resolve('./templates/'),\n  extName: '.html',\n};\n\nsmtpTransport.use('compile', hbs(handlebarsOptions));\n\nconst router = express.Router();\n\nrouter.post('/forgot-password', async (request, response) => {\n  const userEmail = request.body.email;\n  const user = await UserModel.findOne({ email: userEmail });\n  if (!user) {\n    response.status(400).json({ message: 'invalid email', status: 400 });\n    return;\n  }\n\n  // create user token\n  const buffer = crypto.randomBytes(20);\n  const token = buffer.toString('hex');\n\n  // update user reset password token and exp\n  await UserModel.findByIdAndUpdate(\n    { _id: user._id }, { resetToken: token, resetTokenExp: Date.now() + 600000 },\n  );\n\n  // send user password reset email\n  const emailOptions = {\n    to: userEmail,\n    from: email,\n    template: 'forgot-password',\n    subject: 'MMO Password Reset',\n    context: {\n      name: 'joe',\n      url: `http://localhost:${process.env.PORT || 3000}/?token=${token}&scene=resetPassword`,\n    },\n  };\n  await smtpTransport.sendMail(emailOptions);\n\n  response.status(200).json({ message: 'An email has been sent to your email address. Password reset link is only valid for 10 minutes.', status: 200 });\n});\n\nrouter.post('/reset-password', async (request, response) => {\n  const userEmail = request.body.email;\n  const user = await UserModel.findOne({\n    resetToken: request.body.token,\n    resetTokenExp: { $gt: Date.now() },\n    email: userEmail,\n  });\n\n  if (!user) {\n    response.status(400).json({ message: 'invalid token', status: 400 });\n    return;\n  }\n\n  // ensure password was provided, and that the password matches the verified password\n  if (!request.body.password || !request.body.verifiedPassword\n    || request.body.password !== request.body.verifiedPassword) {\n    response.status(400).json({ message: 'passwords do not match', status: 400 });\n    return;\n  }\n\n  // update user model\n  user.password = request.body.password;\n  user.resetToken = undefined;\n  user.resetTokenExp = undefined;\n  await user.save();\n\n  // send user password update email\n  const emailOptions = {\n    to: userEmail,\n    from: email,\n    template: 'reset-password',\n    subject: 'MMO Password Reset Confirmation',\n    context: {\n      name: user.username,\n    },\n  };\n  await smtpTransport.sendMail(emailOptions);\n\n  response.status(200).json({ message: 'password updated', status: 200 });\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}},"mtime":1718711816122},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/UserModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n/* eslint-disable func-names */\n\nvar Schema = _mongoose[\"default\"].Schema;\nvar PlayerSchema = new Schema({\n  playerName: {\n    type: String\n  },\n  attack: {\n    type: Number\n  },\n  defense: {\n    type: Number\n  },\n  maxHealth: {\n    type: Number\n  },\n  health: {\n    type: Number\n  },\n  key: {\n    type: String\n  },\n  frame: {\n    type: Number\n  },\n  gold: {\n    type: Number\n  },\n  exp: {\n    type: Number\n  },\n  maxExp: {\n    type: Number\n  },\n  level: {\n    type: Number\n  },\n  items: {\n    type: Object\n  },\n  equipedItems: {\n    type: Object\n  },\n  potions: {\n    type: Number\n  }\n});\nvar UserSchema = new Schema({\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  username: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  resetToken: {\n    type: String\n  },\n  resetTokenExp: {\n    type: Date\n  },\n  player: {\n    type: PlayerSchema\n  }\n});\nUserSchema.pre(\"save\", /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(next) {\n    var hash;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _bcrypt[\"default\"].hash(this.password, 10);\n        case 2:\n          hash = _context.sent;\n          this.password = hash;\n          next();\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, this);\n  }));\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());\nUserSchema.methods.isValidPassword = /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(password) {\n    var user, compare;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          user = this;\n          _context2.next = 3;\n          return _bcrypt[\"default\"].compare(password, user.password);\n        case 3:\n          compare = _context2.sent;\n          return _context2.abrupt(\"return\", compare);\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, this);\n  }));\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar UserModel = _mongoose[\"default\"].model(\"user\", UserSchema);\nvar _default = exports[\"default\"] = UserModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9iY3J5cHQiLCJTY2hlbWEiLCJtb25nb29zZSIsIlBsYXllclNjaGVtYSIsInBsYXllck5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwiYXR0YWNrIiwiTnVtYmVyIiwiZGVmZW5zZSIsIm1heEhlYWx0aCIsImhlYWx0aCIsImtleSIsImZyYW1lIiwiZ29sZCIsImV4cCIsIm1heEV4cCIsImxldmVsIiwiaXRlbXMiLCJPYmplY3QiLCJlcXVpcGVkSXRlbXMiLCJwb3Rpb25zIiwiVXNlclNjaGVtYSIsImVtYWlsIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJwYXNzd29yZCIsInVzZXJuYW1lIiwicmVzZXRUb2tlbiIsInJlc2V0VG9rZW5FeHAiLCJEYXRlIiwicGxheWVyIiwicHJlIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwibmV4dCIsImhhc2giLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJiY3J5cHQiLCJzZW50Iiwic3RvcCIsIl94IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtZXRob2RzIiwiaXNWYWxpZFBhc3N3b3JkIiwiX3JlZjIiLCJfY2FsbGVlMiIsInVzZXIiLCJjb21wYXJlIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiYWJydXB0IiwiX3gyIiwiVXNlck1vZGVsIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiVXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xuXG5jb25zdCB7IFNjaGVtYSB9ID0gbW9uZ29vc2U7XG5cbmNvbnN0IFBsYXllclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBwbGF5ZXJOYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBhdHRhY2s6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gIH0sXG4gIGRlZmVuc2U6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gIH0sXG4gIG1heEhlYWx0aDoge1xuICAgIHR5cGU6IE51bWJlcixcbiAgfSxcbiAgaGVhbHRoOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICB9LFxuICBrZXk6e1xuICAgIHR5cGU6U3RyaW5nXG4gIH0sXG4gIGZyYW1lOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICB9LFxuICBnb2xkOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICB9LFxuICBleHA6e1xuICAgIHR5cGU6TnVtYmVyXG4gIH0sXG4gIG1heEV4cDp7XG4gICAgdHlwZTpOdW1iZXJcbiAgfSxcbiAgbGV2ZWw6e1xuICAgIHR5cGU6TnVtYmVyXG4gIH0sXG4gIGl0ZW1zOiB7XG4gICAgdHlwZTpPYmplY3RcbiAgfSxcbiAgZXF1aXBlZEl0ZW1zOntcbiAgICB0eXBlOk9iamVjdFxuICB9LFxuICBwb3Rpb25zOntcbiAgICB0eXBlOk51bWJlclxuICB9XG59KTtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICB1c2VybmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gIH0sXG4gIHJlc2V0VG9rZW46IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIHJlc2V0VG9rZW5FeHA6IHtcbiAgICB0eXBlOiBEYXRlLFxuICB9LFxuICBwbGF5ZXI6IHtcbiAgICB0eXBlOiBQbGF5ZXJTY2hlbWEsXG4gIH0sXG59KTtcblxuVXNlclNjaGVtYS5wcmUoXCJzYXZlXCIsIGFzeW5jIGZ1bmN0aW9uIChuZXh0KSB7XG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaCh0aGlzLnBhc3N3b3JkLCAxMCk7XG4gIHRoaXMucGFzc3dvcmQgPSBoYXNoO1xuICBuZXh0KCk7XG59KTtcblxuVXNlclNjaGVtYS5tZXRob2RzLmlzVmFsaWRQYXNzd29yZCA9IGFzeW5jIGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICBjb25zdCB1c2VyID0gdGhpcztcbiAgY29uc3QgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgcmV0dXJuIGNvbXBhcmU7XG59O1xuXG5jb25zdCBVc2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJNb2RlbDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0EsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBRkE7O0FBSUEsSUFBUUUsTUFBTSxHQUFLQyxvQkFBUSxDQUFuQkQsTUFBTTtBQUVkLElBQU1FLFlBQVksR0FBRyxJQUFJRixNQUFNLENBQUM7RUFDOUJHLFVBQVUsRUFBRTtJQUNWQyxJQUFJLEVBQUVDO0VBQ1IsQ0FBQztFQUNEQyxNQUFNLEVBQUU7SUFDTkYsSUFBSSxFQUFFRztFQUNSLENBQUM7RUFDREMsT0FBTyxFQUFFO0lBQ1BKLElBQUksRUFBRUc7RUFDUixDQUFDO0VBQ0RFLFNBQVMsRUFBRTtJQUNUTCxJQUFJLEVBQUVHO0VBQ1IsQ0FBQztFQUNERyxNQUFNLEVBQUU7SUFD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","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_bcrypt","Schema","mongoose","PlayerSchema","playerName","type","String","attack","Number","defense","maxHealth","health","key","frame","gold","exp","maxExp","level","items","Object","equipedItems","potions","UserSchema","email","required","unique","password","username","resetToken","resetTokenExp","Date","player","pre","_ref","_asyncToGenerator2","_regenerator","mark","_callee","next","hash","wrap","_callee$","_context","prev","bcrypt","sent","stop","_x","apply","arguments","methods","isValidPassword","_ref2","_callee2","user","compare","_callee2$","_context2","abrupt","_x2","UserModel","model","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["UserModel.js"],"sourcesContent":["/* eslint-disable func-names */\nimport mongoose from \"mongoose\";\nimport bcrypt from \"bcrypt\";\n\nconst { Schema } = mongoose;\n\nconst PlayerSchema = new Schema({\n  playerName: {\n    type: String,\n  },\n  attack: {\n    type: Number,\n  },\n  defense: {\n    type: Number,\n  },\n  maxHealth: {\n    type: Number,\n  },\n  health: {\n    type: Number,\n  },\n  key:{\n    type:String\n  },\n  frame: {\n    type: Number,\n  },\n  gold: {\n    type: Number,\n  },\n  exp:{\n    type:Number\n  },\n  maxExp:{\n    type:Number\n  },\n  level:{\n    type:Number\n  },\n  items: {\n    type:Object\n  },\n  equipedItems:{\n    type:Object\n  },\n  potions:{\n    type:Number\n  }\n});\n\nconst UserSchema = new Schema({\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n  },\n  password: {\n    type: String,\n    required: true,\n  },\n  username: {\n    type: String,\n    required: true,\n    unique: true,\n  },\n  resetToken: {\n    type: String,\n  },\n  resetTokenExp: {\n    type: Date,\n  },\n  player: {\n    type: PlayerSchema,\n  },\n});\n\nUserSchema.pre(\"save\", async function (next) {\n  const hash = await bcrypt.hash(this.password, 10);\n  this.password = hash;\n  next();\n});\n\nUserSchema.methods.isValidPassword = async function (password) {\n  const user = this;\n  const compare = await bcrypt.compare(password, user.password);\n  return compare;\n};\n\nconst UserModel = mongoose.model(\"user\", UserSchema);\n\nexport default UserModel;\n"],"mappings":";;;;;;;;;AACA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAFA;;AAIA,IAAQE,MAAM,GAAKC,oBAAQ,CAAnBD,MAAM;AAEd,IAAME,YAAY,GAAG,IAAIF,MAAM,CAAC;EAC9BG,UAAU,EAAE;IACVC,IAAI,EAAEC;EACR,CAAC;EACDC,MAAM,EAAE;IACNF,IAAI,EAAEG;EACR,CAAC;EACDC,OAAO,EAAE;IACPJ,IAAI,EAAEG;EACR,CAAC;EACDE,SAAS,EAAE;IACTL,IAAI,EAAEG;EACR,CAAC;EACDG,MAAM,EAAE;IACNN,IAAI,EAAEG;EACR,CAAC;EACDI,GAAG,EAAC;IACFP,IAAI,EAACC;EACP,CAAC;EACDO,KAAK,EAAE;IACLR,IAAI,EAAEG;EACR,CAAC;EACDM,IAAI,EAAE;IACJT,IAAI,EAAEG;EACR,CAAC;EACDO,GAAG,EAAC;IACFV,IAAI,EAACG;EACP,CAAC;EACDQ,MAAM,EAAC;IACLX,IAAI,EAACG;EACP,CAAC;EACDS,KAAK,EAAC;IACJZ,IAAI,EAACG;EACP,CAAC;EACDU,KAAK,EAAE;IACLb,IAAI,EAACc;EACP,CAAC;EACDC,YAAY,EAAC;IACXf,IAAI,EAACc;EACP,CAAC;EACDE,OAAO,EAAC;IACNhB,IAAI,EAACG;EACP;AACF,CAAC,CAAC;AAEF,IAAMc,UAAU,GAAG,IAAIrB,MAAM,CAAC;EAC5BsB,KAAK,EAAE;IACLlB,IAAI,EAAEC,MAAM;IACZkB,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE;IACRrB,IAAI,EAAEC,MAAM;IACZkB,QAAQ,EAAE;EACZ,CAAC;EACDG,QAAQ,EAAE;IACRtB,IAAI,EAAEC,MAAM;IACZkB,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE;EACV,CAAC;EACDG,UAAU,EAAE;IACVvB,IAAI,EAAEC;EACR,CAAC;EACDuB,aAAa,EAAE;IACbxB,IAAI,EAAEyB;EACR,CAAC;EACDC,MAAM,EAAE;IACN1B,IAAI,EAAEF;EACR;AACF,CAAC,CAAC;AAEFmB,UAAU,CAACU,GAAG,CAAC,MAAM;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAC,QAAgBC,IAAI;IAAA,IAAAC,IAAA;IAAA,OAAAJ,YAAA,YAAAK,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAJ,IAAA;QAAA;UAAAI,QAAA,CAAAJ,IAAA;UAAA,OACtBM,kBAAM,CAACL,IAAI,CAAC,IAAI,CAACb,QAAQ,EAAE,EAAE,CAAC;QAAA;UAA3Ca,IAAI,GAAAG,QAAA,CAAAG,IAAA;UACV,IAAI,CAACnB,QAAQ,GAAGa,IAAI;UACpBD,IAAI,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAI,QAAA,CAAAI,IAAA;MAAA;IAAA,GAAAT,OAAA;EAAA,CACR;EAAA,iBAAAU,EAAA;IAAA,OAAAd,IAAA,CAAAe,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAEF3B,UAAU,CAAC4B,OAAO,CAACC,eAAe;EAAA,IAAAC,KAAA,OAAAlB,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAiB,SAAgB3B,QAAQ;IAAA,IAAA4B,IAAA,EAAAC,OAAA;IAAA,OAAApB,YAAA,YAAAK,IAAA,UAAAgB,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAd,IAAA,GAAAc,SAAA,CAAAnB,IAAA;QAAA;UACrDgB,IAAI,GAAG,IAAI;UAAAG,SAAA,CAAAnB,IAAA;UAAA,OACKM,kBAAM,CAACW,OAAO,CAAC7B,QAAQ,EAAE4B,IAAI,CAAC5B,QAAQ,CAAC;QAAA;UAAvD6B,OAAO,GAAAE,SAAA,CAAAZ,IAAA;UAAA,OAAAY,SAAA,CAAAC,MAAA,WACNH,OAAO;QAAA;QAAA;UAAA,OAAAE,SAAA,CAAAX,IAAA;MAAA;IAAA,GAAAO,QAAA;EAAA,CACf;EAAA,iBAAAM,GAAA;IAAA,OAAAP,KAAA,CAAAJ,KAAA,OAAAC,SAAA;EAAA;AAAA;AAED,IAAMW,SAAS,GAAG1D,oBAAQ,CAAC2D,KAAK,CAAC,MAAM,EAAEvC,UAAU,CAAC;AAAC,IAAAwC,QAAA,GAAAC,OAAA,cAEtCH,SAAS","ignoreList":[]}},"mtime":1718711816122},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/secure.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _ChatModel = _interopRequireDefault(require(\"../models/ChatModel\"));\nvar router = _express[\"default\"].Router();\nrouter.post('/chat', /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(request, response) {\n    var message, email, chat;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(!request.body || !request.body.message)) {\n            _context.next = 4;\n            break;\n          }\n          response.status(400).json({\n            message: 'invalid body',\n            status: 400\n          });\n          _context.next = 10;\n          break;\n        case 4:\n          message = request.body.message;\n          email = request.user.email;\n          _context.next = 8;\n          return _ChatModel[\"default\"].create({\n            email: email,\n            message: message\n          });\n        case 8:\n          chat = _context.sent;\n          response.status(200).json({\n            chat: chat,\n            message: 'message sent',\n            status: 200\n          });\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nvar _default = exports[\"default\"] = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NoYXRNb2RlbCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxdWVzdCIsInJlc3BvbnNlIiwibWVzc2FnZSIsImVtYWlsIiwiY2hhdCIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsInVzZXIiLCJDaGF0TW9kZWwiLCJjcmVhdGUiLCJzZW50Iiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsic2VjdXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgQ2hhdE1vZGVsIGZyb20gJy4uL21vZGVscy9DaGF0TW9kZWwnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdCgnL2NoYXQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgaWYgKCFyZXF1ZXN0LmJvZHkgfHwgIXJlcXVlc3QuYm9keS5tZXNzYWdlKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdpbnZhbGlkIGJvZHknLCBzdGF0dXM6IDQwMCB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHJlcXVlc3QuYm9keTtcbiAgICBjb25zdCB7IGVtYWlsIH0gPSByZXF1ZXN0LnVzZXI7XG4gICAgY29uc3QgY2hhdCA9IGF3YWl0IENoYXRNb2RlbC5jcmVhdGUoeyBlbWFpbCwgbWVzc2FnZSB9KTtcbiAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgY2hhdCwgbWVzc2FnZTogJ21lc3NhZ2Ugc2VudCcsIHN0YXR1czogMjAwIH0pO1xuICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFNRSxNQUFNLEdBQUdDLG1CQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLElBQUksQ0FBQyxPQUFPO0VBQUEsSUFBQUMsSUFBQSxPQUFBQyxrQkFBQSwyQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUUsU0FBQUMsUUFBT0MsT0FBTyxFQUFFQyxRQUFRO0lBQUEsSUFBQUMsT0FBQSxFQUFBQyxLQUFBLEVBQUFDLElBQUE7SUFBQSxPQUFBUCxZQUFBLFlBQUFRLElBQUEsVUFBQUMsU0FBQUMsUUFBQTtNQUFBLGtCQUFBQSxRQUFBLENBQUFDLElBQUEsR0FBQUQsUUFBQSxDQUFBRSxJQUFBO1FBQUE7VUFBQSxNQUN2QyxDQUFDVCxPQUFPLENBQUNVLElBQUksSUFBSSxDQUFDVixPQUFPLENBQUNVLElBQUksQ0FBQ1IsT0FBTztZQUFBSyxRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQ3hDUixRQUFRLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVWLE9BQU8sRUFBRSxjQUFjO1lBQUVTLE1BQU0sRUFBRTtVQUFJLENBQUMsQ0FBQztVQUFDSixRQUFBLENBQUFFLElBQUE7VUFBQTtRQUFBO1VBRTVEUCxPQUFPLEdBQUtGLE9BQU8sQ0FBQ1UsSUFBSSxDQUF4QlIsT0FBTztVQUNQQyxLQUFLLEdBQUtILE9BQU8sQ0FBQ2EsSUFBSSxDQUF0QlYsS0FBSztVQUFBSSxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUNNSyxxQkFBUyxDQUFDQyxNQUFNLENBQUM7WUFBRVosS0FBSyxFQUFMQSxLQUFLO1lBQUVELE9BQU8sRUFBUEE7VUFBUSxDQUFDLENBQUM7UUFBQTtVQUFqREUsSUFBSSxHQUFBRyxRQUFBLENBQUFTLElBQUE7VUFDVmYsUUFBUSxDQUFDVSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFUixJQUFJLEVBQUpBLElBQUk7WUFBRUYsT0FBTyxFQUFFLGNBQWM7WUFBRVMsTUFBTSxFQUFFO1VBQUksQ0FBQyxDQUFDO1FBQUM7UUFBQTtVQUFBLE9BQUFKLFFBQUEsQ0FBQVUsSUFBQTtNQUFBO0lBQUEsR0FBQWxCLE9BQUE7RUFBQSxDQUU3RTtFQUFBLGlCQUFBbUIsRUFBQSxFQUFBQyxHQUFBO0lBQUEsT0FBQXhCLElBQUEsQ0FBQXlCLEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsSUFBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxjQUVZaEMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_ChatModel","router","express","Router","post","_ref","_asyncToGenerator2","_regenerator","mark","_callee","request","response","message","email","chat","wrap","_callee$","_context","prev","next","body","status","json","user","ChatModel","create","sent","stop","_x","_x2","apply","arguments","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/","sources":["secure.js"],"sourcesContent":["import express from 'express';\n\nimport ChatModel from '../models/ChatModel';\n\nconst router = express.Router();\n\nrouter.post('/chat', async (request, response) => {\n  if (!request.body || !request.body.message) {\n    response.status(400).json({ message: 'invalid body', status: 400 });\n  } else {\n    const { message } = request.body;\n    const { email } = request.user;\n    const chat = await ChatModel.create({ email, message });\n    response.status(200).json({ chat, message: 'message sent', status: 200 });\n  }\n});\n\nexport default router;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEA,IAAME,MAAM,GAAGC,mBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,OAAO;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAC,QAAOC,OAAO,EAAEC,QAAQ;IAAA,IAAAC,OAAA,EAAAC,KAAA,EAAAC,IAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAA,MACvC,CAACT,OAAO,CAACU,IAAI,IAAI,CAACV,OAAO,CAACU,IAAI,CAACR,OAAO;YAAAK,QAAA,CAAAE,IAAA;YAAA;UAAA;UACxCR,QAAQ,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE,cAAc;YAAES,MAAM,EAAE;UAAI,CAAC,CAAC;UAACJ,QAAA,CAAAE,IAAA;UAAA;QAAA;UAE5DP,OAAO,GAAKF,OAAO,CAACU,IAAI,CAAxBR,OAAO;UACPC,KAAK,GAAKH,OAAO,CAACa,IAAI,CAAtBV,KAAK;UAAAI,QAAA,CAAAE,IAAA;UAAA,OACMK,qBAAS,CAACC,MAAM,CAAC;YAAEZ,KAAK,EAALA,KAAK;YAAED,OAAO,EAAPA;UAAQ,CAAC,CAAC;QAAA;UAAjDE,IAAI,GAAAG,QAAA,CAAAS,IAAA;UACVf,QAAQ,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAER,IAAI,EAAJA,IAAI;YAAEF,OAAO,EAAE,cAAc;YAAES,MAAM,EAAE;UAAI,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAJ,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAE7E;EAAA,iBAAAmB,EAAA,EAAAC,GAAA;IAAA,OAAAxB,IAAA,CAAAyB,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,cAEYhC,MAAM","ignoreList":[]}},"mtime":1718711816122},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/ChatModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar Schema = _mongoose[\"default\"].Schema;\nvar ChatSchema = new Schema({\n  email: {\n    type: String,\n    required: true,\n    unqiue: true\n  },\n  message: {\n    type: String,\n    required: true\n  }\n});\nvar ChatModel = _mongoose[\"default\"].model('chat', ChatSchema);\nvar _default = exports[\"default\"] = ChatModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIlNjaGVtYSIsIm1vbmdvb3NlIiwiQ2hhdFNjaGVtYSIsImVtYWlsIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5xaXVlIiwibWVzc2FnZSIsIkNoYXRNb2RlbCIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZmFicmljaW9vbGl2ZWlyYS9EZXZlbG9wZXIvZnVsbHN0YWNrLWhlcm8tam91cm5leS9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbIkNoYXRNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB7IFNjaGVtYSB9ID0gbW9uZ29vc2U7XG5cbmNvbnN0IENoYXRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgZW1haWw6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdW5xaXVlOiB0cnVlLFxuICB9LFxuICBtZXNzYWdlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxufSk7XG5cbmNvbnN0IENoYXRNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdjaGF0JywgQ2hhdFNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IENoYXRNb2RlbDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQVFDLE1BQU0sR0FBS0Msb0JBQVEsQ0FBbkJELE1BQU07QUFFZCxJQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBTSxDQUFDO0VBQzVCRyxLQUFLLEVBQUU7SUFDTEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLE1BQU0sRUFBRTtFQUNWLENBQUM7RUFDREMsT0FBTyxFQUFFO0lBQ1BKLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWjtBQUNGLENBQUMsQ0FBQztBQUVGLElBQU1HLFNBQVMsR0FBR1Isb0JBQVEsQ0FBQ1MsS0FBSyxDQUFDLE1BQU0sRUFBRVIsVUFBVSxDQUFDO0FBQUMsSUFBQVMsUUFBQSxHQUFBQyxPQUFBLGNBRXRDSCxTQUFTIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","Schema","mongoose","ChatSchema","email","type","String","required","unqiue","message","ChatModel","model","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["ChatModel.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst { Schema } = mongoose;\n\nconst ChatSchema = new Schema({\n  email: {\n    type: String,\n    required: true,\n    unqiue: true,\n  },\n  message: {\n    type: String,\n    required: true,\n  },\n});\n\nconst ChatModel = mongoose.model('chat', ChatSchema);\n\nexport default ChatModel;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAQC,MAAM,GAAKC,oBAAQ,CAAnBD,MAAM;AAEd,IAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE;EACV,CAAC;EACDC,OAAO,EAAE;IACPJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAEF,IAAMG,SAAS,GAAGR,oBAAQ,CAACS,KAAK,CAAC,MAAM,EAAER,UAAU,CAAC;AAAC,IAAAS,QAAA,GAAAC,OAAA,cAEtCH,SAAS","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/GameManager.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar levelData = _interopRequireWildcard(require(\"../../public/assets/level/new_level.json\"));\nvar _MonsterController = _interopRequireDefault(require(\"./controllers/MonsterController\"));\nvar _PlayerController = _interopRequireDefault(require(\"./controllers/PlayerController\"));\nvar _ItemController = _interopRequireDefault(require(\"./controllers/ItemController\"));\nvar _NpcController = _interopRequireDefault(require(\"./controllers/NpcController\"));\nvar _MessageController = _interopRequireDefault(require(\"./controllers/MessageController\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar GameManager = exports[\"default\"] = /*#__PURE__*/function () {\n  function GameManager(io) {\n    (0, _classCallCheck2[\"default\"])(this, GameManager);\n    this.io = io;\n    this.monsterController = undefined;\n    this.playerController = undefined;\n    this.itemController = undefined;\n    this.npcController = undefined;\n    this.messageController = undefined;\n    this.levelData = levelData;\n    this.playerLocations = [[200, 200]];\n    this.chestLocations = {};\n    this.monsterLocations = [];\n    this.npcLocations = [];\n  }\n  return (0, _createClass2[\"default\"])(GameManager, [{\n    key: \"setup\",\n    value: function setup() {\n      this.parseMapData();\n      this.setupControllers();\n      this.setupEventListeners();\n    }\n  }, {\n    key: \"setupControllers\",\n    value: function setupControllers() {\n      this.monsterController = new _MonsterController[\"default\"](this.io, this.monsterLocations);\n      this.playerController = new _PlayerController[\"default\"](this.io, this.playerLocations);\n      this.itemController = new _ItemController[\"default\"](this.io);\n      this.npcController = new _NpcController[\"default\"](this.io, this.npcLocations);\n      this.messageController = new _MessageController[\"default\"](this.io);\n    }\n  }, {\n    key: \"parseMapData\",\n    value: function parseMapData() {\n      var _this = this;\n      this.levelData = levelData;\n      this.levelData.layers.forEach(function (layer) {\n        if (layer.name === \"player_locations\") {\n          layer.objects.forEach(function (obj) {\n            _this.playerLocations.push([obj.x, obj.y]);\n          });\n        } else if (layer.name === \"monster_locations\") {\n          layer.objects.forEach(function (obj) {\n            _this.monsterLocations.push([obj.x, obj.y]);\n          });\n        } else if (layer.name === \"chest_locations\") {\n          layer.objects.forEach(function (obj) {\n            if (_this.chestLocations[obj.properties.spawner]) {\n              _this.chestLocations[obj.properties.spawner].push([obj.x, obj.y]);\n            } else {\n              _this.chestLocations[obj.properties.spawner] = [[obj.x, obj.y]];\n            }\n          });\n        } else if (layer.name === \"npc_locations\") {\n          layer.objects.forEach(function (obj) {\n            if (_this.npcLocations[obj.properties.spawner]) {\n              _this.npcLocations.push([obj.x, obj.y]);\n            } else {\n              _this.npcLocations.push([obj.x, obj.y]);\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners() {\n      var _this2 = this;\n      this.io.on(\"connection\", function (socket) {\n        socket.on(\"connect_error\", function (err) {\n          console.log(\"connect_error due to \".concat(err.message));\n        });\n        _this2.monsterController.setupEventListeners(socket);\n        _this2.itemController.setupEventListeners(socket);\n        _this2.npcController.setupEventListeners(socket);\n        _this2.playerController.setupEventListeners(socket);\n        _this2.messageController.setupEventListeners(socket);\n        socket.on(\"currents\", function () {\n          socket.emit(\"currentPlayers\", _this2.playerController.players);\n          socket.emit(\"currentMonsters\", _this2.monsterController.monsters);\n          socket.emit(\"currentChests\", _this2.itemController.chests);\n          socket.emit(\"currentItems\", _this2.itemController.items);\n          socket.emit(\"currentNpcs\", _this2.npcController.npcs);\n        });\n\n        // player connected to our game\n        console.log(\"player connected to our game\");\n      });\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsZXZlbERhdGEiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfTW9uc3RlckNvbnRyb2xsZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX1BsYXllckNvbnRyb2xsZXIiLCJfSXRlbUNvbnRyb2xsZXIiLCJfTnBjQ29udHJvbGxlciIsIl9NZXNzYWdlQ29udHJvbGxlciIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIkdhbWVNYW5hZ2VyIiwiZXhwb3J0cyIsImlvIiwiX2NsYXNzQ2FsbENoZWNrMiIsIm1vbnN0ZXJDb250cm9sbGVyIiwidW5kZWZpbmVkIiwicGxheWVyQ29udHJvbGxlciIsIml0ZW1Db250cm9sbGVyIiwibnBjQ29udHJvbGxlciIsIm1lc3NhZ2VDb250cm9sbGVyIiwicGxheWVyTG9jYXRpb25zIiwiY2hlc3RMb2NhdGlvbnMiLCJtb25zdGVyTG9jYXRpb25zIiwibnBjTG9jYXRpb25zIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwic2V0dXAiLCJwYXJzZU1hcERhdGEiLCJzZXR1cENvbnRyb2xsZXJzIiwic2V0dXBFdmVudExpc3RlbmVycyIsIk1vbnN0ZXJDb250cm9sbGVyIiwiUGxheWVyQ29udHJvbGxlciIsIkl0ZW1Db250cm9sbGVyIiwiTnBjQ29udHJvbGxlciIsIk1lc3NhZ2VDb250cm9sbGVyIiwiX3RoaXMiLCJsYXllcnMiLCJmb3JFYWNoIiwibGF5ZXIiLCJuYW1lIiwib2JqZWN0cyIsIm9iaiIsInB1c2giLCJ4IiwieSIsInByb3BlcnRpZXMiLCJzcGF3bmVyIiwiX3RoaXMyIiwib24iLCJzb2NrZXQiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY29uY2F0IiwibWVzc2FnZSIsImVtaXQiLCJwbGF5ZXJzIiwibW9uc3RlcnMiLCJjaGVzdHMiLCJpdGVtcyIsIm5wY3MiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyLyIsInNvdXJjZXMiOlsiR2FtZU1hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbGV2ZWxEYXRhIGZyb20gXCIuLi8uLi9wdWJsaWMvYXNzZXRzL2xldmVsL25ld19sZXZlbC5qc29uXCI7XG5cbmltcG9ydCBNb25zdGVyQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9Nb25zdGVyQ29udHJvbGxlclwiO1xuaW1wb3J0IFBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvUGxheWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IEl0ZW1Db250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJzL0l0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgTnBjQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9OcGNDb250cm9sbGVyXCI7XG5pbXBvcnQgTWVzc2FnZUNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvTWVzc2FnZUNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcihpbykge1xuICAgIHRoaXMuaW8gPSBpbztcblxuICAgIHRoaXMubW9uc3RlckNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wbGF5ZXJDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaXRlbUNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5ucGNDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubWVzc2FnZUNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmxldmVsRGF0YSA9IGxldmVsRGF0YTtcblxuICAgIHRoaXMucGxheWVyTG9jYXRpb25zID0gW1syMDAsIDIwMF1dO1xuICAgIHRoaXMuY2hlc3RMb2NhdGlvbnMgPSB7fTtcbiAgICB0aGlzLm1vbnN0ZXJMb2NhdGlvbnMgPSBbXTtcbiAgICB0aGlzLm5wY0xvY2F0aW9ucyA9IFtdO1xuICB9XG5cbiAgc2V0dXAoKSB7XG4gICAgdGhpcy5wYXJzZU1hcERhdGEoKTtcbiAgICB0aGlzLnNldHVwQ29udHJvbGxlcnMoKTtcbiAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldHVwQ29udHJvbGxlcnMoKSB7XG4gICAgdGhpcy5tb25zdGVyQ29udHJvbGxlciA9IG5ldyBNb25zdGVyQ29udHJvbGxlcihcbiAgICAgIHRoaXMuaW8sXG4gICAgICB0aGlzLm1vbnN0ZXJMb2NhdGlvbnNcbiAgICApO1xuICAgIHRoaXMucGxheWVyQ29udHJvbGxlciA9IG5ldyBQbGF5ZXJDb250cm9sbGVyKHRoaXMuaW8sIHRoaXMucGxheWVyTG9jYXRpb25zKTtcbiAgICB0aGlzLml0ZW1Db250cm9sbGVyID0gbmV3IEl0ZW1Db250cm9sbGVyKHRoaXMuaW8pO1xuICAgIHRoaXMubnBjQ29udHJvbGxlciA9IG5ldyBOcGNDb250cm9sbGVyKHRoaXMuaW8sIHRoaXMubnBjTG9jYXRpb25zKTtcbiAgICB0aGlzLm1lc3NhZ2VDb250cm9sbGVyID0gbmV3IE1lc3NhZ2VDb250cm9sbGVyKHRoaXMuaW8pO1xuICB9XG5cbiAgcGFyc2VNYXBEYXRhKCkge1xuICAgIHRoaXMubGV2ZWxEYXRhID0gbGV2ZWxEYXRhO1xuICAgIHRoaXMubGV2ZWxEYXRhLmxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyLm5hbWUgPT09IFwicGxheWVyX2xvY2F0aW9uc1wiKSB7XG4gICAgICAgIGxheWVyLm9iamVjdHMuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXJMb2NhdGlvbnMucHVzaChbb2JqLngsIG9iai55XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChsYXllci5uYW1lID09PSBcIm1vbnN0ZXJfbG9jYXRpb25zXCIpIHtcbiAgICAgICAgbGF5ZXIub2JqZWN0cy5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICB0aGlzLm1vbnN0ZXJMb2NhdGlvbnMucHVzaChbb2JqLngsIG9iai55XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChsYXllci5uYW1lID09PSBcImNoZXN0X2xvY2F0aW9uc1wiKSB7XG4gICAgICAgIGxheWVyLm9iamVjdHMuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY2hlc3RMb2NhdGlvbnNbb2JqLnByb3BlcnRpZXMuc3Bhd25lcl0pIHtcbiAgICAgICAgICAgIHRoaXMuY2hlc3RMb2NhdGlvbnNbb2JqLnByb3BlcnRpZXMuc3Bhd25lcl0ucHVzaChbb2JqLngsIG9iai55XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hlc3RMb2NhdGlvbnNbb2JqLnByb3BlcnRpZXMuc3Bhd25lcl0gPSBbW29iai54LCBvYmoueV1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGxheWVyLm5hbWUgPT09IFwibnBjX2xvY2F0aW9uc1wiKSB7XG4gICAgICAgIGxheWVyLm9iamVjdHMuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubnBjTG9jYXRpb25zW29iai5wcm9wZXJ0aWVzLnNwYXduZXJdKSB7XG4gICAgICAgICAgICB0aGlzLm5wY0xvY2F0aW9ucy5wdXNoKFtvYmoueCwgb2JqLnldKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ucGNMb2NhdGlvbnMucHVzaChbb2JqLngsIG9iai55XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5pby5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xuICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdF9lcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBjb25uZWN0X2Vycm9yIGR1ZSB0byAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubW9uc3RlckNvbnRyb2xsZXIuc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpO1xuICAgICAgdGhpcy5pdGVtQ29udHJvbGxlci5zZXR1cEV2ZW50TGlzdGVuZXJzKHNvY2tldCk7XG4gICAgICB0aGlzLm5wY0NvbnRyb2xsZXIuc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpO1xuICAgICAgdGhpcy5wbGF5ZXJDb250cm9sbGVyLnNldHVwRXZlbnRMaXN0ZW5lcnMoc29ja2V0KTtcbiAgICAgIHRoaXMubWVzc2FnZUNvbnRyb2xsZXIuc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpO1xuXG4gICAgICBzb2NrZXQub24oXCJjdXJyZW50c1wiLCAoKSA9PiB7XG4gICAgICAgIHNvY2tldC5lbWl0KFwiY3VycmVudFBsYXllcnNcIiwgdGhpcy5wbGF5ZXJDb250cm9sbGVyLnBsYXllcnMpO1xuICAgICAgICBzb2NrZXQuZW1pdChcImN1cnJlbnRNb25zdGVyc1wiLCB0aGlzLm1vbnN0ZXJDb250cm9sbGVyLm1vbnN0ZXJzKTtcbiAgICAgICAgc29ja2V0LmVtaXQoXCJjdXJyZW50Q2hlc3RzXCIsIHRoaXMuaXRlbUNvbnRyb2xsZXIuY2hlc3RzKTtcbiAgICAgICAgc29ja2V0LmVtaXQoXCJjdXJyZW50SXRlbXNcIiwgdGhpcy5pdGVtQ29udHJvbGxlci5pdGVtcyk7XG4gICAgICAgIHNvY2tldC5lbWl0KFwiY3VycmVudE5wY3NcIiwgdGhpcy5ucGNDb250cm9sbGVyLm5wY3MpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHBsYXllciBjb25uZWN0ZWQgdG8gb3VyIGdhbWVcbiAgICAgIGNvbnNvbGUubG9nKFwicGxheWVyIGNvbm5lY3RlZCB0byBvdXIgZ2FtZVwiKTtcbiAgICB9KTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsa0JBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLGlCQUFBLEdBQUFELHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSSxlQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSyxjQUFBLEdBQUFILHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBTSxrQkFBQSxHQUFBSixzQkFBQSxDQUFBRixPQUFBO0FBQWdFLFNBQUFPLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBVCx3QkFBQVMsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLGdCQUFBSyxPQUFBLENBQUFMLENBQUEsMEJBQUFBLENBQUEsc0JBQUFBLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FB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","map":{"version":3,"names":["levelData","_interopRequireWildcard","require","_MonsterController","_interopRequireDefault","_PlayerController","_ItemController","_NpcController","_MessageController","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","GameManager","exports","io","_classCallCheck2","monsterController","undefined","playerController","itemController","npcController","messageController","playerLocations","chestLocations","monsterLocations","npcLocations","_createClass2","key","value","setup","parseMapData","setupControllers","setupEventListeners","MonsterController","PlayerController","ItemController","NpcController","MessageController","_this","layers","forEach","layer","name","objects","obj","push","x","y","properties","spawner","_this2","on","socket","err","console","log","concat","message","emit","players","monsters","chests","items","npcs"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/","sources":["GameManager.js"],"sourcesContent":["import * as levelData from \"../../public/assets/level/new_level.json\";\n\nimport MonsterController from \"./controllers/MonsterController\";\nimport PlayerController from \"./controllers/PlayerController\";\nimport ItemController from \"./controllers/ItemController\";\nimport NpcController from \"./controllers/NpcController\";\nimport MessageController from \"./controllers/MessageController\";\n\nexport default class GameManager {\n  constructor(io) {\n    this.io = io;\n\n    this.monsterController = undefined;\n    this.playerController = undefined;\n    this.itemController = undefined;\n    this.npcController = undefined;\n    this.messageController = undefined;\n\n    this.levelData = levelData;\n\n    this.playerLocations = [[200, 200]];\n    this.chestLocations = {};\n    this.monsterLocations = [];\n    this.npcLocations = [];\n  }\n\n  setup() {\n    this.parseMapData();\n    this.setupControllers();\n    this.setupEventListeners();\n  }\n\n  setupControllers() {\n    this.monsterController = new MonsterController(\n      this.io,\n      this.monsterLocations\n    );\n    this.playerController = new PlayerController(this.io, this.playerLocations);\n    this.itemController = new ItemController(this.io);\n    this.npcController = new NpcController(this.io, this.npcLocations);\n    this.messageController = new MessageController(this.io);\n  }\n\n  parseMapData() {\n    this.levelData = levelData;\n    this.levelData.layers.forEach((layer) => {\n      if (layer.name === \"player_locations\") {\n        layer.objects.forEach((obj) => {\n          this.playerLocations.push([obj.x, obj.y]);\n        });\n      } else if (layer.name === \"monster_locations\") {\n        layer.objects.forEach((obj) => {\n          this.monsterLocations.push([obj.x, obj.y]);\n        });\n      } else if (layer.name === \"chest_locations\") {\n        layer.objects.forEach((obj) => {\n          if (this.chestLocations[obj.properties.spawner]) {\n            this.chestLocations[obj.properties.spawner].push([obj.x, obj.y]);\n          } else {\n            this.chestLocations[obj.properties.spawner] = [[obj.x, obj.y]];\n          }\n        });\n      } else if (layer.name === \"npc_locations\") {\n        layer.objects.forEach((obj) => {\n          if (this.npcLocations[obj.properties.spawner]) {\n            this.npcLocations.push([obj.x, obj.y]);\n          } else {\n            this.npcLocations.push([obj.x, obj.y]);\n          }\n        });\n      }\n    });\n  }\n\n  setupEventListeners() {\n    this.io.on(\"connection\", (socket) => {\n      socket.on(\"connect_error\", (err) => {\n        console.log(`connect_error due to ${err.message}`);\n      });\n\n      this.monsterController.setupEventListeners(socket);\n      this.itemController.setupEventListeners(socket);\n      this.npcController.setupEventListeners(socket);\n      this.playerController.setupEventListeners(socket);\n      this.messageController.setupEventListeners(socket);\n\n      socket.on(\"currents\", () => {\n        socket.emit(\"currentPlayers\", this.playerController.players);\n        socket.emit(\"currentMonsters\", this.monsterController.monsters);\n        socket.emit(\"currentChests\", this.itemController.chests);\n        socket.emit(\"currentItems\", this.itemController.items);\n        socket.emit(\"currentNpcs\", this.npcController.npcs);\n      });\n\n      // player connected to our game\n      console.log(\"player connected to our game\");\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719106440322},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/MonsterController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _MonsterModel = _interopRequireDefault(require(\"../../models/MonsterModel\"));\nvar enemyData = _interopRequireWildcard(require(\"../../../public/assets/Enemies/enemies.json\"));\nvar _uuid = require(\"uuid\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar MonsterController = exports[\"default\"] = /*#__PURE__*/function () {\n  function MonsterController(io, locations) {\n    (0, _classCallCheck2[\"default\"])(this, MonsterController);\n    this.monsters = {};\n    this.monsterLocations = locations;\n    this.io = io;\n    this.setupSpawn();\n    this.init();\n  }\n  return (0, _createClass2[\"default\"])(MonsterController, [{\n    key: \"init\",\n    value: function init() {\n      this.update();\n    }\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {\n      var _this = this;\n      return socket.on(\"monsterHit\", function (monsterId, playerAttack, playerId) {\n        if (!_this.monsters[monsterId]) return;\n        var monster = _this.monsters[monsterId];\n        var exp = monster.exp;\n        var playerAttackValue = playerAttack;\n        monster.loseHealth(playerAttackValue);\n        if (monster.health <= 0) {\n          _this.io.emit(\"updateXp\", exp, playerId);\n          _this.deleteMonster(monster.id);\n        } else {\n          socket.emit(\"updateMonsterHealth\", monsterId, monster.health);\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this2 = this;\n      setInterval(function () {\n        Object.keys(_this2.monsters).forEach(function (id) {\n          if (!_this2.monsters[id]) return;\n          _this2._movement(_this2.monsters[id]);\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"setupSpawn\",\n    value: function setupSpawn() {\n      var _this3 = this;\n      setInterval(function () {\n        if (Object.keys(_this3.monsters).length <= 8) {\n          _this3.spawnMonster();\n        }\n      }, 3000);\n    }\n  }, {\n    key: \"pickRandomLocation\",\n    value: function pickRandomLocation() {\n      var location = this.monsterLocations[Math.floor(Math.random() * this.monsterLocations.length)];\n      if (this.monsters.length > 0) {\n        var invalidLocation = this.monsters.some(function (obj) {\n          if (obj.x === location[0] && obj.y === location[1]) {\n            return true;\n          }\n          return false;\n        });\n        if (invalidLocation) return this.pickRandomLocation();\n        return location || [200, 200];\n      }\n      return location || [200, 200];\n    }\n  }, {\n    key: \"spawnMonster\",\n    value: function spawnMonster() {\n      var randomEnemy = enemyData.enemies[Math.floor(Math.random() * enemyData.enemies.length)];\n      var location = this.pickRandomLocation();\n      var monster = new _MonsterModel[\"default\"](location[0], location[1], randomEnemy.goldValue, // gold value\n      \"monster-\".concat((0, _uuid.v4)()), randomEnemy.key,\n      // key\n      randomEnemy.healthValue,\n      // health value\n      randomEnemy.attackValue,\n      // attack value\n      randomEnemy.expValue,\n      // exp value\n      3000 //timer\n      );\n      this.addMonster(monster.id, monster);\n    }\n  }, {\n    key: \"addMonster\",\n    value: function addMonster(monsterId, monster) {\n      this.monsters[monsterId] = monster;\n      this.io.emit(\"monsterSpawned\", monster);\n    }\n  }, {\n    key: \"deleteMonster\",\n    value: function deleteMonster(monsterId) {\n      delete this.monsters[monsterId];\n      this.io.emit(\"monsterRemoved\", monsterId);\n    }\n  }, {\n    key: \"addLocation\",\n    value: function addLocation(x, y) {\n      this.monsterLocations.push([x, y]);\n    }\n  }, {\n    key: \"getMonsterList\",\n    value: function getMonsterList() {\n      return this.monsters;\n    }\n  }, {\n    key: \"getMonster\",\n    value: function getMonster(monsterId) {\n      return this.monsters[monsterId];\n    }\n  }, {\n    key: \"getMonsterLocationList\",\n    value: function getMonsterLocationList() {\n      return this.monsterLocations;\n    }\n  }, {\n    key: \"_movement\",\n    value: function _movement(monster) {\n      monster.move();\n      this.io.emit(\"monsterMovement\", monster);\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTW9uc3Rlck1vZGVsIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlbmVteURhdGEiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl91dWlkIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiTW9uc3RlckNvbnRyb2xsZXIiLCJleHBvcnRzIiwiaW8iLCJsb2NhdGlvbnMiLCJfY2xhc3NDYWxsQ2hlY2syIiwibW9uc3RlcnMiLCJtb25zdGVyTG9jYXRpb25zIiwic2V0dXBTcGF3biIsImluaXQiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJ1cGRhdGUiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwic29ja2V0IiwiX3RoaXMiLCJvbiIsIm1vbnN0ZXJJZCIsInBsYXllckF0dGFjayIsInBsYXllcklkIiwibW9uc3RlciIsImV4cCIsInBsYXllckF0dGFja1ZhbHVlIiwibG9zZUhlYWx0aCIsImhlYWx0aCIsImVtaXQiLCJkZWxldGVNb25zdGVyIiwiaWQiLCJfdGhpczIiLCJzZXRJbnRlcnZhbCIsImtleXMiLCJmb3JFYWNoIiwiX21vdmVtZW50IiwiX3RoaXMzIiwibGVuZ3RoIiwic3Bhd25Nb25zdGVyIiwicGlja1JhbmRvbUxvY2F0aW9uIiwibG9jYXRpb24iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpbnZhbGlkTG9jYXRpb24iLCJzb21lIiwib2JqIiwieCIsInkiLCJyYW5kb21FbmVteSIsImVuZW1pZXMiLCJNb25zdGVyTW9kZWwiLCJnb2xkVmFsdWUiLCJjb25jYXQiLCJ2NCIsImhlYWx0aFZhbHVlIiwiYXR0YWNrVmFsdWUiLCJleHBWYWx1ZSIsImFkZE1vbnN0ZXIiLCJhZGRMb2NhdGlvbiIsInB1c2giLCJnZXRNb25zdGVyTGlzdCIsImdldE1vbnN0ZXIiLCJnZXRNb25zdGVyTG9jYXRpb25MaXN0IiwibW92ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9nYW1lX21hbmFnZXIvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJNb25zdGVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9uc3Rlck1vZGVsIGZyb20gXCIuLi8uLi9tb2RlbHMvTW9uc3Rlck1vZGVsXCI7XG5pbXBvcnQgKiBhcyBlbmVteURhdGEgZnJvbSBcIi4uLy4uLy4uL3B1YmxpYy9hc3NldHMvRW5lbWllcy9lbmVtaWVzLmpzb25cIjtcbmltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uc3RlckNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihpbywgbG9jYXRpb25zKSB7XG4gICAgdGhpcy5tb25zdGVycyA9IHt9O1xuICAgIHRoaXMubW9uc3RlckxvY2F0aW9ucyA9IGxvY2F0aW9ucztcbiAgICB0aGlzLmlvID0gaW87XG5cbiAgICB0aGlzLnNldHVwU3Bhd24oKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHNldHVwRXZlbnRMaXN0ZW5lcnMoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcIm1vbnN0ZXJIaXRcIiwgKG1vbnN0ZXJJZCwgcGxheWVyQXR0YWNrLCBwbGF5ZXJJZCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLm1vbnN0ZXJzW21vbnN0ZXJJZF0pIHJldHVybjtcbiAgICAgIGNvbnN0IG1vbnN0ZXIgPSB0aGlzLm1vbnN0ZXJzW21vbnN0ZXJJZF07XG4gICAgICBjb25zdCB7IGV4cCB9ID0gbW9uc3RlcjtcbiAgICAgIGNvbnN0IHBsYXllckF0dGFja1ZhbHVlID0gcGxheWVyQXR0YWNrO1xuICAgICAgbW9uc3Rlci5sb3NlSGVhbHRoKHBsYXllckF0dGFja1ZhbHVlKTtcblxuICAgICAgaWYgKG1vbnN0ZXIuaGVhbHRoIDw9IDApIHtcbiAgICAgICAgdGhpcy5pby5lbWl0KFwidXBkYXRlWHBcIiwgZXhwLCBwbGF5ZXJJZCk7XG4gICAgICAgIHRoaXMuZGVsZXRlTW9uc3Rlcihtb25zdGVyLmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlTW9uc3RlckhlYWx0aFwiLCBtb25zdGVySWQsIG1vbnN0ZXIuaGVhbHRoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLm1vbnN0ZXJzKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMubW9uc3RlcnNbaWRdKSByZXR1cm47XG4gICAgICAgIHRoaXMuX21vdmVtZW50KHRoaXMubW9uc3RlcnNbaWRdKTtcbiAgICAgIH0pO1xuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgc2V0dXBTcGF3bigpIHtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5tb25zdGVycykubGVuZ3RoIDw9IDgpIHtcbiAgICAgICAgdGhpcy5zcGF3bk1vbnN0ZXIoKTtcbiAgICAgIH1cbiAgICB9LCAzMDAwKTtcbiAgfVxuXG4gIHBpY2tSYW5kb21Mb2NhdGlvbigpIHtcbiAgICBjb25zdCBsb2NhdGlvbiA9XG4gICAgICB0aGlzLm1vbnN0ZXJMb2NhdGlvbnNbXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMubW9uc3RlckxvY2F0aW9ucy5sZW5ndGgpXG4gICAgICBdO1xuICAgIGlmICh0aGlzLm1vbnN0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGludmFsaWRMb2NhdGlvbiA9IHRoaXMubW9uc3RlcnMuc29tZSgob2JqKSA9PiB7XG4gICAgICAgIGlmIChvYmoueCA9PT0gbG9jYXRpb25bMF0gJiYgb2JqLnkgPT09IGxvY2F0aW9uWzFdKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpbnZhbGlkTG9jYXRpb24pIHJldHVybiB0aGlzLnBpY2tSYW5kb21Mb2NhdGlvbigpO1xuICAgICAgcmV0dXJuIGxvY2F0aW9uIHx8IFsyMDAsIDIwMF07XG4gICAgfVxuICAgIHJldHVybiBsb2NhdGlvbiB8fCBbMjAwLCAyMDBdO1xuICB9XG5cbiAgc3Bhd25Nb25zdGVyKCkge1xuICAgIGNvbnN0IHJhbmRvbUVuZW15ID1cbiAgICAgIGVuZW15RGF0YS5lbmVtaWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVuZW15RGF0YS5lbmVtaWVzLmxlbmd0aCldO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5waWNrUmFuZG9tTG9jYXRpb24oKTtcbiAgICBjb25zdCBtb25zdGVyID0gbmV3IE1vbnN0ZXJNb2RlbChcbiAgICAgIGxvY2F0aW9uWzBdLFxuICAgICAgbG9jYXRpb25bMV0sXG4gICAgICByYW5kb21FbmVteS5nb2xkVmFsdWUsIC8vIGdvbGQgdmFsdWVcbiAgICAgIGBtb25zdGVyLSR7djQoKX1gLFxuICAgICAgcmFuZG9tRW5lbXkua2V5LCAvLyBrZXlcbiAgICAgIHJhbmRvbUVuZW15LmhlYWx0aFZhbHVlLCAvLyBoZWFsdGggdmFsdWVcbiAgICAgIHJhbmRvbUVuZW15LmF0dGFja1ZhbHVlLCAvLyBhdHRhY2sgdmFsdWVcbiAgICAgIHJhbmRvbUVuZW15LmV4cFZhbHVlLCAvLyBleHAgdmFsdWVcbiAgICAgIDMwMDAgLy90aW1lclxuICAgICk7XG4gICAgdGhpcy5hZGRNb25zdGVyKG1vbnN0ZXIuaWQsIG1vbnN0ZXIpO1xuICB9XG5cbiAgYWRkTW9uc3Rlcihtb25zdGVySWQsIG1vbnN0ZXIpIHtcbiAgICB0aGlzLm1vbnN0ZXJzW21vbnN0ZXJJZF0gPSBtb25zdGVyO1xuICAgIHRoaXMuaW8uZW1pdChcIm1vbnN0ZXJTcGF3bmVkXCIsIG1vbnN0ZXIpO1xuICB9XG5cbiAgZGVsZXRlTW9uc3Rlcihtb25zdGVySWQpIHtcbiAgICBkZWxldGUgdGhpcy5tb25zdGVyc1ttb25zdGVySWRdO1xuICAgIHRoaXMuaW8uZW1pdChcIm1vbnN0ZXJSZW1vdmVkXCIsIG1vbnN0ZXJJZCk7XG4gIH1cblxuICBhZGRMb2NhdGlvbih4LCB5KSB7XG4gICAgdGhpcy5tb25zdGVyTG9jYXRpb25zLnB1c2goW3gsIHldKTtcbiAgfVxuXG4gIGdldE1vbnN0ZXJMaXN0KCkge1xuICAgIHJldHVybiB0aGlzLm1vbnN0ZXJzO1xuICB9XG5cbiAgZ2V0TW9uc3Rlcihtb25zdGVySWQpIHtcbiAgICByZXR1cm4gdGhpcy5tb25zdGVyc1ttb25zdGVySWRdO1xuICB9XG4gIGdldE1vbnN0ZXJMb2NhdGlvbkxpc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9uc3RlckxvY2F0aW9ucztcbiAgfVxuXG4gIF9tb3ZlbWVudChtb25zdGVyKSB7XG4gICAgbW9uc3Rlci5tb3ZlKCk7XG4gICAgdGhpcy5pby5lbWl0KFwibW9uc3Rlck1vdmVtZW50XCIsIG1vbnN0ZXIpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFDLHVCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFILE9BQUE7QUFBMEIsU0FBQUkseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEs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","map":{"version":3,"names":["_MonsterModel","_interopRequireDefault","require","enemyData","_interopRequireWildcard","_uuid","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","MonsterController","exports","io","locations","_classCallCheck2","monsters","monsterLocations","setupSpawn","init","_createClass2","key","value","update","setupEventListeners","socket","_this","on","monsterId","playerAttack","playerId","monster","exp","playerAttackValue","loseHealth","health","emit","deleteMonster","id","_this2","setInterval","keys","forEach","_movement","_this3","length","spawnMonster","pickRandomLocation","location","Math","floor","random","invalidLocation","some","obj","x","y","randomEnemy","enemies","MonsterModel","goldValue","concat","v4","healthValue","attackValue","expValue","addMonster","addLocation","push","getMonsterList","getMonster","getMonsterLocationList","move"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["MonsterController.js"],"sourcesContent":["import MonsterModel from \"../../models/MonsterModel\";\nimport * as enemyData from \"../../../public/assets/Enemies/enemies.json\";\nimport { v4 } from \"uuid\";\n\nexport default class MonsterController {\n  constructor(io, locations) {\n    this.monsters = {};\n    this.monsterLocations = locations;\n    this.io = io;\n\n    this.setupSpawn();\n    this.init();\n  }\n\n  init() {\n    this.update();\n  }\n\n  setupEventListeners(socket) {\n    return socket.on(\"monsterHit\", (monsterId, playerAttack, playerId) => {\n      if (!this.monsters[monsterId]) return;\n      const monster = this.monsters[monsterId];\n      const { exp } = monster;\n      const playerAttackValue = playerAttack;\n      monster.loseHealth(playerAttackValue);\n\n      if (monster.health <= 0) {\n        this.io.emit(\"updateXp\", exp, playerId);\n        this.deleteMonster(monster.id);\n      } else {\n        socket.emit(\"updateMonsterHealth\", monsterId, monster.health);\n      }\n    });\n  }\n\n  update() {\n    setInterval(() => {\n      Object.keys(this.monsters).forEach((id) => {\n        if (!this.monsters[id]) return;\n        this._movement(this.monsters[id]);\n      });\n    }, 1000);\n  }\n\n  setupSpawn() {\n    setInterval(() => {\n      if (Object.keys(this.monsters).length <= 8) {\n        this.spawnMonster();\n      }\n    }, 3000);\n  }\n\n  pickRandomLocation() {\n    const location =\n      this.monsterLocations[\n        Math.floor(Math.random() * this.monsterLocations.length)\n      ];\n    if (this.monsters.length > 0) {\n      const invalidLocation = this.monsters.some((obj) => {\n        if (obj.x === location[0] && obj.y === location[1]) {\n          return true;\n        }\n        return false;\n      });\n\n      if (invalidLocation) return this.pickRandomLocation();\n      return location || [200, 200];\n    }\n    return location || [200, 200];\n  }\n\n  spawnMonster() {\n    const randomEnemy =\n      enemyData.enemies[Math.floor(Math.random() * enemyData.enemies.length)];\n    const location = this.pickRandomLocation();\n    const monster = new MonsterModel(\n      location[0],\n      location[1],\n      randomEnemy.goldValue, // gold value\n      `monster-${v4()}`,\n      randomEnemy.key, // key\n      randomEnemy.healthValue, // health value\n      randomEnemy.attackValue, // attack value\n      randomEnemy.expValue, // exp value\n      3000 //timer\n    );\n    this.addMonster(monster.id, monster);\n  }\n\n  addMonster(monsterId, monster) {\n    this.monsters[monsterId] = monster;\n    this.io.emit(\"monsterSpawned\", monster);\n  }\n\n  deleteMonster(monsterId) {\n    delete this.monsters[monsterId];\n    this.io.emit(\"monsterRemoved\", monsterId);\n  }\n\n  addLocation(x, y) {\n    this.monsterLocations.push([x, y]);\n  }\n\n  getMonsterList() {\n    return this.monsters;\n  }\n\n  getMonster(monsterId) {\n    return this.monsters[monsterId];\n  }\n  getMonsterLocationList() {\n    return this.monsterLocations;\n  }\n\n  _movement(monster) {\n    monster.move();\n    this.io.emit(\"monsterMovement\", monster);\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719106483777},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/MonsterModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _uuid = require(\"uuid\");\nvar _utils = require(\"../game_manager/utils\");\nvar MonsterModel = exports[\"default\"] = /*#__PURE__*/function () {\n  function MonsterModel(x, y, gold, spawnerId, key, health, attack, exp, stateTime) {\n    (0, _classCallCheck2[\"default\"])(this, MonsterModel);\n    this.id = \"\".concat(spawnerId, \"-\").concat((0, _uuid.v4)());\n    this.spawnerId = spawnerId;\n    this.x = x * 2;\n    this.y = y * 2;\n    this.gold = gold;\n    this.key = key;\n    this.health = health;\n    this.maxHealth = health;\n    this.attack = attack;\n    this.exp = exp;\n    this.stateTime = stateTime;\n    this.randomPosition = (0, _utils.randomNumber)(1, 8);\n    this.targetPos = {\n      x: 0,\n      y: 0\n    };\n  }\n  return (0, _createClass2[\"default\"])(MonsterModel, [{\n    key: \"setTarget\",\n    value: function setTarget(target) {\n      this.targetPos = {\n        x: target.x,\n        y: target.y\n      };\n    }\n  }, {\n    key: \"move\",\n    value: function move() {\n      var randomPosition = (0, _utils.randomNumber)(1, 9);\n      var distance = 64;\n      switch (randomPosition) {\n        case 1:\n          this.setTarget({\n            x: this.x += distance,\n            y: this.y\n          });\n          break;\n        case 2:\n          this.setTarget({\n            x: this.x -= distance,\n            y: this.y\n          });\n          break;\n        case 3:\n          this.setTarget({\n            x: this.x,\n            y: this.y += distance\n          });\n          break;\n        case 4:\n          this.setTarget({\n            x: this.x,\n            y: this.y -= distance\n          });\n          break;\n        case 5:\n          this.setTarget({\n            x: this.x += distance,\n            y: this.y += distance\n          });\n          break;\n        case 6:\n          this.setTarget({\n            x: this.x += distance,\n            y: this.y -= distance\n          });\n          break;\n        case 7:\n          this.setTarget({\n            x: this.x -= distance,\n            y: this.y += distance\n          });\n          break;\n        case 8:\n          this.setTarget({\n            x: this.x -= distance,\n            y: this.y -= distance\n          });\n          break;\n        case 9:\n          this.setTarget({\n            x: this.x,\n            y: this.y\n          });\n          break;\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"loseHealth\",\n    value: function loseHealth(attack) {\n      this.health -= attack;\n    }\n  }, {\n    key: \"getId\",\n    value: function getId() {\n      return this.id;\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXVpZCIsInJlcXVpcmUiLCJfdXRpbHMiLCJNb25zdGVyTW9kZWwiLCJleHBvcnRzIiwieCIsInkiLCJnb2xkIiwic3Bhd25lcklkIiwia2V5IiwiaGVhbHRoIiwiYXR0YWNrIiwiZXhwIiwic3RhdGVUaW1lIiwiX2NsYXNzQ2FsbENoZWNrMiIsImlkIiwiY29uY2F0IiwidjQiLCJtYXhIZWFsdGgiLCJyYW5kb21Qb3NpdGlvbiIsInJhbmRvbU51bWJlciIsInRhcmdldFBvcyIsIl9jcmVhdGVDbGFzczIiLCJ2YWx1ZSIsInNldFRhcmdldCIsInRhcmdldCIsIm1vdmUiLCJkaXN0YW5jZSIsImxvc2VIZWFsdGgiLCJnZXRJZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJNb25zdGVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xuaW1wb3J0IHsgcmFuZG9tTnVtYmVyIH0gZnJvbSBcIi4uL2dhbWVfbWFuYWdlci91dGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb25zdGVyTW9kZWwge1xuICBjb25zdHJ1Y3Rvcih4LCB5LCBnb2xkLCBzcGF3bmVySWQsIGtleSwgaGVhbHRoLCBhdHRhY2ssIGV4cCwgc3RhdGVUaW1lKSB7XG4gICAgdGhpcy5pZCA9IGAke3NwYXduZXJJZH0tJHt2NCgpfWA7XG4gICAgdGhpcy5zcGF3bmVySWQgPSBzcGF3bmVySWQ7XG4gICAgdGhpcy54ID0geCAqIDI7XG4gICAgdGhpcy55ID0geSAqIDI7XG4gICAgdGhpcy5nb2xkID0gZ29sZDtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLmhlYWx0aCA9IGhlYWx0aDtcbiAgICB0aGlzLm1heEhlYWx0aCA9IGhlYWx0aDtcbiAgICB0aGlzLmF0dGFjayA9IGF0dGFjaztcbiAgICB0aGlzLmV4cCA9IGV4cDtcbiAgICB0aGlzLnN0YXRlVGltZSA9IHN0YXRlVGltZTtcbiAgICB0aGlzLnJhbmRvbVBvc2l0aW9uID0gcmFuZG9tTnVtYmVyKDEsIDgpO1xuICAgIHRoaXMudGFyZ2V0UG9zID0geyB4OiAwLCB5OiAwIH07XG4gIH1cblxuICBzZXRUYXJnZXQodGFyZ2V0KSB7XG4gICAgdGhpcy50YXJnZXRQb3MgPSB7XG4gICAgICB4OiB0YXJnZXQueCxcbiAgICAgIHk6IHRhcmdldC55LFxuICAgIH07XG4gIH1cbiAgbW92ZSgpIHtcbiAgICBjb25zdCByYW5kb21Qb3NpdGlvbiA9IHJhbmRvbU51bWJlcigxLCA5KTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IDY0O1xuICAgIHN3aXRjaCAocmFuZG9tUG9zaXRpb24pIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiAodGhpcy54ICs9IGRpc3RhbmNlKSwgeTogdGhpcy55IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiAodGhpcy54IC09IGRpc3RhbmNlKSwgeTogdGhpcy55IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiB0aGlzLngsIHk6ICh0aGlzLnkgKz0gZGlzdGFuY2UpIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiB0aGlzLngsIHk6ICh0aGlzLnkgLT0gZGlzdGFuY2UpIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiAodGhpcy54ICs9IGRpc3RhbmNlKSwgeTogKHRoaXMueSArPSBkaXN0YW5jZSkgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2OlxuICAgICAgICB0aGlzLnNldFRhcmdldCh7IHg6ICh0aGlzLnggKz0gZGlzdGFuY2UpLCB5OiAodGhpcy55IC09IGRpc3RhbmNlKSB9KTtcblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNzpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiAodGhpcy54IC09IGRpc3RhbmNlKSwgeTogKHRoaXMueSArPSBkaXN0YW5jZSkgfSk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDg6XG4gICAgICAgIHRoaXMuc2V0VGFyZ2V0KHsgeDogKHRoaXMueCAtPSBkaXN0YW5jZSksIHk6ICh0aGlzLnkgLT0gZGlzdGFuY2UpIH0pO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA5OlxuICAgICAgICB0aGlzLnNldFRhcmdldCh7IHg6IHRoaXMueCwgeTogdGhpcy55IH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgbG9zZUhlYWx0aChhdHRhY2spIHtcbiAgICB0aGlzLmhlYWx0aCAtPSBhdHRhY2s7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFBcUQsSUFFaENFLFlBQVksR0FBQUMsT0FBQTtFQUMvQixTQUFBRCxhQUFZRSxDQUFDLEVBQUVDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLEdBQUcsRUFBRUMsU0FBUyxFQUFFO0lBQUEsSUFBQUMsZ0JBQUEsbUJBQUFYLFlBQUE7SUFDdEUsSUFBSSxDQUFDWSxFQUFFLE1BQUFDLE1BQUEsQ0FBTVIsU0FBUyxPQUFBUSxNQUFBLENBQUksSUFBQUMsUUFBRSxFQUFDLENBQUMsQ0FBRTtJQUNoQyxJQUFJLENBQUNULFNBQVMsR0FBR0EsU0FB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","map":{"version":3,"names":["_uuid","require","_utils","MonsterModel","exports","x","y","gold","spawnerId","key","health","attack","exp","stateTime","_classCallCheck2","id","concat","v4","maxHealth","randomPosition","randomNumber","targetPos","_createClass2","value","setTarget","target","move","distance","loseHealth","getId"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["MonsterModel.js"],"sourcesContent":["import { v4 } from \"uuid\";\nimport { randomNumber } from \"../game_manager/utils\";\n\nexport default class MonsterModel {\n  constructor(x, y, gold, spawnerId, key, health, attack, exp, stateTime) {\n    this.id = `${spawnerId}-${v4()}`;\n    this.spawnerId = spawnerId;\n    this.x = x * 2;\n    this.y = y * 2;\n    this.gold = gold;\n    this.key = key;\n    this.health = health;\n    this.maxHealth = health;\n    this.attack = attack;\n    this.exp = exp;\n    this.stateTime = stateTime;\n    this.randomPosition = randomNumber(1, 8);\n    this.targetPos = { x: 0, y: 0 };\n  }\n\n  setTarget(target) {\n    this.targetPos = {\n      x: target.x,\n      y: target.y,\n    };\n  }\n  move() {\n    const randomPosition = randomNumber(1, 9);\n    const distance = 64;\n    switch (randomPosition) {\n      case 1:\n        this.setTarget({ x: (this.x += distance), y: this.y });\n        break;\n      case 2:\n        this.setTarget({ x: (this.x -= distance), y: this.y });\n        break;\n      case 3:\n        this.setTarget({ x: this.x, y: (this.y += distance) });\n        break;\n      case 4:\n        this.setTarget({ x: this.x, y: (this.y -= distance) });\n        break;\n      case 5:\n        this.setTarget({ x: (this.x += distance), y: (this.y += distance) });\n        break;\n      case 6:\n        this.setTarget({ x: (this.x += distance), y: (this.y -= distance) });\n\n        break;\n      case 7:\n        this.setTarget({ x: (this.x -= distance), y: (this.y += distance) });\n\n        break;\n      case 8:\n        this.setTarget({ x: (this.x -= distance), y: (this.y -= distance) });\n\n        break;\n      case 9:\n        this.setTarget({ x: this.x, y: this.y });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  loseHealth(attack) {\n    this.health -= attack;\n  }\n\n  getId() {\n    return this.id;\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WeaponTypes = exports.SpawnerType = void 0;\nexports.getRandonValues = getRandonValues;\nexports.randomNumber = randomNumber;\nvar SpawnerType = exports.SpawnerType = {\n  MONSTER: 'MONSTER',\n  CHEST: 'CHEST',\n  ITEM: 'ITEM',\n  NPC: 'NPC'\n};\nvar WeaponTypes = exports.WeaponTypes = {\n  MELEE: 'MELEE',\n  RANGED: 'RANGED',\n  MAGIC: 'MAGIC',\n  POTION: 'POTION',\n  GEAR: 'GEAR'\n};\nfunction randomNumber(min, max) {\n  return Math.floor(Math.random() * max) + min;\n}\nfunction getRandonValues() {\n  var bonus = [-3, -5, -6, 0, 5, 3, 4, 7, 2, 1, 8, 10, 11, 23, 12, 13, 14, 15, 16, 9];\n  return bonus[Math.floor(Math.random() * bonus.length)];\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTcGF3bmVyVHlwZSIsImV4cG9ydHMiLCJNT05TVEVSIiwiQ0hFU1QiLCJJVEVNIiwiTlBDIiwiV2VhcG9uVHlwZXMiLCJNRUxFRSIsIlJBTkdFRCIsIk1BR0lDIiwiUE9USU9OIiwiR0VBUiIsInJhbmRvbU51bWJlciIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdldFJhbmRvblZhbHVlcyIsImJvbnVzIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZmFicmljaW9vbGl2ZWlyYS9EZXZlbG9wZXIvZnVsbHN0YWNrLWhlcm8tam91cm5leS9zZXJ2ZXIvc3JjL2dhbWVfbWFuYWdlci8iLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBTcGF3bmVyVHlwZSA9IHtcbiAgTU9OU1RFUjogJ01PTlNURVInLFxuICBDSEVTVDogJ0NIRVNUJyxcbiAgSVRFTTogJ0lURU0nLFxuICBOUEM6ICdOUEMnLFxuXG59O1xuXG5leHBvcnQgY29uc3QgV2VhcG9uVHlwZXMgPSB7XG4gIE1FTEVFOiAnTUVMRUUnLFxuICBSQU5HRUQ6ICdSQU5HRUQnLFxuICBNQUdJQzogJ01BR0lDJyxcbiAgUE9USU9OOiAnUE9USU9OJyxcbiAgR0VBUjogJ0dFQVInLFxuXG5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21OdW1iZXIobWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCkgKyBtaW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb25WYWx1ZXMoKSB7XG4gIGNvbnN0IGJvbnVzID0gW1xuICAgIC0zLCAtNSwgLTYsIDAsIDUsIDMsIDQsIDcsIDIsIDEsIDgsIDEwLCAxMSwgMjMsIDEyLCAxMywgMTQsIDE1LCAxNiwgOSxcbiAgXTtcbiAgcmV0dXJuIGJvbnVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJvbnVzLmxlbmd0aCldO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTyxJQUFNQSxXQUFXLEdBQUFDLE9BQUEsQ0FBQUQsV0FBQSxHQUFHO0VBQ3pCRSxPQUFPLEVBQUUsU0FBUztFQUNsQkMsS0FBSyxFQUFFLE9BQU87RUFDZEMsSUFBSSxFQUFFLE1BQU07RUFDWkMsR0FBRyxFQUFFO0FBRVAsQ0FBQztBQUVNLElBQU1DLFdBQVcsR0FBQUwsT0FBQSxDQUFBSyxXQUFBLEdBQUc7RUFDekJDLEtBQUssRUFBRSxPQUFPO0VBQ2RDLE1BQU0sRUFBRSxRQUFRO0VBQ2hCQyxLQUFLLEVBQUUsT0FBTztFQUNkQyxNQUFNLEVBQUUsUUFBUTtFQUNoQkMsSUFBSSxFQUFFO0FBR1IsQ0FBQztBQUVNLFNBQVNDLFlBQVlBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0VBQ3JDLE9BQU9DLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEdBQUdILEdBQUcsQ0FBQyxHQUFHRCxHQUFHO0FBQzlDO0FBRU8sU0FBU0ssZUFBZUEsQ0FBQSxFQUFHO0VBQ2hDLElBQU1DLEtBQUssR0FBRyxDQUNaLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ3RFO0VBQ0QsT0FBT0EsS0FBSyxDQUFDSixJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQyxHQUFHRSxLQUFLLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBQ3hEIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["SpawnerType","exports","MONSTER","CHEST","ITEM","NPC","WeaponTypes","MELEE","RANGED","MAGIC","POTION","GEAR","randomNumber","min","max","Math","floor","random","getRandonValues","bonus","length"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/","sources":["utils.js"],"sourcesContent":["export const SpawnerType = {\n  MONSTER: 'MONSTER',\n  CHEST: 'CHEST',\n  ITEM: 'ITEM',\n  NPC: 'NPC',\n\n};\n\nexport const WeaponTypes = {\n  MELEE: 'MELEE',\n  RANGED: 'RANGED',\n  MAGIC: 'MAGIC',\n  POTION: 'POTION',\n  GEAR: 'GEAR',\n\n\n};\n\nexport function randomNumber(min, max) {\n  return Math.floor(Math.random() * max) + min;\n}\n\nexport function getRandonValues() {\n  const bonus = [\n    -3, -5, -6, 0, 5, 3, 4, 7, 2, 1, 8, 10, 11, 23, 12, 13, 14, 15, 16, 9,\n  ];\n  return bonus[Math.floor(Math.random() * bonus.length)];\n}"],"mappings":";;;;;;;;AAAO,IAAMA,WAAW,GAAAC,OAAA,CAAAD,WAAA,GAAG;EACzBE,OAAO,EAAE,SAAS;EAClBC,KAAK,EAAE,OAAO;EACdC,IAAI,EAAE,MAAM;EACZC,GAAG,EAAE;AAEP,CAAC;AAEM,IAAMC,WAAW,GAAAL,OAAA,CAAAK,WAAA,GAAG;EACzBC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,QAAQ;EAChBC,IAAI,EAAE;AAGR,CAAC;AAEM,SAASC,YAAYA,CAACC,GAAG,EAAEC,GAAG,EAAE;EACrC,OAAOC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGH,GAAG,CAAC,GAAGD,GAAG;AAC9C;AAEO,SAASK,eAAeA,CAAA,EAAG;EAChC,IAAMC,KAAK,GAAG,CACZ,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACtE;EACD,OAAOA,KAAK,CAACJ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGE,KAAK,CAACC,MAAM,CAAC,CAAC;AACxD","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/PlayerController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _UserModel = _interopRequireDefault(require(\"../../models/UserModel\"));\nvar _PlayerModel = _interopRequireDefault(require(\"../../models/PlayerModel\"));\nvar PlayerController = exports[\"default\"] = /*#__PURE__*/function () {\n  function PlayerController(io, playerLocations) {\n    (0, _classCallCheck2[\"default\"])(this, PlayerController);\n    this.players = {};\n    this.playerLocations = playerLocations;\n    this.io = io;\n  }\n  return (0, _createClass2[\"default\"])(PlayerController, [{\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {\n      var _this = this;\n      this._eventNewPlayer(socket);\n      this._eventPlayerMovement(socket);\n      this._eventPickupChest(socket);\n      this._eventPickupItem(socket);\n      this._eventPlayerDroppedItem(socket);\n      this._eventPlayerEquipedItem(socket);\n      this._eventPlayerUnequipedItem(socket);\n      this._eventHealthPotion(socket);\n      this._eventAttackedPlayer(socket);\n      this._eventPlayerHit(socket);\n      this._eventSendBuyItemMessage(socket);\n      this._eventPlayerUpdateXp(socket);\n      this._eventLevelUp(socket);\n      this._eventDisconnect(socket);\n      this._eventSavePlayerData(socket);\n      socket.on(\"playerGetItem\", function (item, playerId) {\n        var player = _this.players[playerId];\n        player.addItem(item);\n        socket.emit(\"updateItems\", player);\n        socket.broadcast.emit(\"updatePlayersItems\", playerId, player);\n      });\n    }\n  }, {\n    key: \"_eventSavePlayerData\",\n    value: function _eventSavePlayerData(socket) {\n      var _this2 = this;\n      return socket.on(\"savePlayerData\", /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              if (!_this2.players[socket.id].items) {\n                _this2.players[socket.id].items = null;\n              }\n              if (!_this2.players[socket.id].equipedItems) {\n                _this2.players[socket.id].equipedItems = null;\n              }\n              _context.next = 5;\n              return _UserModel[\"default\"].updateOne({\n                username: _this2.players[socket.id].playerName\n              }, {\n                $set: {\n                  player: _this2.players[socket.id]\n                }\n              });\n            case 5:\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      })));\n    }\n  }, {\n    key: \"_eventNewPlayer\",\n    value: function _eventNewPlayer(socket) {\n      var _this3 = this;\n      return socket.on(\"newPlayer\", /*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(token, key, instanceId) {\n          var decoded, _decoded$user, name, _id, playerSchema, player;\n          return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                decoded = _jsonwebtoken[\"default\"].verify(token, process.env.JWT_SECRET);\n                _decoded$user = decoded.user, name = _decoded$user.name, _id = _decoded$user._id;\n                _context2.next = 5;\n                return _UserModel[\"default\"].findById(_id);\n              case 5:\n                playerSchema = _context2.sent;\n                console.log(name);\n                player = _this3._spawnPlayer(socket.id, name, key, playerSchema.player);\n                socket.emit(\"currentPlayers\", _this3.players, instanceId);\n\n                // inform the other players of the new player that joined\n                socket.broadcast.emit(\"spawnPlayer\", player);\n                socket.emit(\"updateItems\", player);\n                socket.broadcast.emit(\"updatePlayersItems\", socket.id, player);\n                _context2.next = 18;\n                break;\n              case 14:\n                _context2.prev = 14;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n                socket.emit(\"invalidToken\");\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, null, [[0, 14]]);\n        }));\n        return function (_x, _x2, _x3) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"_eventPlayerMovement\",\n    value: function _eventPlayerMovement(socket) {\n      var _this4 = this;\n      return socket.on(\"playerMovement\", function (playerData) {\n        if (_this4.players[socket.id]) {\n          _this4.players[socket.id].x = playerData.x;\n          _this4.players[socket.id].y = playerData.y;\n          _this4.players[socket.id].flipX = playerData.flipX;\n          _this4.players[socket.id].actionAActive = playerData.actionAActive;\n          _this4.players[socket.id].potionAActive = playerData.potionAActive;\n          _this4.players[socket.id].frame = playerData.frame;\n          _this4.players[socket.id].currentDirection = playerData.currentDirection;\n          // emit a message to all players about the player that moved\n          _this4.io.emit(\"playerMoved\", _this4.players[socket.id]);\n        }\n      });\n    }\n  }, {\n    key: \"_eventPickupChest\",\n    value: function _eventPickupChest(socket) {\n      var _this5 = this;\n      return socket.on(\"pickUpChest\", function (chestId) {\n        var player = _this5.players[socket.id];\n        player.updateGold(20);\n        socket.emit(\"updateScore\", player.gold);\n        socket.broadcast.emit(\"updatePlayersScore\", socket.id, player.gold);\n        _this5.io.emit(\"chestRemoved\", chestId);\n      });\n    }\n  }, {\n    key: \"_eventPickupItem\",\n    value: function _eventPickupItem(socket) {\n      var _this6 = this;\n      return socket.on(\"pickUpItem\", function (itemId) {\n        var player = _this6.players[socket.id];\n        if (player.canPickupItem()) {\n          socket.emit(\"collectItem\", itemId);\n        }\n      });\n    }\n  }, {\n    key: \"_eventPlayerDroppedItem\",\n    value: function _eventPlayerDroppedItem(socket) {\n      var _this7 = this;\n      return socket.on(\"playerDroppedItem\", function (itemId) {\n        _this7.players[socket.id].removeItem(itemId);\n        socket.emit(\"updateItems\", _this7.players[socket.id]);\n        socket.broadcast.emit(\"updatePlayersItems\", socket.id, _this7.players[socket.id]);\n      });\n    }\n  }, {\n    key: \"_eventPlayerEquipedItem\",\n    value: function _eventPlayerEquipedItem(socket) {\n      var _this8 = this;\n      return socket.on(\"playerEquipedItem\", function (itemId) {\n        if (_this8.players[socket.id].items[itemId]) {\n          if (_this8.players[socket.id].canEquipItem()) {\n            _this8.players[socket.id].equipItem(_this8.players[socket.id].items[itemId]);\n            socket.emit(\"updateItems\", _this8.players[socket.id]);\n            socket.broadcast.emit(\"updatePlayersItems\", socket.id, _this8.players[socket.id]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_eventPlayerUnequipedItem\",\n    value: function _eventPlayerUnequipedItem(socket) {\n      var _this9 = this;\n      return socket.on(\"playerUnequipedItem\", function (itemId) {\n        if (_this9.players[socket.id].equipedItems[itemId]) {\n          if (_this9.players[socket.id].canPickupItem()) {\n            _this9.players[socket.id].addItem(_this9.players[socket.id].equipedItems[itemId]);\n            _this9.players[socket.id].removeEquipedItem(itemId);\n            socket.emit(\"updateItems\", _this9.players[socket.id]);\n            socket.broadcast.emit(\"updatePlayersItems\", socket.id, _this9.players[socket.id]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_eventLevelUp\",\n    value: function _eventLevelUp(socket) {\n      var _this10 = this;\n      return socket.on(\"levelUp\", function () {\n        _this10.players[socket.id].levelUp();\n        _this10.io.emit(\"updatePlayerStats\", socket.id, _this10.players[socket.id].level, _this10.players[socket.id].attack, _this10.players[socket.id].defense, _this10.players[socket.id].maxHealth, _this10.players[socket.id].exp, _this10.players[socket.id].maxExp);\n      });\n    }\n  }, {\n    key: \"_eventHealthPotion\",\n    value: function _eventHealthPotion(socket) {\n      var _this11 = this;\n      return socket.on(\"healthPotion\", function (playerId, health) {\n        _this11.players[playerId];\n        _this11.players[playerId].potion(health);\n        _this11.io.emit(\"updatePlayerHealth\", playerId, _this11.players[playerId].health);\n      });\n    }\n  }, {\n    key: \"_eventAttackedPlayer\",\n    value: function _eventAttackedPlayer(socket) {\n      var _this12 = this;\n      return socket.on(\"attackedPlayer\", function (attackedPlayerId) {\n        if (_this12.players[attackedPlayerId]) {\n          // get required info from attacked player\n          var gold = _this12.players[attackedPlayerId].gold;\n          var playerAttackValue = _this12.players[socket.id].attack;\n\n          // subtract health from attacked player\n          _this12.players[attackedPlayerId].playerAttacked(playerAttackValue);\n\n          // check attacked players health, if dead send gold to other player\n          if (_this12.players[attackedPlayerId].health <= 0) {\n            // get the amount of gold, and update player object\n            _this12.players[socket.id].updateGold(gold);\n\n            // respawn attacked player\n            _this12.players[attackedPlayerId].respawn(_this12.players);\n            _this12.io.emit(\"respawnPlayer\", _this12.players[attackedPlayerId]);\n\n            // send update gold message to player\n            socket.emit(\"updateScore\", _this12.players[socket.id].gold);\n\n            // reset the attacked players gold\n            _this12.players[attackedPlayerId].updateGold(-gold);\n            _this12.io.to(\"\".concat(attackedPlayerId)).emit(\"updateScore\", _this12.players[attackedPlayerId].gold);\n\n            // add bonus health to the player\n            _this12.players[socket.id].updateHealth(15);\n            _this12.io.emit(\"updatePlayerHealth\", socket.id, _this12.players[socket.id].health);\n          } else {\n            _this12.io.emit(\"updatePlayerHealth\", attackedPlayerId, _this12.players[attackedPlayerId].health);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_eventPlayerHit\",\n    value: function _eventPlayerHit(socket) {\n      var _this13 = this;\n      return socket.on(\"playerHit\", function (playerId, monsterAttack) {\n        _this13.players[playerId].playerAttacked(monsterAttack);\n        _this13.io.emit(\"updatePlayerHealth\", playerId, _this13.players[playerId].health);\n        // check the player's health, if below 0 have the player respawn\n        if (_this13.players[playerId].health <= 0) {\n          // update the gold the player has\n          _this13.players[playerId].updateGold(parseInt(-_this13.players[playerId].gold / 2, 10));\n          socket.emit(\"updateScore\", _this13.players[playerId].gold);\n\n          // respawn the player\n          _this13.players[playerId].respawn(_this13.players);\n          _this13.io.emit(\"respawnPlayer\", _this13.players[playerId]);\n        }\n      });\n    }\n  }, {\n    key: \"_eventSendBuyItemMessage\",\n    value: function _eventSendBuyItemMessage(socket) {\n      var _this14 = this;\n      return socket.on(\"sendBuyItemMessage\", function (item) {\n        _this14.players[socket.id].potions++;\n        _this14.players[socket.id].updateGold(-item.price);\n        socket.emit(\"updateScore\", _this14.players[socket.id].gold);\n        socket.broadcast.emit(\"updatePlayersScore\", socket.id, _this14.players[socket.id].gold);\n      });\n    }\n  }, {\n    key: \"_eventPlayerUpdateXp\",\n    value: function _eventPlayerUpdateXp(socket) {\n      var _this15 = this;\n      return socket.on(\"playerUpdateXp\", function (playerId, exp) {\n        _this15.players[playerId].updateExp(exp);\n        _this15.io.emit(\"updateXp\", exp, socket.id);\n      });\n    }\n  }, {\n    key: \"_eventDisconnect\",\n    value: function _eventDisconnect(socket) {\n      var _this16 = this;\n      return socket.on(\"disconnect\", function () {\n        // delete user data from server\n\n        console.log(\"Player Disconnect\");\n        delete _this16.players[socket.id];\n\n        // emit a message to all players to remove this player\n        _this16.io.emit(\"disconnected\", socket.id);\n      });\n    }\n  }, {\n    key: \"_spawnPlayer\",\n    value: function _spawnPlayer(playerId, name, key, playerSchema) {\n      var player = new _PlayerModel[\"default\"](playerId, [[200, 200], [400, 400]], this.players, name, key, undefined, playerSchema);\n      this.players[playerId] = player;\n      return this.players[playerId];\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlck1vZGVsIiwiX1BsYXllck1vZGVsIiwiUGxheWVyQ29udHJvbGxlciIsImV4cG9ydHMiLCJpbyIsInBsYXllckxvY2F0aW9ucyIsIl9jbGFzc0NhbGxDaGVjazIiLCJwbGF5ZXJzIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwic2V0dXBFdmVudExpc3RlbmVycyIsInNvY2tldCIsIl90aGlzIiwiX2V2ZW50TmV3UGxheWVyIiwiX2V2ZW50UGxheWVyTW92ZW1lbnQiLCJfZXZlbnRQaWNrdXBDaGVzdCIsIl9ldmVudFBpY2t1cEl0ZW0iLCJfZXZlbnRQbGF5ZXJEcm9wcGVkSXRlbSIsIl9ldmVudFBsYXllckVxdWlwZWRJdGVtIiwiX2V2ZW50UGxheWVyVW5lcXVpcGVkSXRlbSIsIl9ldmVudEhlYWx0aFBvdGlvbiIsIl9ldmVudEF0dGFja2VkUGxheWVyIiwiX2V2ZW50UGxheWVySGl0IiwiX2V2ZW50U2VuZEJ1eUl0ZW1NZXNzYWdlIiwiX2V2ZW50UGxheWVyVXBkYXRlWHAiLCJfZXZlbnRMZXZlbFVwIiwiX2V2ZW50RGlzY29ubmVjdCIsIl9ldmVudFNhdmVQbGF5ZXJEYXRhIiwib24iLCJpdGVtIiwicGxheWVySWQiLCJwbGF5ZXIiLCJhZGRJdGVtIiwiZW1pdCIsImJyb2FkY2FzdCIsIl90aGlzMiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImlkIiwiaXRlbXMiLCJlcXVpcGVkSXRlbXMiLCJVc2VyTW9kZWwiLCJ1cGRhdGVPbmUiLCJ1c2VybmFtZSIsInBsYXllck5hbWUiLCIkc2V0IiwidDAiLCJjb25zb2xlIiwibG9nIiwic3RvcCIsIl90aGlzMyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJ0b2tlbiIsImluc3RhbmNlSWQiLCJkZWNvZGVkIiwiX2RlY29kZWQkdXNlciIsIm5hbWUiLCJfaWQiLCJwbGF5ZXJTY2hlbWEiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXIiLCJmaW5kQnlJZCIsInNlbnQiLCJfc3Bhd25QbGF5ZXIiLCJfeCIsIl94MiIsIl94MyIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3RoaXM0IiwicGxheWVyRGF0YSIsIngiLCJ5IiwiZmxpcFgiLCJhY3Rpb25BQWN0aXZlIiwicG90aW9uQUFjdGl2ZSIsImZyYW1lIiwiY3VycmVudERpcmVjdGlvbiIsIl90aGlzNSIsImNoZXN0SWQiLCJ1cGRhdGVHb2xkIiwiZ29sZCIsIl90aGlzNiIsIml0ZW1JZCIsImNhblBpY2t1cEl0ZW0iLCJfdGhpczciLCJyZW1vdmVJdGVtIiwiX3RoaXM4IiwiY2FuRXF1aXBJdGVtIiwiZXF1aXBJdGVtIiwiX3RoaXM5IiwicmVtb3ZlRXF1aXBlZEl0ZW0iLCJfdGhpczEwIiwibGV2ZWxVcCIsImxldmVsIiwiYXR0YWNrIiwiZGVmZW5zZSIsIm1heEhlYWx0aCIsImV4cCIsIm1heEV4cCIsIl90aGlzMTEiLCJoZWFsdGgiLCJwb3Rpb24iLCJfdGhpczEyIiwiYXR0YWNrZWRQbGF5ZXJJZCIsInBsYXllckF0dGFja1ZhbHVlIiwicGxheWVyQXR0YWNrZWQiLCJyZXNwYXduIiwidG8iLCJjb25jYXQiLCJ1cGRhdGVIZWFsdGgiLCJfdGhpczEzIiwibW9uc3RlckF0dGFjayIsInBhcnNlSW50IiwiX3RoaXMxNCIsInBvdGlvbnMiLCJwcmljZSIsIl90aGlzMTUiLCJ1cGRhdGVFeHAiLCJfdGhpczE2IiwiUGxheWVyTW9kZWwiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiUGxheWVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcblxuaW1wb3J0IFVzZXJNb2RlbCBmcm9tIFwiLi4vLi4vbW9kZWxzL1VzZXJNb2RlbFwiO1xuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9tb2RlbHMvUGxheWVyTW9kZWxcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihpbywgcGxheWVyTG9jYXRpb25zKSB7XG4gICAgdGhpcy5wbGF5ZXJzID0ge307XG4gICAgdGhpcy5wbGF5ZXJMb2NhdGlvbnMgPSBwbGF5ZXJMb2NhdGlvbnM7XG4gICAgdGhpcy5pbyA9IGlvO1xuICB9XG5cbiAgc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpIHtcbiAgICB0aGlzLl9ldmVudE5ld1BsYXllcihzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50UGxheWVyTW92ZW1lbnQoc29ja2V0KTtcbiAgICB0aGlzLl9ldmVudFBpY2t1cENoZXN0KHNvY2tldCk7XG4gICAgdGhpcy5fZXZlbnRQaWNrdXBJdGVtKHNvY2tldCk7XG4gICAgdGhpcy5fZXZlbnRQbGF5ZXJEcm9wcGVkSXRlbShzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50UGxheWVyRXF1aXBlZEl0ZW0oc29ja2V0KTtcbiAgICB0aGlzLl9ldmVudFBsYXllclVuZXF1aXBlZEl0ZW0oc29ja2V0KTtcbiAgICB0aGlzLl9ldmVudEhlYWx0aFBvdGlvbihzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50QXR0YWNrZWRQbGF5ZXIoc29ja2V0KTtcbiAgICB0aGlzLl9ldmVudFBsYXllckhpdChzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50U2VuZEJ1eUl0ZW1NZXNzYWdlKHNvY2tldCk7XG4gICAgdGhpcy5fZXZlbnRQbGF5ZXJVcGRhdGVYcChzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50TGV2ZWxVcChzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50RGlzY29ubmVjdChzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50U2F2ZVBsYXllckRhdGEoc29ja2V0KTtcblxuICAgIHNvY2tldC5vbihcInBsYXllckdldEl0ZW1cIiwgKGl0ZW0sIHBsYXllcklkKSA9PiB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnNbcGxheWVySWRdO1xuICAgICAgcGxheWVyLmFkZEl0ZW0oaXRlbSk7XG4gICAgICBzb2NrZXQuZW1pdChcInVwZGF0ZUl0ZW1zXCIsIHBsYXllcik7XG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoXCJ1cGRhdGVQbGF5ZXJzSXRlbXNcIiwgcGxheWVySWQsIHBsYXllcik7XG4gICAgfSk7XG4gIH1cblxuICBfZXZlbnRTYXZlUGxheWVyRGF0YShzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwic2F2ZVBsYXllckRhdGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCF0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5pdGVtcykge1xuICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLml0ZW1zID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZXF1aXBlZEl0ZW1zKSB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZXF1aXBlZEl0ZW1zID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IFVzZXJNb2RlbC51cGRhdGVPbmUoXG4gICAgICAgICAgeyB1c2VybmFtZTogdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ucGxheWVyTmFtZSB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgcGxheWVyOiB0aGlzLnBsYXllcnNbc29ja2V0LmlkXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50TmV3UGxheWVyKHNvY2tldCkge1xuICAgIHJldHVybiBzb2NrZXQub24oXCJuZXdQbGF5ZXJcIiwgYXN5bmMgKHRva2VuLCBrZXksIGluc3RhbmNlSWQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUKTtcbiAgICAgICAgY29uc3QgeyBuYW1lLCBfaWQgfSA9IGRlY29kZWQudXNlcjtcblxuICAgICAgICBjb25zdCBwbGF5ZXJTY2hlbWEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWQoX2lkKTtcbiAgICAgICAgY29uc29sZS5sb2cobmFtZSk7XG4gICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3NwYXduUGxheWVyKFxuICAgICAgICAgIHNvY2tldC5pZCxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBwbGF5ZXJTY2hlbWEucGxheWVyXG4gICAgICAgICk7XG5cbiAgICAgICAgc29ja2V0LmVtaXQoXCJjdXJyZW50UGxheWVyc1wiLCB0aGlzLnBsYXllcnMsIGluc3RhbmNlSWQpO1xuXG4gICAgICAgIC8vIGluZm9ybSB0aGUgb3RoZXIgcGxheWVycyBvZiB0aGUgbmV3IHBsYXllciB0aGF0IGpvaW5lZFxuICAgICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoXCJzcGF3blBsYXllclwiLCBwbGF5ZXIpO1xuICAgICAgICBzb2NrZXQuZW1pdChcInVwZGF0ZUl0ZW1zXCIsIHBsYXllcik7XG4gICAgICAgIHNvY2tldC5icm9hZGNhc3QuZW1pdChcInVwZGF0ZVBsYXllcnNJdGVtc1wiLCBzb2NrZXQuaWQsIHBsYXllcik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIHNvY2tldC5lbWl0KFwiaW52YWxpZFRva2VuXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50UGxheWVyTW92ZW1lbnQoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInBsYXllck1vdmVtZW50XCIsIChwbGF5ZXJEYXRhKSA9PiB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0pIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ueCA9IHBsYXllckRhdGEueDtcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ueSA9IHBsYXllckRhdGEueTtcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZmxpcFggPSBwbGF5ZXJEYXRhLmZsaXBYO1xuICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5hY3Rpb25BQWN0aXZlID0gcGxheWVyRGF0YS5hY3Rpb25BQWN0aXZlO1xuICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5wb3Rpb25BQWN0aXZlID0gcGxheWVyRGF0YS5wb3Rpb25BQWN0aXZlO1xuICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5mcmFtZSA9IHBsYXllckRhdGEuZnJhbWU7XG4gICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmN1cnJlbnREaXJlY3Rpb24gPSBwbGF5ZXJEYXRhLmN1cnJlbnREaXJlY3Rpb247XG4gICAgICAgIC8vIGVtaXQgYSBtZXNzYWdlIHRvIGFsbCBwbGF5ZXJzIGFib3V0IHRoZSBwbGF5ZXIgdGhhdCBtb3ZlZFxuICAgICAgICB0aGlzLmlvLmVtaXQoXCJwbGF5ZXJNb3ZlZFwiLCB0aGlzLnBsYXllcnNbc29ja2V0LmlkXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfZXZlbnRQaWNrdXBDaGVzdChzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwicGlja1VwQ2hlc3RcIiwgKGNoZXN0SWQpID0+IHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyc1tzb2NrZXQuaWRdO1xuICAgICAgcGxheWVyLnVwZGF0ZUdvbGQoMjApO1xuICAgICAgc29ja2V0LmVtaXQoXCJ1cGRhdGVTY29yZVwiLCBwbGF5ZXIuZ29sZCk7XG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoXCJ1cGRhdGVQbGF5ZXJzU2NvcmVcIiwgc29ja2V0LmlkLCBwbGF5ZXIuZ29sZCk7XG4gICAgICB0aGlzLmlvLmVtaXQoXCJjaGVzdFJlbW92ZWRcIiwgY2hlc3RJZCk7XG4gICAgfSk7XG4gIH1cblxuICBfZXZlbnRQaWNrdXBJdGVtKHNvY2tldCkge1xuICAgIHJldHVybiBzb2NrZXQub24oXCJwaWNrVXBJdGVtXCIsIChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyc1tzb2NrZXQuaWRdO1xuICAgICAgaWYgKHBsYXllci5jYW5QaWNrdXBJdGVtKCkpIHtcbiAgICAgICAgc29ja2V0LmVtaXQoXCJjb2xsZWN0SXRlbVwiLCBpdGVtSWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50UGxheWVyRHJvcHBlZEl0ZW0oc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInBsYXllckRyb3BwZWRJdGVtXCIsIChpdGVtSWQpID0+IHtcbiAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLnJlbW92ZUl0ZW0oaXRlbUlkKTtcbiAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlSXRlbXNcIiwgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0pO1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC5lbWl0KFxuICAgICAgICBcInVwZGF0ZVBsYXllcnNJdGVtc1wiLFxuICAgICAgICBzb2NrZXQuaWQsXG4gICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50UGxheWVyRXF1aXBlZEl0ZW0oc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInBsYXllckVxdWlwZWRJdGVtXCIsIChpdGVtSWQpID0+IHtcbiAgICAgIGlmICh0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5pdGVtc1tpdGVtSWRdKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5jYW5FcXVpcEl0ZW0oKSkge1xuICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmVxdWlwSXRlbShcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLml0ZW1zW2l0ZW1JZF1cbiAgICAgICAgICApO1xuICAgICAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlSXRlbXNcIiwgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0pO1xuICAgICAgICAgIHNvY2tldC5icm9hZGNhc3QuZW1pdChcbiAgICAgICAgICAgIFwidXBkYXRlUGxheWVyc0l0ZW1zXCIsXG4gICAgICAgICAgICBzb2NrZXQuaWQsXG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudFBsYXllclVuZXF1aXBlZEl0ZW0oc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInBsYXllclVuZXF1aXBlZEl0ZW1cIiwgKGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmVxdWlwZWRJdGVtc1tpdGVtSWRdKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5jYW5QaWNrdXBJdGVtKCkpIHtcbiAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5hZGRJdGVtKFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZXF1aXBlZEl0ZW1zW2l0ZW1JZF1cbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLnJlbW92ZUVxdWlwZWRJdGVtKGl0ZW1JZCk7XG4gICAgICAgICAgc29ja2V0LmVtaXQoXCJ1cGRhdGVJdGVtc1wiLCB0aGlzLnBsYXllcnNbc29ja2V0LmlkXSk7XG4gICAgICAgICAgc29ja2V0LmJyb2FkY2FzdC5lbWl0KFxuICAgICAgICAgICAgXCJ1cGRhdGVQbGF5ZXJzSXRlbXNcIixcbiAgICAgICAgICAgIHNvY2tldC5pZCxcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIF9ldmVudExldmVsVXAoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcImxldmVsVXBcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ubGV2ZWxVcCgpO1xuICAgICAgdGhpcy5pby5lbWl0KFxuICAgICAgICBcInVwZGF0ZVBsYXllclN0YXRzXCIsXG4gICAgICAgIHNvY2tldC5pZCxcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ubGV2ZWwsXG4gICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmF0dGFjayxcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZGVmZW5zZSxcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ubWF4SGVhbHRoLFxuICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5leHAsXG4gICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLm1heEV4cFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudEhlYWx0aFBvdGlvbihzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwiaGVhbHRoUG90aW9uXCIsIChwbGF5ZXJJZCwgaGVhbHRoKSA9PiB7XG4gICAgICB0aGlzLnBsYXllcnNbcGxheWVySWRdO1xuICAgICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5wb3Rpb24oaGVhbHRoKTtcbiAgICAgIHRoaXMuaW8uZW1pdChcbiAgICAgICAgXCJ1cGRhdGVQbGF5ZXJIZWFsdGhcIixcbiAgICAgICAgcGxheWVySWQsXG4gICAgICAgIHRoaXMucGxheWVyc1twbGF5ZXJJZF0uaGVhbHRoXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50QXR0YWNrZWRQbGF5ZXIoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcImF0dGFja2VkUGxheWVyXCIsIChhdHRhY2tlZFBsYXllcklkKSA9PiB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdKSB7XG4gICAgICAgIC8vIGdldCByZXF1aXJlZCBpbmZvIGZyb20gYXR0YWNrZWQgcGxheWVyXG4gICAgICAgIGNvbnN0IHsgZ29sZCB9ID0gdGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdO1xuICAgICAgICBjb25zdCBwbGF5ZXJBdHRhY2tWYWx1ZSA9IHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmF0dGFjaztcblxuICAgICAgICAvLyBzdWJ0cmFjdCBoZWFsdGggZnJvbSBhdHRhY2tlZCBwbGF5ZXJcbiAgICAgICAgdGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdLnBsYXllckF0dGFja2VkKHBsYXllckF0dGFja1ZhbHVlKTtcblxuICAgICAgICAvLyBjaGVjayBhdHRhY2tlZCBwbGF5ZXJzIGhlYWx0aCwgaWYgZGVhZCBzZW5kIGdvbGQgdG8gb3RoZXIgcGxheWVyXG4gICAgICAgIGlmICh0aGlzLnBsYXllcnNbYXR0YWNrZWRQbGF5ZXJJZF0uaGVhbHRoIDw9IDApIHtcbiAgICAgICAgICAvLyBnZXQgdGhlIGFtb3VudCBvZiBnb2xkLCBhbmQgdXBkYXRlIHBsYXllciBvYmplY3RcbiAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS51cGRhdGVHb2xkKGdvbGQpO1xuXG4gICAgICAgICAgLy8gcmVzcGF3biBhdHRhY2tlZCBwbGF5ZXJcbiAgICAgICAgICB0aGlzLnBsYXllcnNbYXR0YWNrZWRQbGF5ZXJJZF0ucmVzcGF3bih0aGlzLnBsYXllcnMpO1xuICAgICAgICAgIHRoaXMuaW8uZW1pdChcInJlc3Bhd25QbGF5ZXJcIiwgdGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdKTtcblxuICAgICAgICAgIC8vIHNlbmQgdXBkYXRlIGdvbGQgbWVzc2FnZSB0byBwbGF5ZXJcbiAgICAgICAgICBzb2NrZXQuZW1pdChcInVwZGF0ZVNjb3JlXCIsIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmdvbGQpO1xuXG4gICAgICAgICAgLy8gcmVzZXQgdGhlIGF0dGFja2VkIHBsYXllcnMgZ29sZFxuICAgICAgICAgIHRoaXMucGxheWVyc1thdHRhY2tlZFBsYXllcklkXS51cGRhdGVHb2xkKC1nb2xkKTtcbiAgICAgICAgICB0aGlzLmlvXG4gICAgICAgICAgICAudG8oYCR7YXR0YWNrZWRQbGF5ZXJJZH1gKVxuICAgICAgICAgICAgLmVtaXQoXCJ1cGRhdGVTY29yZVwiLCB0aGlzLnBsYXllcnNbYXR0YWNrZWRQbGF5ZXJJZF0uZ29sZCk7XG5cbiAgICAgICAgICAvLyBhZGQgYm9udXMgaGVhbHRoIHRvIHRoZSBwbGF5ZXJcbiAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS51cGRhdGVIZWFsdGgoMTUpO1xuICAgICAgICAgIHRoaXMuaW8uZW1pdChcbiAgICAgICAgICAgIFwidXBkYXRlUGxheWVySGVhbHRoXCIsXG4gICAgICAgICAgICBzb2NrZXQuaWQsXG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5oZWFsdGhcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaW8uZW1pdChcbiAgICAgICAgICAgIFwidXBkYXRlUGxheWVySGVhbHRoXCIsXG4gICAgICAgICAgICBhdHRhY2tlZFBsYXllcklkLFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdLmhlYWx0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudFBsYXllckhpdChzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwicGxheWVySGl0XCIsIChwbGF5ZXJJZCwgbW9uc3RlckF0dGFjaykgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5wbGF5ZXJBdHRhY2tlZChtb25zdGVyQXR0YWNrKTtcbiAgICAgIHRoaXMuaW8uZW1pdChcbiAgICAgICAgXCJ1cGRhdGVQbGF5ZXJIZWFsdGhcIixcbiAgICAgICAgcGxheWVySWQsXG4gICAgICAgIHRoaXMucGxheWVyc1twbGF5ZXJJZF0uaGVhbHRoXG4gICAgICApO1xuICAgICAgLy8gY2hlY2sgdGhlIHBsYXllcidzIGhlYWx0aCwgaWYgYmVsb3cgMCBoYXZlIHRoZSBwbGF5ZXIgcmVzcGF3blxuICAgICAgaWYgKHRoaXMucGxheWVyc1twbGF5ZXJJZF0uaGVhbHRoIDw9IDApIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBnb2xkIHRoZSBwbGF5ZXIgaGFzXG4gICAgICAgIHRoaXMucGxheWVyc1twbGF5ZXJJZF0udXBkYXRlR29sZChcbiAgICAgICAgICBwYXJzZUludCgtdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5nb2xkIC8gMiwgMTApXG4gICAgICAgICk7XG4gICAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlU2NvcmVcIiwgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5nb2xkKTtcblxuICAgICAgICAvLyByZXNwYXduIHRoZSBwbGF5ZXJcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5yZXNwYXduKHRoaXMucGxheWVycyk7XG4gICAgICAgIHRoaXMuaW8uZW1pdChcInJlc3Bhd25QbGF5ZXJcIiwgdGhpcy5wbGF5ZXJzW3BsYXllcklkXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfZXZlbnRTZW5kQnV5SXRlbU1lc3NhZ2Uoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInNlbmRCdXlJdGVtTWVzc2FnZVwiLCAoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ucG90aW9ucysrO1xuXG4gICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS51cGRhdGVHb2xkKC1pdGVtLnByaWNlKTtcbiAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlU2NvcmVcIiwgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZ29sZCk7XG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoXG4gICAgICAgIFwidXBkYXRlUGxheWVyc1Njb3JlXCIsXG4gICAgICAgIHNvY2tldC5pZCxcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZ29sZFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudFBsYXllclVwZGF0ZVhwKHNvY2tldCkge1xuICAgIHJldHVybiBzb2NrZXQub24oXCJwbGF5ZXJVcGRhdGVYcFwiLCAocGxheWVySWQsIGV4cCkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS51cGRhdGVFeHAoZXhwKTtcbiAgICAgIHRoaXMuaW8uZW1pdChcInVwZGF0ZVhwXCIsIGV4cCwgc29ja2V0LmlkKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudERpc2Nvbm5lY3Qoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgLy8gZGVsZXRlIHVzZXIgZGF0YSBmcm9tIHNlcnZlclxuXG4gICAgICBjb25zb2xlLmxvZyhcIlBsYXllciBEaXNjb25uZWN0XCIpO1xuXG4gICAgICBkZWxldGUgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF07XG5cbiAgICAgIC8vIGVtaXQgYSBtZXNzYWdlIHRvIGFsbCBwbGF5ZXJzIHRvIHJlbW92ZSB0aGlzIHBsYXllclxuICAgICAgdGhpcy5pby5lbWl0KFwiZGlzY29ubmVjdGVkXCIsIHNvY2tldC5pZCk7XG4gICAgfSk7XG4gIH1cblxuICBfc3Bhd25QbGF5ZXIocGxheWVySWQsIG5hbWUsIGtleSwgcGxheWVyU2NoZW1hKSB7XG4gICAgY29uc3QgcGxheWVyID0gbmV3IFBsYXllck1vZGVsKFxuICAgICAgcGxheWVySWQsXG4gICAgICBbXG4gICAgICAgIFsyMDAsIDIwMF0sXG4gICAgICAgIFs0MDAsIDQwMF0sXG4gICAgICBdLFxuICAgICAgdGhpcy5wbGF5ZXJzLFxuICAgICAgbmFtZSxcbiAgICAgIGtleSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHBsYXllclNjaGVtYVxuICAgICk7XG4gICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXSA9IHBsYXllcjtcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJzW3BsYXllcklkXTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFlBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFtRCxJQUM5QkcsZ0JBQWdCLEdBQUFDLE9BQUE7RUFDbkMsU0FBQUQsaUJBQVlFLEVBQUUsRUFBRUMsZUFBZSxFQUFFO0lBQUEsSUFBQUMsZ0JBQUEsbUJBQUFKLGdCQUFBO0lBQy9CLElBQUksQ0FBQ0ssT0FBTyxHQUFHLENBQUMsQ0FBQztJQUNqQixJQUFJLENBQUNGLGVBQWUsR0FBR0EsZUFBZTtJQUN0QyxJQUFJLENBQUNELEVBQUUsR0FBR0EsRUFBRTtFQUNkO0VBQUMsV0FBQUksYUFBQSxhQUFBTixnQkFBQTtJQUFBTyxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBQyxvQkFBb0JDLE1BQU0sRUFBRTtNQUFBLElBQUFDLEtBQUE7TUFDMUIsSUFBSSxDQUFDQyxlQUFlLENBQUNGLE1BQU0sQ0FBQztNQUM1QixJQUFJLENBQUNHLG9CQUFvQixDQUFDSCxNQUFNLENBQUM7TUFDakMsSUFBSSxDQUFDSSxpQkFBaUIsQ0FBQ0osTUFB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","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_UserModel","_PlayerModel","PlayerController","exports","io","playerLocations","_classCallCheck2","players","_createClass2","key","value","setupEventListeners","socket","_this","_eventNewPlayer","_eventPlayerMovement","_eventPickupChest","_eventPickupItem","_eventPlayerDroppedItem","_eventPlayerEquipedItem","_eventPlayerUnequipedItem","_eventHealthPotion","_eventAttackedPlayer","_eventPlayerHit","_eventSendBuyItemMessage","_eventPlayerUpdateXp","_eventLevelUp","_eventDisconnect","_eventSavePlayerData","on","item","playerId","player","addItem","emit","broadcast","_this2","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","id","items","equipedItems","UserModel","updateOne","username","playerName","$set","t0","console","log","stop","_this3","_ref2","_callee2","token","instanceId","decoded","_decoded$user","name","_id","playerSchema","_callee2$","_context2","jwt","verify","process","env","JWT_SECRET","user","findById","sent","_spawnPlayer","_x","_x2","_x3","apply","arguments","_this4","playerData","x","y","flipX","actionAActive","potionAActive","frame","currentDirection","_this5","chestId","updateGold","gold","_this6","itemId","canPickupItem","_this7","removeItem","_this8","canEquipItem","equipItem","_this9","removeEquipedItem","_this10","levelUp","level","attack","defense","maxHealth","exp","maxExp","_this11","health","potion","_this12","attackedPlayerId","playerAttackValue","playerAttacked","respawn","to","concat","updateHealth","_this13","monsterAttack","parseInt","_this14","potions","price","_this15","updateExp","_this16","PlayerModel","undefined"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["PlayerController.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\n\nimport UserModel from \"../../models/UserModel\";\nimport PlayerModel from \"../../models/PlayerModel\";\nexport default class PlayerController {\n  constructor(io, playerLocations) {\n    this.players = {};\n    this.playerLocations = playerLocations;\n    this.io = io;\n  }\n\n  setupEventListeners(socket) {\n    this._eventNewPlayer(socket);\n    this._eventPlayerMovement(socket);\n    this._eventPickupChest(socket);\n    this._eventPickupItem(socket);\n    this._eventPlayerDroppedItem(socket);\n    this._eventPlayerEquipedItem(socket);\n    this._eventPlayerUnequipedItem(socket);\n    this._eventHealthPotion(socket);\n    this._eventAttackedPlayer(socket);\n    this._eventPlayerHit(socket);\n    this._eventSendBuyItemMessage(socket);\n    this._eventPlayerUpdateXp(socket);\n    this._eventLevelUp(socket);\n    this._eventDisconnect(socket);\n    this._eventSavePlayerData(socket);\n\n    socket.on(\"playerGetItem\", (item, playerId) => {\n      const player = this.players[playerId];\n      player.addItem(item);\n      socket.emit(\"updateItems\", player);\n      socket.broadcast.emit(\"updatePlayersItems\", playerId, player);\n    });\n  }\n\n  _eventSavePlayerData(socket) {\n    return socket.on(\"savePlayerData\", async () => {\n      try {\n        if (!this.players[socket.id].items) {\n          this.players[socket.id].items = null;\n        }\n\n        if (!this.players[socket.id].equipedItems) {\n          this.players[socket.id].equipedItems = null;\n        }\n\n        await UserModel.updateOne(\n          { username: this.players[socket.id].playerName },\n          {\n            $set: {\n              player: this.players[socket.id],\n            },\n          }\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  }\n\n  _eventNewPlayer(socket) {\n    return socket.on(\"newPlayer\", async (token, key, instanceId) => {\n      try {\n        const decoded = jwt.verify(token, process.env.JWT_SECRET);\n        const { name, _id } = decoded.user;\n\n        const playerSchema = await UserModel.findById(_id);\n        console.log(name);\n        const player = this._spawnPlayer(\n          socket.id,\n          name,\n          key,\n          playerSchema.player\n        );\n\n        socket.emit(\"currentPlayers\", this.players, instanceId);\n\n        // inform the other players of the new player that joined\n        socket.broadcast.emit(\"spawnPlayer\", player);\n        socket.emit(\"updateItems\", player);\n        socket.broadcast.emit(\"updatePlayersItems\", socket.id, player);\n      } catch (error) {\n        console.log(error);\n        socket.emit(\"invalidToken\");\n      }\n    });\n  }\n\n  _eventPlayerMovement(socket) {\n    return socket.on(\"playerMovement\", (playerData) => {\n      if (this.players[socket.id]) {\n        this.players[socket.id].x = playerData.x;\n        this.players[socket.id].y = playerData.y;\n        this.players[socket.id].flipX = playerData.flipX;\n        this.players[socket.id].actionAActive = playerData.actionAActive;\n        this.players[socket.id].potionAActive = playerData.potionAActive;\n        this.players[socket.id].frame = playerData.frame;\n        this.players[socket.id].currentDirection = playerData.currentDirection;\n        // emit a message to all players about the player that moved\n        this.io.emit(\"playerMoved\", this.players[socket.id]);\n      }\n    });\n  }\n\n  _eventPickupChest(socket) {\n    return socket.on(\"pickUpChest\", (chestId) => {\n      const player = this.players[socket.id];\n      player.updateGold(20);\n      socket.emit(\"updateScore\", player.gold);\n      socket.broadcast.emit(\"updatePlayersScore\", socket.id, player.gold);\n      this.io.emit(\"chestRemoved\", chestId);\n    });\n  }\n\n  _eventPickupItem(socket) {\n    return socket.on(\"pickUpItem\", (itemId) => {\n      const player = this.players[socket.id];\n      if (player.canPickupItem()) {\n        socket.emit(\"collectItem\", itemId);\n      }\n    });\n  }\n\n  _eventPlayerDroppedItem(socket) {\n    return socket.on(\"playerDroppedItem\", (itemId) => {\n      this.players[socket.id].removeItem(itemId);\n      socket.emit(\"updateItems\", this.players[socket.id]);\n      socket.broadcast.emit(\n        \"updatePlayersItems\",\n        socket.id,\n        this.players[socket.id]\n      );\n    });\n  }\n\n  _eventPlayerEquipedItem(socket) {\n    return socket.on(\"playerEquipedItem\", (itemId) => {\n      if (this.players[socket.id].items[itemId]) {\n        if (this.players[socket.id].canEquipItem()) {\n          this.players[socket.id].equipItem(\n            this.players[socket.id].items[itemId]\n          );\n          socket.emit(\"updateItems\", this.players[socket.id]);\n          socket.broadcast.emit(\n            \"updatePlayersItems\",\n            socket.id,\n            this.players[socket.id]\n          );\n        }\n      }\n    });\n  }\n\n  _eventPlayerUnequipedItem(socket) {\n    return socket.on(\"playerUnequipedItem\", (itemId) => {\n      if (this.players[socket.id].equipedItems[itemId]) {\n        if (this.players[socket.id].canPickupItem()) {\n          this.players[socket.id].addItem(\n            this.players[socket.id].equipedItems[itemId]\n          );\n          this.players[socket.id].removeEquipedItem(itemId);\n          socket.emit(\"updateItems\", this.players[socket.id]);\n          socket.broadcast.emit(\n            \"updatePlayersItems\",\n            socket.id,\n            this.players[socket.id]\n          );\n        }\n      }\n    });\n  }\n  _eventLevelUp(socket) {\n    return socket.on(\"levelUp\", () => {\n      this.players[socket.id].levelUp();\n      this.io.emit(\n        \"updatePlayerStats\",\n        socket.id,\n        this.players[socket.id].level,\n        this.players[socket.id].attack,\n        this.players[socket.id].defense,\n        this.players[socket.id].maxHealth,\n        this.players[socket.id].exp,\n        this.players[socket.id].maxExp\n      );\n    });\n  }\n\n  _eventHealthPotion(socket) {\n    return socket.on(\"healthPotion\", (playerId, health) => {\n      this.players[playerId];\n      this.players[playerId].potion(health);\n      this.io.emit(\n        \"updatePlayerHealth\",\n        playerId,\n        this.players[playerId].health\n      );\n    });\n  }\n\n  _eventAttackedPlayer(socket) {\n    return socket.on(\"attackedPlayer\", (attackedPlayerId) => {\n      if (this.players[attackedPlayerId]) {\n        // get required info from attacked player\n        const { gold } = this.players[attackedPlayerId];\n        const playerAttackValue = this.players[socket.id].attack;\n\n        // subtract health from attacked player\n        this.players[attackedPlayerId].playerAttacked(playerAttackValue);\n\n        // check attacked players health, if dead send gold to other player\n        if (this.players[attackedPlayerId].health <= 0) {\n          // get the amount of gold, and update player object\n          this.players[socket.id].updateGold(gold);\n\n          // respawn attacked player\n          this.players[attackedPlayerId].respawn(this.players);\n          this.io.emit(\"respawnPlayer\", this.players[attackedPlayerId]);\n\n          // send update gold message to player\n          socket.emit(\"updateScore\", this.players[socket.id].gold);\n\n          // reset the attacked players gold\n          this.players[attackedPlayerId].updateGold(-gold);\n          this.io\n            .to(`${attackedPlayerId}`)\n            .emit(\"updateScore\", this.players[attackedPlayerId].gold);\n\n          // add bonus health to the player\n          this.players[socket.id].updateHealth(15);\n          this.io.emit(\n            \"updatePlayerHealth\",\n            socket.id,\n            this.players[socket.id].health\n          );\n        } else {\n          this.io.emit(\n            \"updatePlayerHealth\",\n            attackedPlayerId,\n            this.players[attackedPlayerId].health\n          );\n        }\n      }\n    });\n  }\n\n  _eventPlayerHit(socket) {\n    return socket.on(\"playerHit\", (playerId, monsterAttack) => {\n      this.players[playerId].playerAttacked(monsterAttack);\n      this.io.emit(\n        \"updatePlayerHealth\",\n        playerId,\n        this.players[playerId].health\n      );\n      // check the player's health, if below 0 have the player respawn\n      if (this.players[playerId].health <= 0) {\n        // update the gold the player has\n        this.players[playerId].updateGold(\n          parseInt(-this.players[playerId].gold / 2, 10)\n        );\n        socket.emit(\"updateScore\", this.players[playerId].gold);\n\n        // respawn the player\n        this.players[playerId].respawn(this.players);\n        this.io.emit(\"respawnPlayer\", this.players[playerId]);\n      }\n    });\n  }\n\n  _eventSendBuyItemMessage(socket) {\n    return socket.on(\"sendBuyItemMessage\", (item) => {\n      this.players[socket.id].potions++;\n\n      this.players[socket.id].updateGold(-item.price);\n      socket.emit(\"updateScore\", this.players[socket.id].gold);\n      socket.broadcast.emit(\n        \"updatePlayersScore\",\n        socket.id,\n        this.players[socket.id].gold\n      );\n    });\n  }\n\n  _eventPlayerUpdateXp(socket) {\n    return socket.on(\"playerUpdateXp\", (playerId, exp) => {\n      this.players[playerId].updateExp(exp);\n      this.io.emit(\"updateXp\", exp, socket.id);\n    });\n  }\n\n  _eventDisconnect(socket) {\n    return socket.on(\"disconnect\", () => {\n      // delete user data from server\n\n      console.log(\"Player Disconnect\");\n\n      delete this.players[socket.id];\n\n      // emit a message to all players to remove this player\n      this.io.emit(\"disconnected\", socket.id);\n    });\n  }\n\n  _spawnPlayer(playerId, name, key, playerSchema) {\n    const player = new PlayerModel(\n      playerId,\n      [\n        [200, 200],\n        [400, 400],\n      ],\n      this.players,\n      name,\n      key,\n      undefined,\n      playerSchema\n    );\n    this.players[playerId] = player;\n    return this.players[playerId];\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719106352710},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/PlayerModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar PlayerModel = exports[\"default\"] = /*#__PURE__*/function () {\n  function PlayerModel(playerId, spawnLocations, players, name, key, actionB, playerSchema) {\n    (0, _classCallCheck2[\"default\"])(this, PlayerModel);\n    this.attack = playerSchema.attack;\n    this.defense = playerSchema.defense;\n    this.health = playerSchema.health;\n    this.maxHealth = playerSchema.maxHealth;\n    this.gold = playerSchema.gold;\n    this.id = playerId;\n    this.playerName = name;\n    this.key = key;\n    this.items = playerSchema.items || {};\n    this.equipedItems = playerSchema.equipedItems || {};\n    this.level = playerSchema.level;\n    this.exp = playerSchema.exp;\n    this.maxExp = playerSchema.maxExp;\n    this.potions = playerSchema.potions;\n    //this.playerItems =  {};\n\n    this.maxNumberOfItems = 5;\n    this.spawnLocations = spawnLocations;\n    this.actionAActive = false;\n    this.potionAActive = false;\n    this.flipX = true;\n    var location = this.generateLocation(players);\n    this.x = location[0];\n    this.y = location[1];\n  }\n  return (0, _createClass2[\"default\"])(PlayerModel, [{\n    key: \"addItem\",\n    value: function addItem(item) {\n      this.items[item.id] = item;\n    }\n  }, {\n    key: \"equipItem\",\n    value: function equipItem(item) {\n      this.equipedItems[item.id] = item;\n      this.attack += this.equipedItems[item.id].attackBonus;\n      this.defense += this.equipedItems[item.id].defenseBonus;\n      this.maxHealth += this.equipedItems[item.id].healthBonus;\n      this.removeItem(item.id);\n    }\n  }, {\n    key: \"removeEquipedItem\",\n    value: function removeEquipedItem(itemId) {\n      this.attack -= this.equipedItems[itemId].attackBonus;\n      this.defense -= this.equipedItems[itemId].defenseBonus;\n      this.maxHealth -= this.equipedItems[itemId].healthBonus;\n      delete this.equipedItems[itemId];\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(itemId) {\n      // this.attack -= this.items[itemId].attackBonus;\n      // this.defense -= this.items[itemId].defenseBonus;\n      // this.maxHealth -= this.items[itemId].healthBonus;\n      delete this.items[itemId];\n    }\n  }, {\n    key: \"canPickupItem\",\n    value: function canPickupItem() {\n      if (Object.keys(this.items).length < 5) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"canEquipItem\",\n    value: function canEquipItem() {\n      if (Object.keys(this.equipedItems).length < 5) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"playerAttacked\",\n    value: function playerAttacked(attack) {\n      var damage = this.defense - attack;\n      if (damage > 0) damage = 0;\n      this.updateHealth(damage);\n    }\n  }, {\n    key: \"updateGold\",\n    value: function updateGold(gold) {\n      this.gold += gold;\n    }\n  }, {\n    key: \"potion\",\n    value: function potion(health) {\n      this.updateHealth(health);\n      this.potions--;\n    }\n  }, {\n    key: \"updateExp\",\n    value: function updateExp(exp) {\n      this.exp += exp;\n    }\n  }, {\n    key: \"levelUp\",\n    value: function levelUp() {\n      this.attack += 3;\n      this.defense += 2;\n      this.maxHealth += 1;\n      this.level++;\n      var calcNewExp = this.exp - this.maxExp;\n      this.exp = calcNewExp <= 0 ? 0 : calcNewExp;\n      this.maxExp = this.maxExp * 2;\n    }\n  }, {\n    key: \"updateHealth\",\n    value: function updateHealth(health) {\n      this.health += health;\n      if (this.health > this.maxHealth) this.health = this.maxHealth;\n    }\n  }, {\n    key: \"respawn\",\n    value: function respawn(players) {\n      this.health = this.maxHealth;\n      var location = this.generateLocation(players);\n      this.x = location[0];\n      this.y = location[1];\n    }\n  }, {\n    key: \"generateLocation\",\n    value: function generateLocation(players) {\n      return [200, 200];\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQbGF5ZXJNb2RlbCIsImV4cG9ydHMiLCJwbGF5ZXJJZCIsInNwYXduTG9jYXRpb25zIiwicGxheWVycyIsIm5hbWUiLCJrZXkiLCJhY3Rpb25CIiwicGxheWVyU2NoZW1hIiwiX2NsYXNzQ2FsbENoZWNrMiIsImF0dGFjayIsImRlZmVuc2UiLCJoZWFsdGgiLCJtYXhIZWFsdGgiLCJnb2xkIiwiaWQiLCJwbGF5ZXJOYW1lIiwiaXRlbXMiLCJlcXVpcGVkSXRlbXMiLCJsZXZlbCIsImV4cCIsIm1heEV4cCIsInBvdGlvbnMiLCJtYXhOdW1iZXJPZkl0ZW1zIiwiYWN0aW9uQUFjdGl2ZSIsInBvdGlvbkFBY3RpdmUiLCJmbGlwWCIsImxvY2F0aW9uIiwiZ2VuZXJhdGVMb2NhdGlvbiIsIngiLCJ5IiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwiYWRkSXRlbSIsIml0ZW0iLCJlcXVpcEl0ZW0iLCJhdHRhY2tCb251cyIsImRlZmVuc2VCb251cyIsImhlYWx0aEJvbnVzIiwicmVtb3ZlSXRlbSIsInJlbW92ZUVxdWlwZWRJdGVtIiwiaXRlbUlkIiwiY2FuUGlja3VwSXRlbSIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJjYW5FcXVpcEl0ZW0iLCJwbGF5ZXJBdHRhY2tlZCIsImRhbWFnZSIsInVwZGF0ZUhlYWx0aCIsInVwZGF0ZUdvbGQiLCJwb3Rpb24iLCJ1cGRhdGVFeHAiLCJsZXZlbFVwIiwiY2FsY05ld0V4cCIsInJlc3Bhd24iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiUGxheWVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyTW9kZWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwbGF5ZXJJZCxcbiAgICBzcGF3bkxvY2F0aW9ucyxcbiAgICBwbGF5ZXJzLFxuICAgIG5hbWUsXG4gICAga2V5LFxuICAgIGFjdGlvbkIsXG4gICAgcGxheWVyU2NoZW1hXG4gICkge1xuICAgIHRoaXMuYXR0YWNrID0gcGxheWVyU2NoZW1hLmF0dGFjaztcbiAgICB0aGlzLmRlZmVuc2UgPSBwbGF5ZXJTY2hlbWEuZGVmZW5zZTtcbiAgICB0aGlzLmhlYWx0aCA9IHBsYXllclNjaGVtYS5oZWFsdGg7XG4gICAgdGhpcy5tYXhIZWFsdGggPSBwbGF5ZXJTY2hlbWEubWF4SGVhbHRoO1xuICAgIHRoaXMuZ29sZCA9IHBsYXllclNjaGVtYS5nb2xkO1xuICAgIHRoaXMuaWQgPSBwbGF5ZXJJZDtcbiAgICB0aGlzLnBsYXllck5hbWUgPSBuYW1lO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMuaXRlbXMgPSBwbGF5ZXJTY2hlbWEuaXRlbXMgfHwge307XG4gICAgdGhpcy5lcXVpcGVkSXRlbXMgPSBwbGF5ZXJTY2hlbWEuZXF1aXBlZEl0ZW1zIHx8IHt9O1xuICAgIHRoaXMubGV2ZWwgPSBwbGF5ZXJTY2hlbWEubGV2ZWw7XG4gICAgdGhpcy5leHAgPSBwbGF5ZXJTY2hlbWEuZXhwO1xuICAgIHRoaXMubWF4RXhwID0gcGxheWVyU2NoZW1hLm1heEV4cDtcbiAgICB0aGlzLnBvdGlvbnMgPSBwbGF5ZXJTY2hlbWEucG90aW9ucztcbiAgICAvL3RoaXMucGxheWVySXRlbXMgPSAge307XG5cbiAgICB0aGlzLm1heE51bWJlck9mSXRlbXMgPSA1O1xuXG4gICAgdGhpcy5zcGF3bkxvY2F0aW9ucyA9IHNwYXduTG9jYXRpb25zO1xuICAgIHRoaXMuYWN0aW9uQUFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMucG90aW9uQUFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuZmxpcFggPSB0cnVlO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5nZW5lcmF0ZUxvY2F0aW9uKHBsYXllcnMpO1xuICAgIHRoaXMueCA9IGxvY2F0aW9uWzBdO1xuICAgIHRoaXMueSA9IGxvY2F0aW9uWzFdO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5pdGVtc1tpdGVtLmlkXSA9IGl0ZW07XG4gIH1cblxuICBlcXVpcEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuZXF1aXBlZEl0ZW1zW2l0ZW0uaWRdID0gaXRlbTtcblxuICAgIHRoaXMuYXR0YWNrICs9IHRoaXMuZXF1aXBlZEl0ZW1zW2l0ZW0uaWRdLmF0dGFja0JvbnVzO1xuICAgIHRoaXMuZGVmZW5zZSArPSB0aGlzLmVxdWlwZWRJdGVtc1tpdGVtLmlkXS5kZWZlbnNlQm9udXM7XG4gICAgdGhpcy5tYXhIZWFsdGggKz0gdGhpcy5lcXVpcGVkSXRlbXNbaXRlbS5pZF0uaGVhbHRoQm9udXM7XG4gICAgdGhpcy5yZW1vdmVJdGVtKGl0ZW0uaWQpO1xuICB9XG5cbiAgcmVtb3ZlRXF1aXBlZEl0ZW0oaXRlbUlkKSB7XG4gICAgdGhpcy5hdHRhY2sgLT0gdGhpcy5lcXVpcGVkSXRlbXNbaXRlbUlkXS5hdHRhY2tCb251cztcbiAgICB0aGlzLmRlZmVuc2UgLT0gdGhpcy5lcXVpcGVkSXRlbXNbaXRlbUlkXS5kZWZlbnNlQm9udXM7XG4gICAgdGhpcy5tYXhIZWFsdGggLT0gdGhpcy5lcXVpcGVkSXRlbXNbaXRlbUlkXS5oZWFsdGhCb251cztcbiAgICBkZWxldGUgdGhpcy5lcXVpcGVkSXRlbXNbaXRlbUlkXTtcbiAgfVxuXG4gIHJlbW92ZUl0ZW0oaXRlbUlkKSB7XG4gICAgLy8gdGhpcy5hdHRhY2sgLT0gdGhpcy5pdGVtc1tpdGVtSWRdLmF0dGFja0JvbnVzO1xuICAgIC8vIHRoaXMuZGVmZW5zZSAtPSB0aGlzLml0ZW1zW2l0ZW1JZF0uZGVmZW5zZUJvbnVzO1xuICAgIC8vIHRoaXMubWF4SGVhbHRoIC09IHRoaXMuaXRlbXNbaXRlbUlkXS5oZWFsdGhCb251cztcbiAgICBkZWxldGUgdGhpcy5pdGVtc1tpdGVtSWRdO1xuICB9XG5cbiAgY2FuUGlja3VwSXRlbSgpIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5pdGVtcykubGVuZ3RoIDwgNSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNhbkVxdWlwSXRlbSgpIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5lcXVpcGVkSXRlbXMpLmxlbmd0aCA8IDUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwbGF5ZXJBdHRhY2tlZChhdHRhY2spIHtcbiAgICBsZXQgZGFtYWdlID0gdGhpcy5kZWZlbnNlIC0gYXR0YWNrO1xuICAgIGlmIChkYW1hZ2UgPiAwKSBkYW1hZ2UgPSAwO1xuXG4gICAgdGhpcy51cGRhdGVIZWFsdGgoZGFtYWdlKTtcbiAgfVxuXG4gIHVwZGF0ZUdvbGQoZ29sZCkge1xuICAgIHRoaXMuZ29sZCArPSBnb2xkO1xuICB9XG5cbiAgcG90aW9uKGhlYWx0aCkge1xuICAgIHRoaXMudXBkYXRlSGVhbHRoKGhlYWx0aCk7XG4gICAgdGhpcy5wb3Rpb25zLS07XG4gIH1cblxuICB1cGRhdGVFeHAoZXhwKSB7XG4gICAgdGhpcy5leHAgKz0gZXhwO1xuICB9XG5cbiAgbGV2ZWxVcCgpIHtcbiAgICB0aGlzLmF0dGFjayArPSAzO1xuICAgIHRoaXMuZGVmZW5zZSArPSAyO1xuICAgIHRoaXMubWF4SGVhbHRoICs9IDE7XG4gICAgdGhpcy5sZXZlbCsrO1xuICAgIGNvbnN0IGNhbGNOZXdFeHAgPSB0aGlzLmV4cCAtIHRoaXMubWF4RXhwO1xuICAgIHRoaXMuZXhwID0gY2FsY05ld0V4cCA8PSAwID8gMCA6IGNhbGNOZXdFeHA7XG4gICAgdGhpcy5tYXhFeHAgPSB0aGlzLm1heEV4cCAqIDI7XG4gIH1cblxuICB1cGRhdGVIZWFsdGgoaGVhbHRoKSB7XG4gICAgdGhpcy5oZWFsdGggKz0gaGVhbHRoO1xuICAgIGlmICh0aGlzLmhlYWx0aCA+IHRoaXMubWF4SGVhbHRoKSB0aGlzLmhlYWx0aCA9IHRoaXMubWF4SGVhbHRoO1xuICB9XG5cbiAgcmVzcGF3bihwbGF5ZXJzKSB7XG4gICAgdGhpcy5oZWFsdGggPSB0aGlzLm1heEhlYWx0aDtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMuZ2VuZXJhdGVMb2NhdGlvbihwbGF5ZXJzKTtcbiAgICB0aGlzLnggPSBsb2NhdGlvblswXTtcbiAgICB0aGlzLnkgPSBsb2NhdGlvblsxXTtcbiAgfVxuXG4gIGdlbmVyYXRlTG9jYXRpb24ocGxheWVycykge1xuICAgIHJldHVybiBbMjAwLCAyMDBdO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztJQUFxQkEsV0FBVyxHQUFBQyxPQUFBO0VBQzlCLFNBQUFELFlBQ0VFLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxPQUFPLEVBQ1BDLElBQUksRUFDSkMsR0FBRyxFQUNIQyxPQUFPLEVBQ1BDLFlBQVksRUFDWjtJQUFBLElBQUFDLGdCQUFBLG1CQUFBVCxXQUFBO0lBQ0EsSUFBSSxDQUFDVSxNQUFNLEdBQUdGLFlBQVksQ0FBQ0UsTUFBTTtJQUNqQyxJQUFJLENBQUNDLE9BQU8sR0FBR0gsWUFBWSxDQUFDRyxPQUFPO0lBQ25DLElBQUksQ0FBQ0MsTUFBTSxHQUFHSixZQUFZLENBQUNJLE1BQU07SUFDakMsSUFBSSxDQUFDQyxTQUFTLEdBQUdMLFlBQVksQ0FBQ0ssU0FBUztJQUN2QyxJQUFJLENBQUNDLElBQUksR0FBR04sWUFBWSxDQUFDTSxJQUFJO0lBQzdCLElBQUksQ0FBQ0MsRUFBRSxHQUFHYixRQUFRO0lBQ2xCLElBQUksQ0FBQ2MsVUFBVSxHQUFHWCxJQUFJO0lBQ3RCLElBQUksQ0FBQ0MsR0FBRyxHQUFHQSxHQUFHO0lBQ2QsSUFBSSxDQUFDVyxLQUFLLEdBQUdULFlBQVksQ0FBQ1MsS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNyQyxJQUFJLENBQUNDLFlBQVksR0FBR1YsWUFBWSxDQUFDVSxZQUFZLElBQUksQ0FBQyxDQUFDO0lBQ25ELElBQUksQ0FBQ0MsS0FBSyxHQUFHWCxZQUFZLENBQUNXLEtBQUs7SUFDL0IsSUFBSSxDQUFD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","map":{"version":3,"names":["PlayerModel","exports","playerId","spawnLocations","players","name","key","actionB","playerSchema","_classCallCheck2","attack","defense","health","maxHealth","gold","id","playerName","items","equipedItems","level","exp","maxExp","potions","maxNumberOfItems","actionAActive","potionAActive","flipX","location","generateLocation","x","y","_createClass2","value","addItem","item","equipItem","attackBonus","defenseBonus","healthBonus","removeItem","removeEquipedItem","itemId","canPickupItem","Object","keys","length","canEquipItem","playerAttacked","damage","updateHealth","updateGold","potion","updateExp","levelUp","calcNewExp","respawn"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["PlayerModel.js"],"sourcesContent":["export default class PlayerModel {\n  constructor(\n    playerId,\n    spawnLocations,\n    players,\n    name,\n    key,\n    actionB,\n    playerSchema\n  ) {\n    this.attack = playerSchema.attack;\n    this.defense = playerSchema.defense;\n    this.health = playerSchema.health;\n    this.maxHealth = playerSchema.maxHealth;\n    this.gold = playerSchema.gold;\n    this.id = playerId;\n    this.playerName = name;\n    this.key = key;\n    this.items = playerSchema.items || {};\n    this.equipedItems = playerSchema.equipedItems || {};\n    this.level = playerSchema.level;\n    this.exp = playerSchema.exp;\n    this.maxExp = playerSchema.maxExp;\n    this.potions = playerSchema.potions;\n    //this.playerItems =  {};\n\n    this.maxNumberOfItems = 5;\n\n    this.spawnLocations = spawnLocations;\n    this.actionAActive = false;\n    this.potionAActive = false;\n    this.flipX = true;\n    const location = this.generateLocation(players);\n    this.x = location[0];\n    this.y = location[1];\n  }\n\n  addItem(item) {\n    this.items[item.id] = item;\n  }\n\n  equipItem(item) {\n    this.equipedItems[item.id] = item;\n\n    this.attack += this.equipedItems[item.id].attackBonus;\n    this.defense += this.equipedItems[item.id].defenseBonus;\n    this.maxHealth += this.equipedItems[item.id].healthBonus;\n    this.removeItem(item.id);\n  }\n\n  removeEquipedItem(itemId) {\n    this.attack -= this.equipedItems[itemId].attackBonus;\n    this.defense -= this.equipedItems[itemId].defenseBonus;\n    this.maxHealth -= this.equipedItems[itemId].healthBonus;\n    delete this.equipedItems[itemId];\n  }\n\n  removeItem(itemId) {\n    // this.attack -= this.items[itemId].attackBonus;\n    // this.defense -= this.items[itemId].defenseBonus;\n    // this.maxHealth -= this.items[itemId].healthBonus;\n    delete this.items[itemId];\n  }\n\n  canPickupItem() {\n    if (Object.keys(this.items).length < 5) {\n      return true;\n    }\n    return false;\n  }\n\n  canEquipItem() {\n    if (Object.keys(this.equipedItems).length < 5) {\n      return true;\n    }\n    return false;\n  }\n\n  playerAttacked(attack) {\n    let damage = this.defense - attack;\n    if (damage > 0) damage = 0;\n\n    this.updateHealth(damage);\n  }\n\n  updateGold(gold) {\n    this.gold += gold;\n  }\n\n  potion(health) {\n    this.updateHealth(health);\n    this.potions--;\n  }\n\n  updateExp(exp) {\n    this.exp += exp;\n  }\n\n  levelUp() {\n    this.attack += 3;\n    this.defense += 2;\n    this.maxHealth += 1;\n    this.level++;\n    const calcNewExp = this.exp - this.maxExp;\n    this.exp = calcNewExp <= 0 ? 0 : calcNewExp;\n    this.maxExp = this.maxExp * 2;\n  }\n\n  updateHealth(health) {\n    this.health += health;\n    if (this.health > this.maxHealth) this.health = this.maxHealth;\n  }\n\n  respawn(players) {\n    this.health = this.maxHealth;\n    const location = this.generateLocation(players);\n    this.x = location[0];\n    this.y = location[1];\n  }\n\n  generateLocation(players) {\n    return [200, 200];\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719072272077},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/ItemController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _ChestModel = _interopRequireDefault(require(\"../../models/ChestModel\"));\nvar _ItemModel = _interopRequireDefault(require(\"../../models/ItemModel\"));\nvar itemData = _interopRequireWildcard(require(\"../../../public/assets/level/tools.json\"));\nvar _uuid = require(\"uuid\");\nvar _utils = require(\"../utils\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar ItemController = exports[\"default\"] = /*#__PURE__*/function () {\n  function ItemController(io) {\n    (0, _classCallCheck2[\"default\"])(this, ItemController);\n    this.chests = {};\n    this.items = {};\n    this.io = io;\n    this.itemDictionary = {\n      chest: this.createChest.bind(this),\n      item: this.createItem.bind(this),\n      \"\": this.drop.bind(this)\n    };\n  }\n  return (0, _createClass2[\"default\"])(ItemController, [{\n    key: \"_eventDrop\",\n    value: function _eventDrop(socket) {\n      var _this = this;\n      return socket.on(\"dropItem\", function (x, y, item) {\n        _this.itemDictionary[item](x, y);\n      });\n    }\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {\n      var _this2 = this;\n      this._eventDrop(socket);\n      socket.on(\"playerCollectedItem\", function (itemId) {\n        socket.emit(\"collectedItem\", _this2.items[itemId]);\n        _this2.deleteItems(itemId);\n      });\n    }\n  }, {\n    key: \"addItems\",\n    value: function addItems(itemId, item) {\n      this.items[itemId] = item;\n      this.io.emit(\"itemSpawned\", item);\n    }\n  }, {\n    key: \"deleteItems\",\n    value: function deleteItems(itemId) {\n      delete this.items[itemId];\n      this.io.emit(\"itemRemoved\", itemId);\n    }\n  }, {\n    key: \"addChest\",\n    value: function addChest(chestId, chest) {\n      this.chests[chestId] = chest;\n      this.io.emit(\"chestSpawned\", chest);\n    }\n  }, {\n    key: \"deleteChest\",\n    value: function deleteChest(chestId) {\n      this.io.emit(\"chestRemoved\", chestId);\n    }\n  }, {\n    key: \"drop\",\n    value: function drop(x, y) {}\n  }, {\n    key: \"createChest\",\n    value: function createChest(x, y) {\n      var chest = new _ChestModel[\"default\"](x, y, (0, _utils.randomNumber)(10, 20), \"chest-\".concat((0, _uuid.v4)()));\n      this.addChest(chest.id, chest);\n    }\n  }, {\n    key: \"createItem\",\n    value: function createItem(x, y) {\n      var randomItem = itemData.items[Math.floor(Math.random() * itemData.items.length)];\n      var item = new _ItemModel[\"default\"](x, y, \"item-\".concat((0, _uuid.v4)()), randomItem.name, randomItem.frame, (0, _utils.getRandonValues)(), (0, _utils.getRandonValues)(), (0, _utils.getRandonValues)(), _utils.WeaponTypes.MELEE, \"Description\");\n      this.addItems(item.id, item);\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2hlc3RNb2RlbCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0l0ZW1Nb2RlbCIsIml0ZW1EYXRhIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfdXVpZCIsIl91dGlscyIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIkl0ZW1Db250cm9sbGVyIiwiZXhwb3J0cyIsImlvIiwiX2NsYXNzQ2FsbENoZWNrMiIsImNoZXN0cyIsIml0ZW1zIiwiaXRlbURpY3Rpb25hcnkiLCJjaGVzdCIsImNyZWF0ZUNoZXN0IiwiYmluZCIsIml0ZW0iLCJjcmVhdGVJdGVtIiwiZHJvcCIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsIl9ldmVudERyb3AiLCJzb2NrZXQiLCJfdGhpcyIsIm9uIiwieCIsInkiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiX3RoaXMyIiwiaXRlbUlkIiwiZW1pdCIsImRlbGV0ZUl0ZW1zIiwiYWRkSXRlbXMiLCJhZGRDaGVzdCIsImNoZXN0SWQiLCJkZWxldGVDaGVzdCIsIkNoZXN0TW9kZWwiLCJyYW5kb21OdW1iZXIiLCJjb25jYXQiLCJ2NCIsImlkIiwicmFuZG9tSXRlbSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsIkl0ZW1Nb2RlbCIsIm5hbWUiLCJmcmFtZSIsImdldFJhbmRvblZhbHVlcyIsIldlYXBvblR5cGVzIiwiTUVMRUUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiSXRlbUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoZXN0TW9kZWwgZnJvbSBcIi4uLy4uL21vZGVscy9DaGVzdE1vZGVsXCI7XG5pbXBvcnQgSXRlbU1vZGVsIGZyb20gXCIuLi8uLi9tb2RlbHMvSXRlbU1vZGVsXCI7XG5pbXBvcnQgKiBhcyBpdGVtRGF0YSBmcm9tIFwiLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9sZXZlbC90b29scy5qc29uXCI7XG5pbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgeyBnZXRSYW5kb25WYWx1ZXMsIHJhbmRvbU51bWJlciwgV2VhcG9uVHlwZXMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihpbykge1xuICAgIHRoaXMuY2hlc3RzID0ge307XG4gICAgdGhpcy5pdGVtcyA9IHt9O1xuICAgIHRoaXMuaW8gPSBpbztcblxuICAgIHRoaXMuaXRlbURpY3Rpb25hcnkgPSB7XG4gICAgICBjaGVzdDogdGhpcy5jcmVhdGVDaGVzdC5iaW5kKHRoaXMpLFxuICAgICAgaXRlbTogdGhpcy5jcmVhdGVJdGVtLmJpbmQodGhpcyksXG4gICAgICBcIlwiOiB0aGlzLmRyb3AuYmluZCh0aGlzKSxcbiAgICB9O1xuICB9XG5cbiAgX2V2ZW50RHJvcChzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwiZHJvcEl0ZW1cIiwgKHgsIHksIGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuaXRlbURpY3Rpb25hcnlbaXRlbV0oeCwgeSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXR1cEV2ZW50TGlzdGVuZXJzKHNvY2tldCkge1xuICAgIHRoaXMuX2V2ZW50RHJvcChzb2NrZXQpO1xuICAgIHNvY2tldC5vbihcInBsYXllckNvbGxlY3RlZEl0ZW1cIiwgKGl0ZW1JZCkgPT4ge1xuICAgICAgc29ja2V0LmVtaXQoXCJjb2xsZWN0ZWRJdGVtXCIsIHRoaXMuaXRlbXNbaXRlbUlkXSk7XG4gICAgICB0aGlzLmRlbGV0ZUl0ZW1zKGl0ZW1JZCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtcyhpdGVtSWQsIGl0ZW0pIHtcbiAgICB0aGlzLml0ZW1zW2l0ZW1JZF0gPSBpdGVtO1xuICAgIHRoaXMuaW8uZW1pdChcIml0ZW1TcGF3bmVkXCIsIGl0ZW0pO1xuICB9XG5cbiAgZGVsZXRlSXRlbXMoaXRlbUlkKSB7XG4gICAgZGVsZXRlIHRoaXMuaXRlbXNbaXRlbUlkXTtcbiAgICB0aGlzLmlvLmVtaXQoXCJpdGVtUmVtb3ZlZFwiLCBpdGVtSWQpO1xuICB9XG5cbiAgYWRkQ2hlc3QoY2hlc3RJZCwgY2hlc3QpIHtcbiAgICB0aGlzLmNoZXN0c1tjaGVzdElkXSA9IGNoZXN0O1xuICAgIHRoaXMuaW8uZW1pdChcImNoZXN0U3Bhd25lZFwiLCBjaGVzdCk7XG4gIH1cblxuICBkZWxldGVDaGVzdChjaGVzdElkKSB7XG4gICAgdGhpcy5pby5lbWl0KFwiY2hlc3RSZW1vdmVkXCIsIGNoZXN0SWQpO1xuICB9XG5cbiAgZHJvcCh4LCB5KSB7fVxuXG4gIGNyZWF0ZUNoZXN0KHgsIHkpIHtcbiAgICBjb25zdCBjaGVzdCA9IG5ldyBDaGVzdE1vZGVsKHgsIHksIHJhbmRvbU51bWJlcigxMCwgMjApLCBgY2hlc3QtJHt2NCgpfWApO1xuICAgIHRoaXMuYWRkQ2hlc3QoY2hlc3QuaWQsIGNoZXN0KTtcbiAgfVxuXG4gIGNyZWF0ZUl0ZW0oeCwgeSkge1xuICAgIGNvbnN0IHJhbmRvbUl0ZW0gPVxuICAgICAgaXRlbURhdGEuaXRlbXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaXRlbURhdGEuaXRlbXMubGVuZ3RoKV07XG5cbiAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW1Nb2RlbChcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgYGl0ZW0tJHt2NCgpfWAsXG4gICAgICByYW5kb21JdGVtLm5hbWUsXG4gICAgICByYW5kb21JdGVtLmZyYW1lLFxuICAgICAgZ2V0UmFuZG9uVmFsdWVzKCksXG4gICAgICBnZXRSYW5kb25WYWx1ZXMoKSxcbiAgICAgIGdldFJhbmRvblZhbHVlcygpLFxuICAgICAgV2VhcG9uVHlwZXMuTUVMRUUsXG4gICAgICBcIkRlc2NyaXB0aW9uXCJcbiAgICApO1xuXG4gICAgdGhpcy5hZGRJdGVtcyhpdGVtLmlkLCBpdGVtKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBQUEsV0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBQyx1QkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssTUFBQSxHQUFBTCxPQUFBO0FBQXNFLFNBQUFNLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSix3QkFBQUksQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLGdCQUFBSyxPQUFBLENBQUFMLENBQUEsMEJBQUFBLENBQUEsc0JBQUFBLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FB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Q0FBQyxHQUFHdEIsS0FBSztNQUM1QixJQUFJLENBQUNMLEVBQUUsQ0FBQ3VCLElBQUksQ0FBQyxjQUFjLEVBQUVsQixLQUFLLENBQUM7SUFDckM7RUFBQztJQUFBTyxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBZSxZQUFZRCxPQUFPLEVBQUU7TUFDbkIsSUFBSSxDQUFDM0IsRUFBRSxDQUFDdUIsSUFBSSxDQUFDLGNBQWMsRUFBRUksT0FBTyxDQUFDO0lBQ3ZDO0VBQUM7SUFBQWYsR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQUgsS0FBS1EsQ0FBQyxFQUFFQyxDQUFDLEVBQUUsQ0FBQztFQUFDO0lBQUFQLEdBQUE7SUFBQUMsS0FBQSxFQUViLFNBQUFQLFlBQVlZLENBQUMsRUFBRUMsQ0FBQyxFQUFFO01BQ2hCLElBQU1kLEtBQUssR0FBRyxJQUFJd0Isc0JBQVUsQ0FBQ1gsQ0FBQyxFQUFFQyxDQUFDLEVBQUUsSUFBQVcsbUJBQVksRUFBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLFdBQUFDLE1BQUEsQ0FBVyxJQUFBQyxRQUFFLEVBQUMsQ0FBQyxDQUFFLENBQUM7TUFDekUsSUFBSSxDQUFDTixRQUFRLENBQUNyQixLQUFLLENBQUM0QixFQUFFLEVBQUU1QixLQUFLLENBQUM7SUFDaEM7RUFBQztJQUFBTyxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBSixXQUFXUyxDQUFDLEVBQUVDLENBQUMsRUFBRTtNQUNmLElBQU1lLFVBQVUsR0FDZDVELFFBQVEsQ0FBQzZCLEtBQUssQ0FBQ2dDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEdBQUcvRCxRQUFRLENBQUM2QixLQUFLLENBQUNtQyxNQUFNLENBQUMsQ0FBQztNQUVuRSxJQUFNOUIsSUFBSSxHQUFHLElBQUkrQixxQkFBUyxDQUN4QnJCLENBQUMsRUFDREMsQ0FBQyxVQUFBWSxNQUFBLENBQ08sSUFBQUMsUUFBRSxFQUFDLENBQUMsR0FDWkUsVUFBVSxDQUFDTSxJQUFJLEVBQ2ZOLFVBQVUsQ0FBQ08sS0FBSyxFQUNoQixJQUFBQyxzQkFBZSxFQUFDLENBQUMsRUFDakIsSUFBQUEsc0JBQWUsRUFBQyxDQUFDLEVBQ2pCLElBQUFBLHNCQUFlLEVBQUMsQ0FBQyxFQUNqQkMsa0JBQVcsQ0FBQ0MsS0FBSyxFQUNqQixhQUNGLENBQUM7TUFFRCxJQUFJLENBQUNuQixRQUFRLENBQUNqQixJQUFJLENBQUN5QixFQUFFLEVBQUV6QixJQUFJLENBQUM7SUFDOUI7RUFBQztBQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_ChestModel","_interopRequireDefault","require","_ItemModel","itemData","_interopRequireWildcard","_uuid","_utils","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ItemController","exports","io","_classCallCheck2","chests","items","itemDictionary","chest","createChest","bind","item","createItem","drop","_createClass2","key","value","_eventDrop","socket","_this","on","x","y","setupEventListeners","_this2","itemId","emit","deleteItems","addItems","addChest","chestId","deleteChest","ChestModel","randomNumber","concat","v4","id","randomItem","Math","floor","random","length","ItemModel","name","frame","getRandonValues","WeaponTypes","MELEE"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["ItemController.js"],"sourcesContent":["import ChestModel from \"../../models/ChestModel\";\nimport ItemModel from \"../../models/ItemModel\";\nimport * as itemData from \"../../../public/assets/level/tools.json\";\nimport { v4 } from \"uuid\";\nimport { getRandonValues, randomNumber, WeaponTypes } from \"../utils\";\n\nexport default class ItemController {\n  constructor(io) {\n    this.chests = {};\n    this.items = {};\n    this.io = io;\n\n    this.itemDictionary = {\n      chest: this.createChest.bind(this),\n      item: this.createItem.bind(this),\n      \"\": this.drop.bind(this),\n    };\n  }\n\n  _eventDrop(socket) {\n    return socket.on(\"dropItem\", (x, y, item) => {\n      this.itemDictionary[item](x, y);\n    });\n  }\n\n  setupEventListeners(socket) {\n    this._eventDrop(socket);\n    socket.on(\"playerCollectedItem\", (itemId) => {\n      socket.emit(\"collectedItem\", this.items[itemId]);\n      this.deleteItems(itemId);\n    });\n  }\n\n  addItems(itemId, item) {\n    this.items[itemId] = item;\n    this.io.emit(\"itemSpawned\", item);\n  }\n\n  deleteItems(itemId) {\n    delete this.items[itemId];\n    this.io.emit(\"itemRemoved\", itemId);\n  }\n\n  addChest(chestId, chest) {\n    this.chests[chestId] = chest;\n    this.io.emit(\"chestSpawned\", chest);\n  }\n\n  deleteChest(chestId) {\n    this.io.emit(\"chestRemoved\", chestId);\n  }\n\n  drop(x, y) {}\n\n  createChest(x, y) {\n    const chest = new ChestModel(x, y, randomNumber(10, 20), `chest-${v4()}`);\n    this.addChest(chest.id, chest);\n  }\n\n  createItem(x, y) {\n    const randomItem =\n      itemData.items[Math.floor(Math.random() * itemData.items.length)];\n\n    const item = new ItemModel(\n      x,\n      y,\n      `item-${v4()}`,\n      randomItem.name,\n      randomItem.frame,\n      getRandonValues(),\n      getRandonValues(),\n      getRandonValues(),\n      WeaponTypes.MELEE,\n      \"Description\"\n    );\n\n    this.addItems(item.id, item);\n  }\n}\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAC,uBAAA,CAAAH,OAAA;AACA,IAAAI,KAAA,GAAAJ,OAAA;AACA,IAAAK,MAAA,GAAAL,OAAA;AAAsE,SAAAM,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAJ,wBAAAI,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,gBAAAK,OAAA,CAAAL,CAAA,0BAAAA,CAAA,sBAAAA,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,cAAAR,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA,IAEjDW,cAAc,GAAAC,OAAA;EACjC,SAAAD,eAAYE,EAAE,EAAE;IAAA,IAAAC,gBAAA,mBAAAH,cAAA;IACd,IAAI,CAACI,MAAM,GAAG,CAAC,CAAC;IAChB,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC;IACf,IAAI,CAACH,EAAE,GAAGA,EAAE;IAEZ,IAAI,CAACI,cAAc,GAAG;MACpBC,KAAK,EAAE,IAAI,CAACC,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC;MAClCC,IAAI,EAAE,IAAI,CAACC,UAAU,CAACF,IAAI,CAAC,IAAI,CAAC;MAChC,EAAE,EAAE,IAAI,CAACG,IAAI,CAACH,IAAI,CAAC,IAAI;IACzB,CAAC;EACH;EAAC,WAAAI,aAAA,aAAAb,cAAA;IAAAc,GAAA;IAAAC,KAAA,EAED,SAAAC,WAAWC,MAAM,EAAE;MAAA,IAAAC,KAAA;MACjB,OAAOD,MAAM,CAACE,EAAE,CAAC,UAAU,EAAE,UAACC,CAAC,EAAEC,CAAC,EAAEX,IAAI,EAAK;QAC3CQ,KAAI,CAACZ,cAAc,CAACI,IAAI,CAAC,CAACU,CAAC,EAAEC,CAAC,CAAC;MACjC,CAAC,CAAC;IACJ;EAAC;IAAAP,GAAA;IAAAC,KAAA,EAED,SAAAO,oBAAoBL,MAAM,EAAE;MAAA,IAAAM,MAAA;MAC1B,IAAI,CAACP,UAAU,CAACC,MAAM,CAAC;MACvBA,MAAM,CAACE,EAAE,CAAC,qBAAqB,EAAE,UAACK,MAAM,EAAK;QAC3CP,MAAM,CAACQ,IAAI,CAAC,eAAe,EAAEF,MAAI,CAAClB,KAAK,CAACmB,MAAM,CAAC,CAAC;QAChDD,MAAI,CAACG,WAAW,CAACF,MAAM,CAAC;MAC1B,CAAC,CAAC;IACJ;EAAC;IAAAV,GAAA;IAAAC,KAAA,EAED,SAAAY,SAASH,MAAM,EAAEd,IAAI,EAAE;MACrB,IAAI,CAACL,KAAK,CAACmB,MAAM,CAAC,GAAGd,IAAI;MACzB,IAAI,CAACR,EAAE,CAACuB,IAAI,CAAC,aAAa,EAAEf,IAAI,CAAC;IACnC;EAAC;IAAAI,GAAA;IAAAC,KAAA,EAED,SAAAW,YAAYF,MAAM,EAAE;MAClB,OAAO,IAAI,CAACnB,KAAK,CAACmB,MAAM,CAAC;MACzB,IAAI,CAACtB,EAAE,CAACuB,IAAI,CAAC,aAAa,EAAED,MAAM,CAAC;IACrC;EAAC;IAAAV,GAAA;IAAAC,KAAA,EAED,SAAAa,SAASC,OAAO,EAAEtB,KAAK,EAAE;MACvB,IAAI,CAACH,MAAM,CAACyB,OAAO,CAAC,GAAGtB,KAAK;MAC5B,IAAI,CAACL,EAAE,CAACuB,IAAI,CAAC,cAAc,EAAElB,KAAK,CAAC;IACrC;EAAC;IAAAO,GAAA;IAAAC,KAAA,EAED,SAAAe,YAAYD,OAAO,EAAE;MACnB,IAAI,CAAC3B,EAAE,CAACuB,IAAI,CAAC,cAAc,EAAEI,OAAO,CAAC;IACvC;EAAC;IAAAf,GAAA;IAAAC,KAAA,EAED,SAAAH,KAAKQ,CAAC,EAAEC,CAAC,EAAE,CAAC;EAAC;IAAAP,GAAA;IAAAC,KAAA,EAEb,SAAAP,YAAYY,CAAC,EAAEC,CAAC,EAAE;MAChB,IAAMd,KAAK,GAAG,IAAIwB,sBAAU,CAACX,CAAC,EAAEC,CAAC,EAAE,IAAAW,mBAAY,EAAC,EAAE,EAAE,EAAE,CAAC,WAAAC,MAAA,CAAW,IAAAC,QAAE,EAAC,CAAC,CAAE,CAAC;MACzE,IAAI,CAACN,QAAQ,CAACrB,KAAK,CAAC4B,EAAE,EAAE5B,KAAK,CAAC;IAChC;EAAC;IAAAO,GAAA;IAAAC,KAAA,EAED,SAAAJ,WAAWS,CAAC,EAAEC,CAAC,EAAE;MACf,IAAMe,UAAU,GACd5D,QAAQ,CAAC6B,KAAK,CAACgC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG/D,QAAQ,CAAC6B,KAAK,CAACmC,MAAM,CAAC,CAAC;MAEnE,IAAM9B,IAAI,GAAG,IAAI+B,qBAAS,CACxBrB,CAAC,EACDC,CAAC,UAAAY,MAAA,CACO,IAAAC,QAAE,EAAC,CAAC,GACZE,UAAU,CAACM,IAAI,EACfN,UAAU,CAACO,KAAK,EAChB,IAAAC,sBAAe,EAAC,CAAC,EACjB,IAAAA,sBAAe,EAAC,CAAC,EACjB,IAAAA,sBAAe,EAAC,CAAC,EACjBC,kBAAW,CAACC,KAAK,EACjB,aACF,CAAC;MAED,IAAI,CAACnB,QAAQ,CAACjB,IAAI,CAACyB,EAAE,EAAEzB,IAAI,CAAC;IAC9B;EAAC;AAAA","ignoreList":[]}},"mtime":1719082725729},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/ChestModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _uuid = require(\"uuid\");\nvar ChestModel = exports[\"default\"] = /*#__PURE__*/(0, _createClass2[\"default\"])(function ChestModel(x, y, gold, spawnerId) {\n  (0, _classCallCheck2[\"default\"])(this, ChestModel);\n  this.id = \"\".concat(spawnerId, \"-\").concat((0, _uuid.v4)());\n  this.spawnerId = spawnerId;\n  this.x = x;\n  this.y = y;\n  this.gold = gold;\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXVpZCIsInJlcXVpcmUiLCJDaGVzdE1vZGVsIiwiZXhwb3J0cyIsIl9jcmVhdGVDbGFzczIiLCJ4IiwieSIsImdvbGQiLCJzcGF3bmVySWQiLCJfY2xhc3NDYWxsQ2hlY2syIiwiaWQiLCJjb25jYXQiLCJ2NCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJDaGVzdE1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7djR9IGZyb20gJ3V1aWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGVzdE1vZGVsIHtcbiAgY29uc3RydWN0b3IoeCwgeSwgZ29sZCwgc3Bhd25lcklkKSB7XG4gICAgdGhpcy5pZCA9IGAke3NwYXduZXJJZH0tJHt2NCgpfWA7XG4gICAgdGhpcy5zcGF3bmVySWQgPSBzcGF3bmVySWQ7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMuZ29sZCA9IGdvbGQ7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBQXdCLElBRUhDLFVBQVUsR0FBQUMsT0FBQSwrQkFBQUMsYUFBQSxhQUM3QixTQUFBRixXQUFZRyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUU7RUFBQSxJQUFBQyxnQkFBQSxtQkFBQVAsVUFBQTtFQUNqQyxJQUFJLENBQUNRLEVBQUUsTUFBQUMsTUFBQSxDQUFNSCxTQUFTLE9BQUFHLE1BQUEsQ0FBSSxJQUFBQyxRQUFFLEVBQUMsQ0FBQyxDQUFFO0VBQ2hDLElBQUksQ0FBQ0osU0FBUyxHQUFHQSxTQUFTO0VBQzFCLElBQUksQ0FBQ0gsQ0FBQyxHQUFHQSxDQUFDO0VBQ1YsSUFBSSxDQUFDQyxDQUFDLEdBQUdBLENBQUM7RUFDVixJQUFJLENBQUNDLElBQUksR0FBR0EsSUFBSTtBQUNsQixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_uuid","require","ChestModel","exports","_createClass2","x","y","gold","spawnerId","_classCallCheck2","id","concat","v4"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["ChestModel.js"],"sourcesContent":["import {v4} from 'uuid';\n\nexport default class ChestModel {\n  constructor(x, y, gold, spawnerId) {\n    this.id = `${spawnerId}-${v4()}`;\n    this.spawnerId = spawnerId;\n    this.x = x;\n    this.y = y;\n    this.gold = gold;\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAAwB,IAEHC,UAAU,GAAAC,OAAA,+BAAAC,aAAA,aAC7B,SAAAF,WAAYG,CAAC,EAAEC,CAAC,EAAEC,IAAI,EAAEC,SAAS,EAAE;EAAA,IAAAC,gBAAA,mBAAAP,UAAA;EACjC,IAAI,CAACQ,EAAE,MAAAC,MAAA,CAAMH,SAAS,OAAAG,MAAA,CAAI,IAAAC,QAAE,EAAC,CAAC,CAAE;EAChC,IAAI,CAACJ,SAAS,GAAGA,SAAS;EAC1B,IAAI,CAACH,CAAC,GAAGA,CAAC;EACV,IAAI,CAACC,CAAC,GAAGA,CAAC;EACV,IAAI,CAACC,IAAI,GAAGA,IAAI;AAClB,CAAC","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/ItemModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _uuid = require(\"uuid\");\n/**\n * @class\n */\nvar ItemModel = exports[\"default\"] = /*#__PURE__*/(0, _createClass2[\"default\"])(function ItemModel(x, y, spawnerId, name, frame, attackValue, defenseValue, healthValue, type, description) {\n  (0, _classCallCheck2[\"default\"])(this, ItemModel);\n  this.id = \"\".concat(spawnerId, \"-\").concat((0, _uuid.v4)());\n  this.spawnerId = spawnerId;\n  this.x = x;\n  this.y = y;\n  this.name = name;\n  this.frame = frame;\n  this.attackBonus = attackValue;\n  this.defenseBonus = defenseValue;\n  this.healthBonus = healthValue;\n  this.type = type;\n  this.description = description;\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXVpZCIsInJlcXVpcmUiLCJJdGVtTW9kZWwiLCJleHBvcnRzIiwiX2NyZWF0ZUNsYXNzMiIsIngiLCJ5Iiwic3Bhd25lcklkIiwibmFtZSIsImZyYW1lIiwiYXR0YWNrVmFsdWUiLCJkZWZlbnNlVmFsdWUiLCJoZWFsdGhWYWx1ZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsIl9jbGFzc0NhbGxDaGVjazIiLCJpZCIsImNvbmNhdCIsInY0IiwiYXR0YWNrQm9udXMiLCJkZWZlbnNlQm9udXMiLCJoZWFsdGhCb251cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJJdGVtTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbU1vZGVsIHtcbiAgY29uc3RydWN0b3IoeCwgeSwgc3Bhd25lcklkLCBuYW1lLCBmcmFtZSwgYXR0YWNrVmFsdWUsIGRlZmVuc2VWYWx1ZSwgaGVhbHRoVmFsdWUsIHR5cGUsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5pZCA9IGAke3NwYXduZXJJZH0tJHt2NCgpfWA7XG4gICAgdGhpcy5zcGF3bmVySWQgPSBzcGF3bmVySWQ7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgIHRoaXMuYXR0YWNrQm9udXMgPSBhdHRhY2tWYWx1ZTtcbiAgICB0aGlzLmRlZmVuc2VCb251cyA9IGRlZmVuc2VWYWx1ZTtcbiAgICB0aGlzLmhlYWx0aEJvbnVzID0gaGVhbHRoVmFsdWU7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkEsSUFHcUJDLFNBQVMsR0FBQUMsT0FBQSwrQkFBQUMsYUFBQSxhQUM1QixTQUFBRixVQUFZRyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsU0FBUyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsV0FBVyxFQUFFQyxZQUFZLEVBQUVDLFdBQVcsRUFBRUMsSUFBSSxFQUFFQyxXQUFXLEVBQUU7RUFBQSxJQUFBQyxnQkFBQSxtQkFBQWIsU0FBQTtFQUNuRyxJQUFJLENBQUNjLEVBQUUsTUFBQUMsTUFBQSxDQUFNVixTQUFTLE9BQUFVLE1BQUEsQ0FBSSxJQUFBQyxRQUFFLEVBQUMsQ0FBQyxDQUFFO0VBQ2hDLElBQUksQ0FBQ1gsU0FBUyxHQUFHQSxTQUFTO0VBQzFCLElBQUksQ0FBQ0YsQ0FBQyxHQUFHQSxDQUFDO0VBQ1YsSUFBSSxDQUFDQyxDQUFDLEdBQUdBLENBQUM7RUFDVixJQUFJLENBQUNFLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNDLEtBQUssR0FBR0EsS0FBSztFQUNsQixJQUFJLENBQUNVLFdBQVcsR0FBR1QsV0FBVztFQUM5QixJQUFJLENBQUNVLFlBQVksR0FBR1QsWUFBWTtFQUNoQyxJQUFJLENBQUNVLFdBQVcsR0FBR1QsV0FBVztFQUM5QixJQUFJLENBQUNDLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNDLFdBQVcsR0FBR0EsV0FBVztBQUNoQyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_uuid","require","ItemModel","exports","_createClass2","x","y","spawnerId","name","frame","attackValue","defenseValue","healthValue","type","description","_classCallCheck2","id","concat","v4","attackBonus","defenseBonus","healthBonus"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["ItemModel.js"],"sourcesContent":["import { v4 } from \"uuid\";\n/**\n * @class\n */\nexport default class ItemModel {\n  constructor(x, y, spawnerId, name, frame, attackValue, defenseValue, healthValue, type, description) {\n    this.id = `${spawnerId}-${v4()}`;\n    this.spawnerId = spawnerId;\n    this.x = x;\n    this.y = y;\n    this.name = name;\n    this.frame = frame;\n    this.attackBonus = attackValue;\n    this.defenseBonus = defenseValue;\n    this.healthBonus = healthValue;\n    this.type = type;\n    this.description = description;\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA;AACA;AACA;AAFA,IAGqBC,SAAS,GAAAC,OAAA,+BAAAC,aAAA,aAC5B,SAAAF,UAAYG,CAAC,EAAEC,CAAC,EAAEC,SAAS,EAAEC,IAAI,EAAEC,KAAK,EAAEC,WAAW,EAAEC,YAAY,EAAEC,WAAW,EAAEC,IAAI,EAAEC,WAAW,EAAE;EAAA,IAAAC,gBAAA,mBAAAb,SAAA;EACnG,IAAI,CAACc,EAAE,MAAAC,MAAA,CAAMV,SAAS,OAAAU,MAAA,CAAI,IAAAC,QAAE,EAAC,CAAC,CAAE;EAChC,IAAI,CAACX,SAAS,GAAGA,SAAS;EAC1B,IAAI,CAACF,CAAC,GAAGA,CAAC;EACV,IAAI,CAACC,CAAC,GAAGA,CAAC;EACV,IAAI,CAACE,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,KAAK,GAAGA,KAAK;EAClB,IAAI,CAACU,WAAW,GAAGT,WAAW;EAC9B,IAAI,CAACU,YAAY,GAAGT,YAAY;EAChC,IAAI,CAACU,WAAW,GAAGT,WAAW;EAC9B,IAAI,CAACC,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,WAAW,GAAGA,WAAW;AAChC,CAAC","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/NpcController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _uuid = require(\"uuid\");\nvar NpcController = exports[\"default\"] = /*#__PURE__*/function () {\n  function NpcController(io, npcsLocations) {\n    (0, _classCallCheck2[\"default\"])(this, NpcController);\n    this.npcs = {};\n    this.npcsLocations = npcsLocations;\n    this.io = io;\n    this.spawnNpc();\n  }\n  return (0, _createClass2[\"default\"])(NpcController, [{\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {}\n  }, {\n    key: \"spawnNpc\",\n    value: function spawnNpc() {\n      var location = this.npcsLocations[0];\n      var npc = {\n        x: location[0],\n        y: location[1],\n        id: \"npc-\".concat((0, _uuid.v4)())\n      };\n      this.addNpc(npc.id, npc);\n    }\n  }, {\n    key: \"addNpc\",\n    value: function addNpc(npcId, npc) {\n      this.npcs[npcId] = npc;\n      this.io.emit(\"npcSpawned\", npc);\n    }\n  }, {\n    key: \"deleteNpc\",\n    value: function deleteNpc(npcId) {\n      delete this.npcs[npcId];\n      this.io.emit(\"npcRemoved\", npcId);\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXVpZCIsInJlcXVpcmUiLCJOcGNDb250cm9sbGVyIiwiZXhwb3J0cyIsImlvIiwibnBjc0xvY2F0aW9ucyIsIl9jbGFzc0NhbGxDaGVjazIiLCJucGNzIiwic3Bhd25OcGMiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwic29ja2V0IiwibG9jYXRpb24iLCJucGMiLCJ4IiwieSIsImlkIiwiY29uY2F0IiwidjQiLCJhZGROcGMiLCJucGNJZCIsImVtaXQiLCJkZWxldGVOcGMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiTnBjQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5wY0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihpbywgbnBjc0xvY2F0aW9ucykge1xuICAgIHRoaXMubnBjcyA9IHt9O1xuICAgIHRoaXMubnBjc0xvY2F0aW9ucyA9IG5wY3NMb2NhdGlvbnM7XG4gICAgdGhpcy5pbyA9IGlvO1xuXG4gICAgdGhpcy5zcGF3bk5wYygpO1xuICB9XG5cbiAgc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpIHt9XG5cbiAgc3Bhd25OcGMoKSB7XG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLm5wY3NMb2NhdGlvbnNbMF07XG4gICAgY29uc3QgbnBjID0ge1xuICAgICAgeDogbG9jYXRpb25bMF0sXG4gICAgICB5OiBsb2NhdGlvblsxXSxcbiAgICAgIGlkOiBgbnBjLSR7djQoKX1gLFxuICAgIH07XG4gICAgdGhpcy5hZGROcGMobnBjLmlkLCBucGMpO1xuICB9XG5cbiAgYWRkTnBjKG5wY0lkLCBucGMpIHtcbiAgICB0aGlzLm5wY3NbbnBjSWRdID0gbnBjO1xuICAgIHRoaXMuaW8uZW1pdChcIm5wY1NwYXduZWRcIiwgbnBjKTtcbiAgfVxuXG4gIGRlbGV0ZU5wYyhucGNJZCkge1xuICAgIGRlbGV0ZSB0aGlzLm5wY3NbbnBjSWRdO1xuICAgIHRoaXMuaW8uZW1pdChcIm5wY1JlbW92ZWRcIiwgbnBjSWQpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsT0FBQTtBQUEwQixJQUVMQyxhQUFhLEdBQUFDLE9BQUE7RUFDaEMsU0FBQUQsY0FBWUUsRUFBRSxFQUFFQyxhQUFhLEVBQUU7SUFBQSxJQUFBQyxnQkFBQSxtQkFBQUosYUFBQTtJQUM3QixJQUFJLENBQUNLLElBQUksR0FBRyxDQUFDLENBQUM7SUFDZCxJQUFJLENBQUNGLGFBQWEsR0FBR0EsYUFBYTtJQUNsQyxJQUFJLENBQUNELEVBQUUsR0FBR0EsRUFBRTtJQUVaLElBQUksQ0FBQ0ksUUFBUSxDQUFDLENBQUM7RUFDakI7RUFBQyxXQUFBQyxhQUFBLGFBQUFQLGFBQUE7SUFBQVEsR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQUMsb0JBQW9CQyxNQUFNLEVBQUUsQ0FBQztFQUFDO0lBQUFILEdBQUE7SUFBQUMsS0FBQSxFQUU5QixTQUFBSCxTQUFBLEVBQVc7TUFDVCxJQUFNTSxRQUFRLEdBQUcsSUFBSSxDQUFDVCxhQUFhLENBQUMsQ0FBQyxDQUFDO01BQ3RDLElBQU1VLEdBQUcsR0FBRztRQUNWQyxDQUFDLEVBQUVGLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDZEcsQ0FBQyxFQUFFSCxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ2RJLEVBQUUsU0FBQUMsTUFBQSxDQUFTLElBQUFDLFFBQUUsRUFBQyxDQUFDO01BQ2pCLENBQUM7TUFDRCxJQUFJLENBQUNDLE1BQU0sQ0FBQ04sR0FBRyxDQUFDRyxFQUFFLEVBQUVILEdBQUcsQ0FBQztJQUMxQjtFQUFDO0lBQUFMLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFVLE9BQU9DLEtBQUssRUFBRVAsR0FBRyxFQUFFO01BQ2pCLElBQUksQ0FBQ1IsSUFBSSxDQUFDZSxLQUFLLENBQUMsR0FBR1AsR0FBRztNQUN0QixJQUFJLENBQUNYLEVBQUUsQ0FBQ21CLElBQUksQ0FBQyxZQUFZLEVBQUVSLEdBQUcsQ0FBQztJQUNqQztFQUFDO0lBQUFMLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFhLFVBQVVGLEtBQUssRUFBRTtNQUNmLE9BQU8sSUFBSSxDQUFDZixJQUFJLENBQUNlLEtBQUssQ0FBQztNQUN2QixJQUFJLENBQUNsQixFQUFFLENBQUNtQixJQUFJLENBQUMsWUFBWSxFQUFFRCxLQUFLLENBQUM7SUFDbkM7RUFBQztBQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_uuid","require","NpcController","exports","io","npcsLocations","_classCallCheck2","npcs","spawnNpc","_createClass2","key","value","setupEventListeners","socket","location","npc","x","y","id","concat","v4","addNpc","npcId","emit","deleteNpc"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["NpcController.js"],"sourcesContent":["import { v4 } from \"uuid\";\n\nexport default class NpcController {\n  constructor(io, npcsLocations) {\n    this.npcs = {};\n    this.npcsLocations = npcsLocations;\n    this.io = io;\n\n    this.spawnNpc();\n  }\n\n  setupEventListeners(socket) {}\n\n  spawnNpc() {\n    const location = this.npcsLocations[0];\n    const npc = {\n      x: location[0],\n      y: location[1],\n      id: `npc-${v4()}`,\n    };\n    this.addNpc(npc.id, npc);\n  }\n\n  addNpc(npcId, npc) {\n    this.npcs[npcId] = npc;\n    this.io.emit(\"npcSpawned\", npc);\n  }\n\n  deleteNpc(npcId) {\n    delete this.npcs[npcId];\n    this.io.emit(\"npcRemoved\", npcId);\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAA0B,IAELC,aAAa,GAAAC,OAAA;EAChC,SAAAD,cAAYE,EAAE,EAAEC,aAAa,EAAE;IAAA,IAAAC,gBAAA,mBAAAJ,aAAA;IAC7B,IAAI,CAACK,IAAI,GAAG,CAAC,CAAC;IACd,IAAI,CAACF,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACD,EAAE,GAAGA,EAAE;IAEZ,IAAI,CAACI,QAAQ,CAAC,CAAC;EACjB;EAAC,WAAAC,aAAA,aAAAP,aAAA;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAC,oBAAoBC,MAAM,EAAE,CAAC;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAE9B,SAAAH,SAAA,EAAW;MACT,IAAMM,QAAQ,GAAG,IAAI,CAACT,aAAa,CAAC,CAAC,CAAC;MACtC,IAAMU,GAAG,GAAG;QACVC,CAAC,EAAEF,QAAQ,CAAC,CAAC,CAAC;QACdG,CAAC,EAAEH,QAAQ,CAAC,CAAC,CAAC;QACdI,EAAE,SAAAC,MAAA,CAAS,IAAAC,QAAE,EAAC,CAAC;MACjB,CAAC;MACD,IAAI,CAACC,MAAM,CAACN,GAAG,CAACG,EAAE,EAAEH,GAAG,CAAC;IAC1B;EAAC;IAAAL,GAAA;IAAAC,KAAA,EAED,SAAAU,OAAOC,KAAK,EAAEP,GAAG,EAAE;MACjB,IAAI,CAACR,IAAI,CAACe,KAAK,CAAC,GAAGP,GAAG;MACtB,IAAI,CAACX,EAAE,CAACmB,IAAI,CAAC,YAAY,EAAER,GAAG,CAAC;IACjC;EAAC;IAAAL,GAAA;IAAAC,KAAA,EAED,SAAAa,UAAUF,KAAK,EAAE;MACf,OAAO,IAAI,CAACf,IAAI,CAACe,KAAK,CAAC;MACvB,IAAI,CAAClB,EAAE,CAACmB,IAAI,CAAC,YAAY,EAAED,KAAK,CAAC;IACnC;EAAC;AAAA","ignoreList":[]}},"mtime":1719106341599},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/auth/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/auth/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _passportLocal = _interopRequireDefault(require(\"passport-local\"));\nvar _passportJwt = _interopRequireDefault(require(\"passport-jwt\"));\nvar _UserModel = _interopRequireDefault(require(\"../models/UserModel\"));\n// handle user registration\n_passport[\"default\"].use(\"signup\", new _passportLocal[\"default\"].Strategy({\n  usernameField: \"email\",\n  passwordField: \"password\",\n  passReqToCallback: true\n}, /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(request, email, password, done) {\n    var username, player, user;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          username = request.body.username;\n          player = {\n            playerName: username,\n            attack: 25,\n            defense: 10,\n            maxHealth: 150,\n            health: 150,\n            frame: 0,\n            key: \"characters_1\",\n            gold: 20,\n            items: null,\n            equipedItems: null,\n            exp: 0,\n            maxExp: 100,\n            level: 1,\n            potions: 0\n          };\n          _context.next = 5;\n          return _UserModel[\"default\"].create({\n            email: email,\n            password: password,\n            username: username,\n            player: player\n          });\n        case 5:\n          user = _context.sent;\n          return _context.abrupt(\"return\", done(null, user));\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", done(_context.t0));\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n  return function (_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}()));\n\n// handle user login\n_passport[\"default\"].use(\"login\", new _passportLocal[\"default\"].Strategy({\n  usernameField: \"username\",\n  passwordField: \"password\"\n}, /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(username, password, done) {\n    var user, valid;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _UserModel[\"default\"].findOne({\n            username: username\n          });\n        case 3:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", done(new Error(\"user not found\"), false));\n        case 6:\n          if (user.player) {\n            _context2.next = 8;\n            break;\n          }\n          return _context2.abrupt(\"return\", done(new Error(\"user not found\"), false));\n        case 8:\n          _context2.next = 10;\n          return user.isValidPassword(password);\n        case 10:\n          valid = _context2.sent;\n          if (valid) {\n            _context2.next = 13;\n            break;\n          }\n          return _context2.abrupt(\"return\", done(new Error(\"invalid password\"), false));\n        case 13:\n          return _context2.abrupt(\"return\", done(null, user));\n        case 16:\n          _context2.prev = 16;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", done(_context2.t0));\n        case 19:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 16]]);\n  }));\n  return function (_x5, _x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n}()));\n\n// verify jwt token\n_passport[\"default\"].use(new _passportJwt[\"default\"].Strategy({\n  secretOrKey: process.env.JWT_SECRET,\n  jwtFromRequest: function jwtFromRequest(request) {\n    var token = null;\n    if (request && request.cookies) token = request.cookies.jwt;\n    return token;\n  }\n}, /*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(token, done) {\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          return _context3.abrupt(\"return\", done(null, token.user));\n        case 4:\n          _context3.prev = 4;\n          _context3.t0 = _context3[\"catch\"](0);\n          return _context3.abrupt(\"return\", done(_context3.t0));\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 4]]);\n  }));\n  return function (_x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}()));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFzc3BvcnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXNzcG9ydExvY2FsIiwiX3Bhc3Nwb3J0Snd0IiwiX1VzZXJNb2RlbCIsInBhc3Nwb3J0IiwidXNlIiwibG9jYWxTdHJhdGVneSIsIlN0cmF0ZWd5IiwidXNlcm5hbWVGaWVsZCIsInBhc3N3b3JkRmllbGQiLCJwYXNzUmVxVG9DYWxsYmFjayIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcXVlc3QiLCJlbWFpbCIsInBhc3N3b3JkIiwiZG9uZSIsInVzZXJuYW1lIiwicGxheWVyIiwidXNlciIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwicGxheWVyTmFtZSIsImF0dGFjayIsImRlZmVuc2UiLCJtYXhIZWFsdGgiLCJoZWFsdGgiLCJmcmFtZSIsImtleSIsImdvbGQiLCJpdGVtcyIsImVxdWlwZWRJdGVtcyIsImV4cCIsIm1heEV4cCIsImxldmVsIiwicG90aW9ucyIsIlVzZXJNb2RlbCIsImNyZWF0ZSIsInNlbnQiLCJhYnJ1cHQiLCJ0MCIsInN0b3AiLCJfeCIsIl94MiIsIl94MyIsIl94NCIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3JlZjIiLCJfY2FsbGVlMiIsInZhbGlkIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiZmluZE9uZSIsIkVycm9yIiwiaXNWYWxpZFBhc3N3b3JkIiwiX3g1IiwiX3g2IiwiX3g3Iiwiand0U3RyYXRlZ3kiLCJzZWNyZXRPcktleSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiand0RnJvbVJlcXVlc3QiLCJ0b2tlbiIsImNvb2tpZXMiLCJqd3QiLCJfcmVmMyIsIl9jYWxsZWUzIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiX3g4IiwiX3g5Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZmFicmljaW9vbGl2ZWlyYS9EZXZlbG9wZXIvZnVsbHN0YWNrLWhlcm8tam91cm5leS9zZXJ2ZXIvc3JjL2F1dGgvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXNzcG9ydCBmcm9tIFwicGFzc3BvcnRcIjtcbmltcG9ydCBsb2NhbFN0cmF0ZWd5IGZyb20gXCJwYXNzcG9ydC1sb2NhbFwiO1xuaW1wb3J0IGp3dFN0cmF0ZWd5IGZyb20gXCJwYXNzcG9ydC1qd3RcIjtcblxuaW1wb3J0IFVzZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL1VzZXJNb2RlbFwiO1xuXG4vLyBoYW5kbGUgdXNlciByZWdpc3RyYXRpb25cbnBhc3Nwb3J0LnVzZShcbiAgXCJzaWdudXBcIixcbiAgbmV3IGxvY2FsU3RyYXRlZ3kuU3RyYXRlZ3koXG4gICAge1xuICAgICAgdXNlcm5hbWVGaWVsZDogXCJlbWFpbFwiLFxuICAgICAgcGFzc3dvcmRGaWVsZDogXCJwYXNzd29yZFwiLFxuICAgICAgcGFzc1JlcVRvQ2FsbGJhY2s6IHRydWUsXG4gICAgfSxcbiAgICBhc3luYyAocmVxdWVzdCwgZW1haWwsIHBhc3N3b3JkLCBkb25lKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHVzZXJuYW1lIH0gPSByZXF1ZXN0LmJvZHk7XG4gICAgICAgIGNvbnN0IHBsYXllciA9IHtcbiAgICAgICAgICBwbGF5ZXJOYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICBhdHRhY2s6IDI1LFxuICAgICAgICAgIGRlZmVuc2U6IDEwLFxuICAgICAgICAgIG1heEhlYWx0aDogMTUwLFxuICAgICAgICAgIGhlYWx0aDogMTUwLFxuICAgICAgICAgIGZyYW1lOiAwLFxuICAgICAgICAgIGtleTogXCJjaGFyYWN0ZXJzXzFcIixcbiAgICAgICAgICBnb2xkOiAyMCxcbiAgICAgICAgICBpdGVtczogbnVsbCxcbiAgICAgICAgICBlcXVpcGVkSXRlbXM6IG51bGwsXG4gICAgICAgICAgZXhwOiAwLFxuICAgICAgICAgIG1heEV4cDogMTAwLFxuICAgICAgICAgIGxldmVsOiAxLFxuICAgICAgICAgIHBvdGlvbnM6IDAsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuY3JlYXRlKHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICBwbGF5ZXIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIClcbik7XG5cbi8vIGhhbmRsZSB1c2VyIGxvZ2luXG5wYXNzcG9ydC51c2UoXG4gIFwibG9naW5cIixcbiAgbmV3IGxvY2FsU3RyYXRlZ3kuU3RyYXRlZ3koXG4gICAge1xuICAgICAgdXNlcm5hbWVGaWVsZDogXCJ1c2VybmFtZVwiLFxuICAgICAgcGFzc3dvcmRGaWVsZDogXCJwYXNzd29yZFwiLFxuICAgIH0sXG4gICAgYXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZG9uZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcm5hbWUgfSk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcihcInVzZXIgbm90IGZvdW5kXCIpLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXVzZXIucGxheWVyKSB7XG4gICAgICAgICAgcmV0dXJuIGRvbmUobmV3IEVycm9yKFwidXNlciBub3QgZm91bmRcIiksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWxpZCA9IGF3YWl0IHVzZXIuaXNWYWxpZFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcihcImludmFsaWQgcGFzc3dvcmRcIiksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIClcbik7XG5cbi8vIHZlcmlmeSBqd3QgdG9rZW5cbnBhc3Nwb3J0LnVzZShcbiAgbmV3IGp3dFN0cmF0ZWd5LlN0cmF0ZWd5KFxuICAgIHtcbiAgICAgIHNlY3JldE9yS2V5OiBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxuICAgICAgand0RnJvbVJlcXVlc3Q6IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgIGxldCB0b2tlbiA9IG51bGw7XG4gICAgICAgIGlmIChyZXF1ZXN0ICYmIHJlcXVlc3QuY29va2llcykgdG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuand0O1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9LFxuICAgIH0sXG4gICAgYXN5bmMgKHRva2VuLCBkb25lKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZG9uZShudWxsLCB0b2tlbi51c2VyKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIClcbik7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsY0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsWUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBRUE7QUFDQUksb0JBQVEsQ0FBQ0MsR0FBRyxDQUNWLFFBQVEsRUFDUixJQUFJQyx5QkFBYSxDQUFDQyxRQUFRLENBQ3hCO0VBQ0VDLGFBQWEsRUFB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","map":{"version":3,"names":["_passport","_interopRequireDefault","require","_passportLocal","_passportJwt","_UserModel","passport","use","localStrategy","Strategy","usernameField","passwordField","passReqToCallback","_ref","_asyncToGenerator2","_regenerator","mark","_callee","request","email","password","done","username","player","user","wrap","_callee$","_context","prev","next","body","playerName","attack","defense","maxHealth","health","frame","key","gold","items","equipedItems","exp","maxExp","level","potions","UserModel","create","sent","abrupt","t0","stop","_x","_x2","_x3","_x4","apply","arguments","_ref2","_callee2","valid","_callee2$","_context2","findOne","Error","isValidPassword","_x5","_x6","_x7","jwtStrategy","secretOrKey","process","env","JWT_SECRET","jwtFromRequest","token","cookies","jwt","_ref3","_callee3","_callee3$","_context3","_x8","_x9"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/auth/","sources":["auth.js"],"sourcesContent":["import passport from \"passport\";\nimport localStrategy from \"passport-local\";\nimport jwtStrategy from \"passport-jwt\";\n\nimport UserModel from \"../models/UserModel\";\n\n// handle user registration\npassport.use(\n  \"signup\",\n  new localStrategy.Strategy(\n    {\n      usernameField: \"email\",\n      passwordField: \"password\",\n      passReqToCallback: true,\n    },\n    async (request, email, password, done) => {\n      try {\n        const { username } = request.body;\n        const player = {\n          playerName: username,\n          attack: 25,\n          defense: 10,\n          maxHealth: 150,\n          health: 150,\n          frame: 0,\n          key: \"characters_1\",\n          gold: 20,\n          items: null,\n          equipedItems: null,\n          exp: 0,\n          maxExp: 100,\n          level: 1,\n          potions: 0,\n        };\n        const user = await UserModel.create({\n          email,\n          password,\n          username,\n          player,\n        });\n        return done(null, user);\n      } catch (error) {\n        return done(error);\n      }\n    }\n  )\n);\n\n// handle user login\npassport.use(\n  \"login\",\n  new localStrategy.Strategy(\n    {\n      usernameField: \"username\",\n      passwordField: \"password\",\n    },\n    async (username, password, done) => {\n      try {\n        const user = await UserModel.findOne({ username });\n        if (!user) {\n          return done(new Error(\"user not found\"), false);\n        }\n\n        if (!user.player) {\n          return done(new Error(\"user not found\"), false);\n        }\n        const valid = await user.isValidPassword(password);\n        if (!valid) {\n          return done(new Error(\"invalid password\"), false);\n        }\n        return done(null, user);\n      } catch (error) {\n        return done(error);\n      }\n    }\n  )\n);\n\n// verify jwt token\npassport.use(\n  new jwtStrategy.Strategy(\n    {\n      secretOrKey: process.env.JWT_SECRET,\n      jwtFromRequest: (request) => {\n        let token = null;\n        if (request && request.cookies) token = request.cookies.jwt;\n        return token;\n      },\n    },\n    async (token, done) => {\n      try {\n        return done(null, token.user);\n      } catch (error) {\n        return done(error);\n      }\n    }\n  )\n);\n"],"mappings":"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","ignoreList":[]}},"mtime":1718711816119},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar tokenList = {};\nvar router = _express[\"default\"].Router();\nfunction processLogoutRequest(request, response) {\n  if (request.cookies) {\n    var refreshToken = request.cookies.refreshJwt;\n    if (refreshToken in tokenList) delete tokenList[refreshToken];\n    response.clearCookie('jwt');\n    response.clearCookie('refreshJwt');\n  }\n  if (request.method === 'POST') {\n    response.status(200).json({\n      message: 'logged out',\n      status: 200\n    });\n  } else if (request.method === 'GET') {\n    response.sendFile('logout.html', {\n      root: './public'\n    });\n  }\n}\nrouter.get('/status', function (request, response) {\n  response.status(200).json({\n    message: 'ok',\n    status: 200\n  });\n});\nrouter.post('/signup', _passport[\"default\"].authenticate('signup', {\n  session: false\n}), /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(request, response) {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          response.status(200).json({\n            message: 'signup successful',\n            status: 200\n          });\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.post('/login', /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(request, response, next) {\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          // eslint-disable-next-line consistent-return\n          _passport[\"default\"].authenticate('login', /*#__PURE__*/function () {\n            var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(error, user) {\n              return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.prev = 0;\n                    if (!error) {\n                      _context2.next = 3;\n                      break;\n                    }\n                    return _context2.abrupt(\"return\", next(error));\n                  case 3:\n                    if (user) {\n                      _context2.next = 5;\n                      break;\n                    }\n                    return _context2.abrupt(\"return\", next(new Error('Username and password are required')));\n                  case 5:\n                    request.login(user, {\n                      session: false\n                    }, function (err) {\n                      if (err) return next(err);\n\n                      // create our jwt\n                      var body = {\n                        _id: user._id,\n                        email: user.email,\n                        name: user.username\n                      };\n                      var token = _jsonwebtoken[\"default\"].sign({\n                        user: body\n                      }, process.env.JWT_SECRET, {\n                        expiresIn: 300\n                      });\n                      var refreshToken = _jsonwebtoken[\"default\"].sign({\n                        user: body\n                      }, process.env.JWT_REFRESH_SECRET, {\n                        expiresIn: 86400\n                      });\n\n                      // store tokens in cookie\n                      response.cookie('jwt', token);\n                      response.cookie('refreshJwt', refreshToken);\n\n                      // store tokens in memory\n                      tokenList[refreshToken] = {\n                        token: token,\n                        refreshToken: refreshToken,\n                        email: user.email,\n                        _id: user._id,\n                        name: user.username\n                      };\n\n                      // send the token to the user\n                      return response.status(200).json({\n                        token: token,\n                        refreshToken: refreshToken,\n                        status: 200\n                      });\n                    });\n                    _context2.next = 12;\n                    break;\n                  case 8:\n                    _context2.prev = 8;\n                    _context2.t0 = _context2[\"catch\"](0);\n                    console.log(_context2.t0);\n                    return _context2.abrupt(\"return\", next(_context2.t0));\n                  case 12:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2, null, [[0, 8]]);\n            }));\n            return function (_x6, _x7) {\n              return _ref3.apply(this, arguments);\n            };\n          }())(request, response, next);\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nrouter.route('/logout').get(processLogoutRequest).post(processLogoutRequest);\nrouter.post('/token', function (request, response) {\n  var refreshToken = request.body.refreshToken;\n  if (refreshToken in tokenList) {\n    var body = {\n      email: tokenList[refreshToken].email,\n      _id: tokenList[refreshToken]._id,\n      name: tokenList[refreshToken].name\n    };\n    var token = _jsonwebtoken[\"default\"].sign({\n      user: body\n    }, process.env.JWT_SECRET, {\n      expiresIn: 300\n    });\n\n    // update jwt\n    response.cookie('jwt', token);\n    tokenList[refreshToken].token = token;\n    response.status(200).json({\n      token: token,\n      status: 200\n    });\n  } else {\n    response.status(401).json({\n      message: 'unauthorized',\n      status: 401\n    });\n  }\n});\nvar _default = exports[\"default\"] = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Bhc3Nwb3J0IiwiX2pzb253ZWJ0b2tlbiIsInRva2VuTGlzdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwcm9jZXNzTG9nb3V0UmVxdWVzdCIsInJlcXVlc3QiLCJyZXNwb25zZSIsImNvb2tpZXMiLCJyZWZyZXNoVG9rZW4iLCJyZWZyZXNoSnd0IiwiY2xlYXJDb29raWUiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmRGaWxlIiwicm9vdCIsImdldCIsInBvc3QiLCJwYXNzcG9ydCIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0Iiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMiIsIl9jYWxsZWUzIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiX3JlZjMiLCJfY2FsbGVlMiIsImVycm9yIiwidXNlciIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsImFicnVwdCIsIkVycm9yIiwibG9naW4iLCJlcnIiLCJib2R5IiwiX2lkIiwiZW1haWwiLCJuYW1lIiwidXNlcm5hbWUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsIkpXVF9SRUZSRVNIX1NFQ1JFVCIsImNvb2tpZSIsInQwIiwiY29uc29sZSIsImxvZyIsIl94NiIsIl94NyIsIl94MyIsIl94NCIsIl94NSIsInJvdXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZmFicmljaW9vbGl2ZWlyYS9EZXZlbG9wZXIvZnVsbHN0YWNrLWhlcm8tam91cm5leS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbIm1haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5jb25zdCB0b2tlbkxpc3QgPSB7fTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmZ1bmN0aW9uIHByb2Nlc3NMb2dvdXRSZXF1ZXN0KHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGlmIChyZXF1ZXN0LmNvb2tpZXMpIHtcbiAgICBjb25zdCByZWZyZXNoVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMucmVmcmVzaEp3dDtcbiAgICBpZiAocmVmcmVzaFRva2VuIGluIHRva2VuTGlzdCkgZGVsZXRlIHRva2VuTGlzdFtyZWZyZXNoVG9rZW5dO1xuICAgIHJlc3BvbnNlLmNsZWFyQ29va2llKCdqd3QnKTtcbiAgICByZXNwb25zZS5jbGVhckNvb2tpZSgncmVmcmVzaEp3dCcpO1xuICB9XG4gIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdsb2dnZWQgb3V0Jywgc3RhdHVzOiAyMDAgfSk7XG4gIH0gZWxzZSBpZiAocmVxdWVzdC5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgcmVzcG9uc2Uuc2VuZEZpbGUoJ2xvZ291dC5odG1sJywgeyByb290OiAnLi9wdWJsaWMnIH0pO1xuICB9XG59XG5cbnJvdXRlci5nZXQoJy9zdGF0dXMnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdvaycsIHN0YXR1czogMjAwIH0pO1xufSk7XG5cbnJvdXRlci5wb3N0KCcvc2lnbnVwJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdzaWdudXAnLCB7IHNlc3Npb246IGZhbHNlIH0pLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdzaWdudXAgc3VjY2Vzc2Z1bCcsIHN0YXR1czogMjAwIH0pO1xufSk7XG5cbnJvdXRlci5wb3N0KCcvbG9naW4nLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnbG9naW4nLCBhc3luYyAoZXJyb3IsIHVzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gbmV4dChuZXcgRXJyb3IoJ1VzZXJuYW1lIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQnKSk7XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QubG9naW4odXNlciwgeyBzZXNzaW9uOiBmYWxzZSB9LCAoZXJyKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiBuZXh0KGVycik7XG5cbiAgICAgICAgLy8gY3JlYXRlIG91ciBqd3RcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIG5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXI6IGJvZHkgfSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46IDMwMCB9KTtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gand0LnNpZ24oXG4gICAgICAgICAgeyB1c2VyOiBib2R5IH0sIHByb2Nlc3MuZW52LkpXVF9SRUZSRVNIX1NFQ1JFVCwgeyBleHBpcmVzSW46IDg2NDAwIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gc3RvcmUgdG9rZW5zIGluIGNvb2tpZVxuICAgICAgICByZXNwb25zZS5jb29raWUoJ2p3dCcsIHRva2VuKTtcbiAgICAgICAgcmVzcG9uc2UuY29va2llKCdyZWZyZXNoSnd0JywgcmVmcmVzaFRva2VuKTtcblxuICAgICAgICAvLyBzdG9yZSB0b2tlbnMgaW4gbWVtb3J5XG4gICAgICAgIHRva2VuTGlzdFtyZWZyZXNoVG9rZW5dID0ge1xuICAgICAgICAgIHRva2VuLFxuICAgICAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgIG5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2VuZCB0aGUgdG9rZW4gdG8gdGhlIHVzZXJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiwgcmVmcmVzaFRva2VuLCBzdGF0dXM6IDIwMCB9KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxuICB9KShyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk7XG59KTtcblxucm91dGVyLnJvdXRlKCcvbG9nb3V0JylcbiAgLmdldChwcm9jZXNzTG9nb3V0UmVxdWVzdClcbiAgLnBvc3QocHJvY2Vzc0xvZ291dFJlcXVlc3QpO1xuXG5yb3V0ZXIucG9zdCgnL3Rva2VuJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IHsgcmVmcmVzaFRva2VuIH0gPSByZXF1ZXN0LmJvZHk7XG4gIGlmIChyZWZyZXNoVG9rZW4gaW4gdG9rZW5MaXN0KSB7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIGVtYWlsOiB0b2tlbkxpc3RbcmVmcmVzaFRva2VuXS5lbWFpbCxcbiAgICAgIF9pZDogdG9rZW5MaXN0W3JlZnJlc2hUb2tlbl0uX2lkLFxuICAgICAgbmFtZTogdG9rZW5MaXN0W3JlZnJlc2hUb2tlbl0ubmFtZSxcbiAgICB9O1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyB1c2VyOiBib2R5IH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAzMDAgfSk7XG5cbiAgICAvLyB1cGRhdGUgand0XG4gICAgcmVzcG9uc2UuY29va2llKCdqd3QnLCB0b2tlbik7XG4gICAgdG9rZW5MaXN0W3JlZnJlc2hUb2tlbl0udG9rZW4gPSB0b2tlbjtcblxuICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiwgc3RhdHVzOiAyMDAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICd1bmF1dGhvcml6ZWQnLCBzdGF0dXM6IDQwMSB9KTtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsYUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBTUcsU0FBUyxHQUFHLENBQUMsQ0FBQztBQUNwQixJQUFNQyxNQUFNLEdBQUdDLG1CQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CLFNBQVNDLG9CQUFvQkEsQ0FBQ0MsT0FBTyxFQUFFQyxRQUFRLEVBQUU7RUFDL0MsSUFBSUQsT0FBTyxDQUFDRSxPQUFPLEVBQUU7SUFDbkIsSUFBTUMsWUFBWSxHQUFHSCxPQUFPLENBQUNFLE9BQU8sQ0FBQ0UsVUFBVTtJQUMvQyxJQUFJRCxZQUFZLElBQUlSLFNBQVMsRUFBRSxPQUFPQSxTQUFTLENBQUNRLFlBQVksQ0FBQztJQUM3REYsUUFBUSxD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_passport","_jsonwebtoken","tokenList","router","express","Router","processLogoutRequest","request","response","cookies","refreshToken","refreshJwt","clearCookie","method","status","json","message","sendFile","root","get","post","passport","authenticate","session","_ref","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","stop","_x","_x2","apply","arguments","_ref2","_callee3","_callee3$","_context3","_ref3","_callee2","error","user","_callee2$","_context2","abrupt","Error","login","err","body","_id","email","name","username","token","jwt","sign","process","env","JWT_SECRET","expiresIn","JWT_REFRESH_SECRET","cookie","t0","console","log","_x6","_x7","_x3","_x4","_x5","route","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/","sources":["main.js"],"sourcesContent":["import express from 'express';\nimport passport from 'passport';\nimport jwt from 'jsonwebtoken';\n\nconst tokenList = {};\nconst router = express.Router();\n\nfunction processLogoutRequest(request, response) {\n  if (request.cookies) {\n    const refreshToken = request.cookies.refreshJwt;\n    if (refreshToken in tokenList) delete tokenList[refreshToken];\n    response.clearCookie('jwt');\n    response.clearCookie('refreshJwt');\n  }\n  if (request.method === 'POST') {\n    response.status(200).json({ message: 'logged out', status: 200 });\n  } else if (request.method === 'GET') {\n    response.sendFile('logout.html', { root: './public' });\n  }\n}\n\nrouter.get('/status', (request, response) => {\n  response.status(200).json({ message: 'ok', status: 200 });\n});\n\nrouter.post('/signup', passport.authenticate('signup', { session: false }), async (request, response) => {\n  response.status(200).json({ message: 'signup successful', status: 200 });\n});\n\nrouter.post('/login', async (request, response, next) => {\n  // eslint-disable-next-line consistent-return\n  passport.authenticate('login', async (error, user) => {\n    try {\n      if (error) {\n        return next(error);\n      }\n      if (!user) {\n        return next(new Error('Username and password are required'));\n      }\n\n      request.login(user, { session: false }, (err) => {\n        if (err) return next(err);\n\n        // create our jwt\n        const body = {\n          _id: user._id,\n          email: user.email,\n          name: user.username,\n        };\n\n        const token = jwt.sign({ user: body }, process.env.JWT_SECRET, { expiresIn: 300 });\n        const refreshToken = jwt.sign(\n          { user: body }, process.env.JWT_REFRESH_SECRET, { expiresIn: 86400 },\n        );\n\n        // store tokens in cookie\n        response.cookie('jwt', token);\n        response.cookie('refreshJwt', refreshToken);\n\n        // store tokens in memory\n        tokenList[refreshToken] = {\n          token,\n          refreshToken,\n          email: user.email,\n          _id: user._id,\n          name: user.username,\n        };\n\n        // send the token to the user\n        return response.status(200).json({ token, refreshToken, status: 200 });\n      });\n    } catch (err) {\n      console.log(err);\n      return next(err);\n    }\n  })(request, response, next);\n});\n\nrouter.route('/logout')\n  .get(processLogoutRequest)\n  .post(processLogoutRequest);\n\nrouter.post('/token', (request, response) => {\n  const { refreshToken } = request.body;\n  if (refreshToken in tokenList) {\n    const body = {\n      email: tokenList[refreshToken].email,\n      _id: tokenList[refreshToken]._id,\n      name: tokenList[refreshToken].name,\n    };\n    const token = jwt.sign({ user: body }, process.env.JWT_SECRET, { expiresIn: 300 });\n\n    // update jwt\n    response.cookie('jwt', token);\n    tokenList[refreshToken].token = token;\n\n    response.status(200).json({ token, status: 200 });\n  } else {\n    response.status(401).json({ message: 'unauthorized', status: 401 });\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}},"mtime":1719011205040},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/password.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _nodemailerExpressHandlebars = _interopRequireDefault(require(\"nodemailer-express-handlebars\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\nvar _UserModel = _interopRequireDefault(require(\"../models/UserModel\"));\nvar email = process.env.EMAIL;\nvar password = process.env.PASSWORD;\nvar smtpTransport = _nodemailer[\"default\"].createTransport({\n  service: process.env.EMAIL_PROVIDER,\n  auth: {\n    user: email,\n    pass: password\n  }\n});\nvar handlebarsOptions = {\n  viewEngine: {\n    extName: '.hbs',\n    defaultLayout: null,\n    partialsDir: './templates/',\n    layoutsDir: './templates/'\n  },\n  viewPath: _path[\"default\"].resolve('./templates/'),\n  extName: '.html'\n};\nsmtpTransport.use('compile', (0, _nodemailerExpressHandlebars[\"default\"])(handlebarsOptions));\nvar router = _express[\"default\"].Router();\nrouter.post('/forgot-password', /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(request, response) {\n    var userEmail, user, buffer, token, emailOptions;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          userEmail = request.body.email;\n          _context.next = 3;\n          return _UserModel[\"default\"].findOne({\n            email: userEmail\n          });\n        case 3:\n          user = _context.sent;\n          if (user) {\n            _context.next = 7;\n            break;\n          }\n          response.status(400).json({\n            message: 'invalid email',\n            status: 400\n          });\n          return _context.abrupt(\"return\");\n        case 7:\n          // create user token\n          buffer = _crypto[\"default\"].randomBytes(20);\n          token = buffer.toString('hex'); // update user reset password token and exp\n          _context.next = 11;\n          return _UserModel[\"default\"].findByIdAndUpdate({\n            _id: user._id\n          }, {\n            resetToken: token,\n            resetTokenExp: Date.now() + 600000\n          });\n        case 11:\n          // send user password reset email\n          emailOptions = {\n            to: userEmail,\n            from: email,\n            template: 'forgot-password',\n            subject: 'MMO Password Reset',\n            context: {\n              name: 'joe',\n              url: \"http://localhost:\".concat(process.env.PORT || 3000, \"/?token=\").concat(token, \"&scene=resetPassword\")\n            }\n          };\n          _context.next = 14;\n          return smtpTransport.sendMail(emailOptions);\n        case 14:\n          response.status(200).json({\n            message: 'An email has been sent to your email address. Password reset link is only valid for 10 minutes.',\n            status: 200\n          });\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.post('/reset-password', /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(request, response) {\n    var userEmail, user, emailOptions;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userEmail = request.body.email;\n          _context2.next = 3;\n          return _UserModel[\"default\"].findOne({\n            resetToken: request.body.token,\n            resetTokenExp: {\n              $gt: Date.now()\n            },\n            email: userEmail\n          });\n        case 3:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 7;\n            break;\n          }\n          response.status(400).json({\n            message: 'invalid token',\n            status: 400\n          });\n          return _context2.abrupt(\"return\");\n        case 7:\n          if (!(!request.body.password || !request.body.verifiedPassword || request.body.password !== request.body.verifiedPassword)) {\n            _context2.next = 10;\n            break;\n          }\n          response.status(400).json({\n            message: 'passwords do not match',\n            status: 400\n          });\n          return _context2.abrupt(\"return\");\n        case 10:\n          // update user model\n          user.password = request.body.password;\n          user.resetToken = undefined;\n          user.resetTokenExp = undefined;\n          _context2.next = 15;\n          return user.save();\n        case 15:\n          // send user password update email\n          emailOptions = {\n            to: userEmail,\n            from: email,\n            template: 'reset-password',\n            subject: 'MMO Password Reset Confirmation',\n            context: {\n              name: user.username\n            }\n          };\n          _context2.next = 18;\n          return smtpTransport.sendMail(emailOptions);\n        case 18:\n          response.status(200).json({\n            message: 'password updated',\n            status: 200\n          });\n        case 19:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nvar _default = exports[\"default\"] = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX25vZGVtYWlsZXJFeHByZXNzSGFuZGxlYmFycyIsIl9ub2RlbWFpbGVyIiwiX3BhdGgiLCJfY3J5cHRvIiwiX1VzZXJNb2RlbCIsImVtYWlsIiwicHJvY2VzcyIsImVudiIsIkVNQUlMIiwicGFzc3dvcmQiLCJQQVNTV09SRCIsInNtdHBUcmFuc3BvcnQiLCJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VydmljZSIsIkVNQUlMX1BST1ZJREVSIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwiaGFuZGxlYmFyc09wdGlvbnMiLCJ2aWV3RW5naW5lIiwiZXh0TmFtZSIsImRlZmF1bHRMYXlvdXQiLCJwYXJ0aWFsc0RpciIsImxheW91dHNEaXIiLCJ2aWV3UGF0aCIsInBhdGgiLCJyZXNvbHZlIiwidXNlIiwiaGJzIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJ1c2VyRW1haWwiLCJidWZmZXIiLCJ0b2tlbiIsImVtYWlsT3B0aW9ucyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiVXNlck1vZGVsIiwiZmluZE9uZSIsInNlbnQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImFicnVwdCIsImNyeXB0byIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsInJlc2V0VG9rZW4iLCJyZXNldFRva2VuRXhwIiwiRGF0ZSIsIm5vdyIsInRvIiwiZnJvbSIsInRlbXBsYXRlIiwic3ViamVjdCIsImNvbnRleHQiLCJuYW1lIiwidXJsIiwiY29uY2F0IiwiUE9SVCIsInNlbmRNYWlsIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMiIsIl9jYWxsZWUyIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiJGd0IiwidmVyaWZpZWRQYXNzd29yZCIsInVuZGVmaW5lZCIsInNhdmUiLCJ1c2VybmFtZSIsIl94MyIsIl94NCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJwYXNzd29yZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBoYnMgZnJvbSAnbm9kZW1haWxlci1leHByZXNzLWhhbmRsZWJhcnMnO1xuaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcic7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcblxuaW1wb3J0IFVzZXJNb2RlbCBmcm9tICcuLi9tb2RlbHMvVXNlck1vZGVsJztcblxuY29uc3QgZW1haWwgPSBwcm9jZXNzLmVudi5FTUFJTDtcbmNvbnN0IHBhc3N3b3JkID0gcHJvY2Vzcy5lbnYuUEFTU1dPUkQ7XG5cbmNvbnN0IHNtdHBUcmFuc3BvcnQgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gIHNlcnZpY2U6IHByb2Nlc3MuZW52LkVNQUlMX1BST1ZJREVSLFxuICBhdXRoOiB7XG4gICAgdXNlcjogZW1haWwsXG4gICAgcGFzczogcGFzc3dvcmQsXG4gIH0sXG59KTtcblxuY29uc3QgaGFuZGxlYmFyc09wdGlvbnMgPSB7XG4gIHZpZXdFbmdpbmU6IHtcbiAgICBleHROYW1lOiAnLmhicycsXG4gICAgZGVmYXVsdExheW91dDogbnVsbCxcbiAgICBwYXJ0aWFsc0RpcjogJy4vdGVtcGxhdGVzLycsXG4gICAgbGF5b3V0c0RpcjogJy4vdGVtcGxhdGVzLycsXG4gIH0sXG4gIHZpZXdQYXRoOiBwYXRoLnJlc29sdmUoJy4vdGVtcGxhdGVzLycpLFxuICBleHROYW1lOiAnLmh0bWwnLFxufTtcblxuc210cFRyYW5zcG9ydC51c2UoJ2NvbXBpbGUnLCBoYnMoaGFuZGxlYmFyc09wdGlvbnMpKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoJy9mb3Jnb3QtcGFzc3dvcmQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgY29uc3QgdXNlckVtYWlsID0gcmVxdWVzdC5ib2R5LmVtYWlsO1xuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogdXNlckVtYWlsIH0pO1xuICBpZiAoIXVzZXIpIHtcbiAgICByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ2ludmFsaWQgZW1haWwnLCBzdGF0dXM6IDQwMCB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBjcmVhdGUgdXNlciB0b2tlblxuICBjb25zdCBidWZmZXIgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMjApO1xuICBjb25zdCB0b2tlbiA9IGJ1ZmZlci50b1N0cmluZygnaGV4Jyk7XG5cbiAgLy8gdXBkYXRlIHVzZXIgcmVzZXQgcGFzc3dvcmQgdG9rZW4gYW5kIGV4cFxuICBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgeyBfaWQ6IHVzZXIuX2lkIH0sIHsgcmVzZXRUb2tlbjogdG9rZW4sIHJlc2V0VG9rZW5FeHA6IERhdGUubm93KCkgKyA2MDAwMDAgfSxcbiAgKTtcblxuICAvLyBzZW5kIHVzZXIgcGFzc3dvcmQgcmVzZXQgZW1haWxcbiAgY29uc3QgZW1haWxPcHRpb25zID0ge1xuICAgIHRvOiB1c2VyRW1haWwsXG4gICAgZnJvbTogZW1haWwsXG4gICAgdGVtcGxhdGU6ICdmb3Jnb3QtcGFzc3dvcmQnLFxuICAgIHN1YmplY3Q6ICdNTU8gUGFzc3dvcmQgUmVzZXQnLFxuICAgIGNvbnRleHQ6IHtcbiAgICAgIG5hbWU6ICdqb2UnLFxuICAgICAgdXJsOiBgaHR0cDovL2xvY2FsaG9zdDoke3Byb2Nlc3MuZW52LlBPUlQgfHwgMzAwMH0vP3Rva2VuPSR7dG9rZW59JnNjZW5lPXJlc2V0UGFzc3dvcmRgLFxuICAgIH0sXG4gIH07XG4gIGF3YWl0IHNtdHBUcmFuc3BvcnQuc2VuZE1haWwoZW1haWxPcHRpb25zKTtcblxuICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0FuIGVtYWlsIGhhcyBiZWVuIHNlbnQgdG8geW91ciBlbWFpbCBhZGRyZXNzLiBQYXNzd29yZCByZXNldCBsaW5rIGlzIG9ubHkgdmFsaWQgZm9yIDEwIG1pbnV0ZXMuJywgc3RhdHVzOiAyMDAgfSk7XG59KTtcblxucm91dGVyLnBvc3QoJy9yZXNldC1wYXNzd29yZCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICBjb25zdCB1c2VyRW1haWwgPSByZXF1ZXN0LmJvZHkuZW1haWw7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7XG4gICAgcmVzZXRUb2tlbjogcmVxdWVzdC5ib2R5LnRva2VuLFxuICAgIHJlc2V0VG9rZW5FeHA6IHsgJGd0OiBEYXRlLm5vdygpIH0sXG4gICAgZW1haWw6IHVzZXJFbWFpbCxcbiAgfSk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdpbnZhbGlkIHRva2VuJywgc3RhdHVzOiA0MDAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gZW5zdXJlIHBhc3N3b3JkIHdhcyBwcm92aWRlZCwgYW5kIHRoYXQgdGhlIHBhc3N3b3JkIG1hdGNoZXMgdGhlIHZlcmlmaWVkIHBhc3N3b3JkXG4gIGlmICghcmVxdWVzdC5ib2R5LnBhc3N3b3JkIHx8ICFyZXF1ZXN0LmJvZHkudmVyaWZpZWRQYXNzd29yZFxuICAgIHx8IHJlcXVlc3QuYm9keS5wYXNzd29yZCAhPT0gcmVxdWVzdC5ib2R5LnZlcmlmaWVkUGFzc3dvcmQpIHtcbiAgICByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ3Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnLCBzdGF0dXM6IDQwMCB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyB1cGRhdGUgdXNlciBtb2RlbFxuICB1c2VyLnBhc3N3b3JkID0gcmVxdWVzdC5ib2R5LnBhc3N3b3JkO1xuICB1c2VyLnJlc2V0VG9rZW4gPSB1bmRlZmluZWQ7XG4gIHVzZXIucmVzZXRUb2tlbkV4cCA9IHVuZGVmaW5lZDtcbiAgYXdhaXQgdXNlci5zYXZlKCk7XG5cbiAgLy8gc2VuZCB1c2VyIHBhc3N3b3JkIHVwZGF0ZSBlbWFpbFxuICBjb25zdCBlbWFpbE9wdGlvbnMgPSB7XG4gICAgdG86IHVzZXJFbWFpbCxcbiAgICBmcm9tOiBlbWFpbCxcbiAgICB0ZW1wbGF0ZTogJ3Jlc2V0LXBhc3N3b3JkJyxcbiAgICBzdWJqZWN0OiAnTU1PIFBhc3N3b3JkIFJlc2V0IENvbmZpcm1hdGlvbicsXG4gICAgY29udGV4dDoge1xuICAgICAgbmFtZTogdXNlci51c2VybmFtZSxcbiAgICB9LFxuICB9O1xuICBhd2FpdCBzbXRwVHJhbnNwb3J0LnNlbmRNYWlsKGVtYWlsT3B0aW9ucyk7XG5cbiAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdwYXNzd29yZCB1cGRhdGVkJywgc3RhdHVzOiAyMDAgfSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyw0QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUks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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_nodemailerExpressHandlebars","_nodemailer","_path","_crypto","_UserModel","email","process","env","EMAIL","password","PASSWORD","smtpTransport","nodemailer","createTransport","service","EMAIL_PROVIDER","auth","user","pass","handlebarsOptions","viewEngine","extName","defaultLayout","partialsDir","layoutsDir","viewPath","path","resolve","use","hbs","router","express","Router","post","_ref","_asyncToGenerator2","_regenerator","mark","_callee","request","response","userEmail","buffer","token","emailOptions","wrap","_callee$","_context","prev","next","body","UserModel","findOne","sent","status","json","message","abrupt","crypto","randomBytes","toString","findByIdAndUpdate","_id","resetToken","resetTokenExp","Date","now","to","from","template","subject","context","name","url","concat","PORT","sendMail","stop","_x","_x2","apply","arguments","_ref2","_callee2","_callee2$","_context2","$gt","verifiedPassword","undefined","save","username","_x3","_x4","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/","sources":["password.js"],"sourcesContent":["import express from 'express';\nimport hbs from 'nodemailer-express-handlebars';\nimport nodemailer from 'nodemailer';\nimport path from 'path';\nimport crypto from 'crypto';\n\nimport UserModel from '../models/UserModel';\n\nconst email = process.env.EMAIL;\nconst password = process.env.PASSWORD;\n\nconst smtpTransport = nodemailer.createTransport({\n  service: process.env.EMAIL_PROVIDER,\n  auth: {\n    user: email,\n    pass: password,\n  },\n});\n\nconst handlebarsOptions = {\n  viewEngine: {\n    extName: '.hbs',\n    defaultLayout: null,\n    partialsDir: './templates/',\n    layoutsDir: './templates/',\n  },\n  viewPath: path.resolve('./templates/'),\n  extName: '.html',\n};\n\nsmtpTransport.use('compile', hbs(handlebarsOptions));\n\nconst router = express.Router();\n\nrouter.post('/forgot-password', async (request, response) => {\n  const userEmail = request.body.email;\n  const user = await UserModel.findOne({ email: userEmail });\n  if (!user) {\n    response.status(400).json({ message: 'invalid email', status: 400 });\n    return;\n  }\n\n  // create user token\n  const buffer = crypto.randomBytes(20);\n  const token = buffer.toString('hex');\n\n  // update user reset password token and exp\n  await UserModel.findByIdAndUpdate(\n    { _id: user._id }, { resetToken: token, resetTokenExp: Date.now() + 600000 },\n  );\n\n  // send user password reset email\n  const emailOptions = {\n    to: userEmail,\n    from: email,\n    template: 'forgot-password',\n    subject: 'MMO Password Reset',\n    context: {\n      name: 'joe',\n      url: `http://localhost:${process.env.PORT || 3000}/?token=${token}&scene=resetPassword`,\n    },\n  };\n  await smtpTransport.sendMail(emailOptions);\n\n  response.status(200).json({ message: 'An email has been sent to your email address. Password reset link is only valid for 10 minutes.', status: 200 });\n});\n\nrouter.post('/reset-password', async (request, response) => {\n  const userEmail = request.body.email;\n  const user = await UserModel.findOne({\n    resetToken: request.body.token,\n    resetTokenExp: { $gt: Date.now() },\n    email: userEmail,\n  });\n\n  if (!user) {\n    response.status(400).json({ message: 'invalid token', status: 400 });\n    return;\n  }\n\n  // ensure password was provided, and that the password matches the verified password\n  if (!request.body.password || !request.body.verifiedPassword\n    || request.body.password !== request.body.verifiedPassword) {\n    response.status(400).json({ message: 'passwords do not match', status: 400 });\n    return;\n  }\n\n  // update user model\n  user.password = request.body.password;\n  user.resetToken = undefined;\n  user.resetTokenExp = undefined;\n  await user.save();\n\n  // send user password update email\n  const emailOptions = {\n    to: userEmail,\n    from: email,\n    template: 'reset-password',\n    subject: 'MMO Password Reset Confirmation',\n    context: {\n      name: user.username,\n    },\n  };\n  await smtpTransport.sendMail(emailOptions);\n\n  response.status(200).json({ message: 'password updated', status: 200 });\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}},"mtime":1718711816122},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/UserModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n/* eslint-disable func-names */\n\nvar Schema = _mongoose[\"default\"].Schema;\nvar PlayerSchema = new Schema({\n  playerName: {\n    type: String\n  },\n  attack: {\n    type: Number\n  },\n  defense: {\n    type: Number\n  },\n  maxHealth: {\n    type: Number\n  },\n  health: {\n    type: Number\n  },\n  key: {\n    type: String\n  },\n  frame: {\n    type: Number\n  },\n  gold: {\n    type: Number\n  },\n  exp: {\n    type: Number\n  },\n  maxExp: {\n    type: Number\n  },\n  level: {\n    type: Number\n  },\n  items: {\n    type: Object\n  },\n  equipedItems: {\n    type: Object\n  },\n  potions: {\n    type: Number\n  }\n});\nvar UserSchema = new Schema({\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  username: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  resetToken: {\n    type: String\n  },\n  resetTokenExp: {\n    type: Date\n  },\n  player: {\n    type: PlayerSchema\n  }\n});\nUserSchema.pre(\"save\", /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(next) {\n    var hash;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _bcrypt[\"default\"].hash(this.password, 10);\n        case 2:\n          hash = _context.sent;\n          this.password = hash;\n          next();\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, this);\n  }));\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());\nUserSchema.methods.isValidPassword = /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(password) {\n    var user, compare;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          user = this;\n          _context2.next = 3;\n          return _bcrypt[\"default\"].compare(password, user.password);\n        case 3:\n          compare = _context2.sent;\n          return _context2.abrupt(\"return\", compare);\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, this);\n  }));\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar UserModel = _mongoose[\"default\"].model(\"user\", UserSchema);\nvar _default = exports[\"default\"] = UserModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9iY3J5cHQiLCJTY2hlbWEiLCJtb25nb29zZSIsIlBsYXllclNjaGVtYSIsInBsYXllck5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwiYXR0YWNrIiwiTnVtYmVyIiwiZGVmZW5zZSIsIm1heEhlYWx0aCIsImhlYWx0aCIsImtleSIsImZyYW1lIiwiZ29sZCIsImV4cCIsIm1heEV4cCIsImxldmVsIiwiaXRlbXMiLCJPYmplY3QiLCJlcXVpcGVkSXRlbXMiLCJwb3Rpb25zIiwiVXNlclNjaGVtYSIsImVtYWlsIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJwYXNzd29yZCIsInVzZXJuYW1lIiwicmVzZXRUb2tlbiIsInJlc2V0VG9rZW5FeHAiLCJEYXRlIiwicGxheWVyIiwicHJlIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwibmV4dCIsImhhc2giLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJiY3J5cHQiLCJzZW50Iiwic3RvcCIsIl94IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtZXRob2RzIiwiaXNWYWxpZFBhc3N3b3JkIiwiX3JlZjIiLCJfY2FsbGVlMiIsInVzZXIiLCJjb21wYXJlIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiYWJydXB0IiwiX3gyIiwiVXNlck1vZGVsIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiVXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xuXG5jb25zdCB7IFNjaGVtYSB9ID0gbW9uZ29vc2U7XG5cbmNvbnN0IFBsYXllclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBwbGF5ZXJOYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBhdHRhY2s6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gIH0sXG4gIGRlZmVuc2U6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gIH0sXG4gIG1heEhlYWx0aDoge1xuICAgIHR5cGU6IE51bWJlcixcbiAgfSxcbiAgaGVhbHRoOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICB9LFxuICBrZXk6e1xuICAgIHR5cGU6U3RyaW5nXG4gIH0sXG4gIGZyYW1lOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICB9LFxuICBnb2xkOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICB9LFxuICBleHA6e1xuICAgIHR5cGU6TnVtYmVyXG4gIH0sXG4gIG1heEV4cDp7XG4gICAgdHlwZTpOdW1iZXJcbiAgfSxcbiAgbGV2ZWw6e1xuICAgIHR5cGU6TnVtYmVyXG4gIH0sXG4gIGl0ZW1zOiB7XG4gICAgdHlwZTpPYmplY3RcbiAgfSxcbiAgZXF1aXBlZEl0ZW1zOntcbiAgICB0eXBlOk9iamVjdFxuICB9LFxuICBwb3Rpb25zOntcbiAgICB0eXBlOk51bWJlclxuICB9XG59KTtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICB1c2VybmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gIH0sXG4gIHJlc2V0VG9rZW46IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIHJlc2V0VG9rZW5FeHA6IHtcbiAgICB0eXBlOiBEYXRlLFxuICB9LFxuICBwbGF5ZXI6IHtcbiAgICB0eXBlOiBQbGF5ZXJTY2hlbWEsXG4gIH0sXG59KTtcblxuVXNlclNjaGVtYS5wcmUoXCJzYXZlXCIsIGFzeW5jIGZ1bmN0aW9uIChuZXh0KSB7XG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaCh0aGlzLnBhc3N3b3JkLCAxMCk7XG4gIHRoaXMucGFzc3dvcmQgPSBoYXNoO1xuICBuZXh0KCk7XG59KTtcblxuVXNlclNjaGVtYS5tZXRob2RzLmlzVmFsaWRQYXNzd29yZCA9IGFzeW5jIGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICBjb25zdCB1c2VyID0gdGhpcztcbiAgY29uc3QgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgcmV0dXJuIGNvbXBhcmU7XG59O1xuXG5jb25zdCBVc2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJNb2RlbDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0EsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBRkE7O0FBSUEsSUFBUUUsTUFBTSxHQUFLQyxvQkFBUSxDQUFuQkQsTUFBTTtBQUVkLElBQU1FLFlBQVksR0FBRyxJQUFJRixNQUFNLENBQUM7RUFDOUJHLFVBQVUsRUFBRTtJQUNWQyxJQUFJLEVBQUVDO0VBQ1IsQ0FBQztFQUNEQyxNQUFNLEVBQUU7SUFDTkYsSUFBSSxFQUFFRztFQUNSLENBQUM7RUFDREMsT0FBTyxFQUFFO0lBQ1BKLElBQUksRUFBRUc7RUFDUixDQUFDO0VBQ0RFLFNBQVMsRUFBRTtJQUNUTCxJQUFJLEVBQUVHO0VBQ1IsQ0FBQztFQUNERyxNQUFNLEVBQUU7SUFD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","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_bcrypt","Schema","mongoose","PlayerSchema","playerName","type","String","attack","Number","defense","maxHealth","health","key","frame","gold","exp","maxExp","level","items","Object","equipedItems","potions","UserSchema","email","required","unique","password","username","resetToken","resetTokenExp","Date","player","pre","_ref","_asyncToGenerator2","_regenerator","mark","_callee","next","hash","wrap","_callee$","_context","prev","bcrypt","sent","stop","_x","apply","arguments","methods","isValidPassword","_ref2","_callee2","user","compare","_callee2$","_context2","abrupt","_x2","UserModel","model","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["UserModel.js"],"sourcesContent":["/* eslint-disable func-names */\nimport mongoose from \"mongoose\";\nimport bcrypt from \"bcrypt\";\n\nconst { Schema } = mongoose;\n\nconst PlayerSchema = new Schema({\n  playerName: {\n    type: String,\n  },\n  attack: {\n    type: Number,\n  },\n  defense: {\n    type: Number,\n  },\n  maxHealth: {\n    type: Number,\n  },\n  health: {\n    type: Number,\n  },\n  key:{\n    type:String\n  },\n  frame: {\n    type: Number,\n  },\n  gold: {\n    type: Number,\n  },\n  exp:{\n    type:Number\n  },\n  maxExp:{\n    type:Number\n  },\n  level:{\n    type:Number\n  },\n  items: {\n    type:Object\n  },\n  equipedItems:{\n    type:Object\n  },\n  potions:{\n    type:Number\n  }\n});\n\nconst UserSchema = new Schema({\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n  },\n  password: {\n    type: String,\n    required: true,\n  },\n  username: {\n    type: String,\n    required: true,\n    unique: true,\n  },\n  resetToken: {\n    type: String,\n  },\n  resetTokenExp: {\n    type: Date,\n  },\n  player: {\n    type: PlayerSchema,\n  },\n});\n\nUserSchema.pre(\"save\", async function (next) {\n  const hash = await bcrypt.hash(this.password, 10);\n  this.password = hash;\n  next();\n});\n\nUserSchema.methods.isValidPassword = async function (password) {\n  const user = this;\n  const compare = await bcrypt.compare(password, user.password);\n  return compare;\n};\n\nconst UserModel = mongoose.model(\"user\", UserSchema);\n\nexport default UserModel;\n"],"mappings":"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","ignoreList":[]}},"mtime":1718711816122},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/secure.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _ChatModel = _interopRequireDefault(require(\"../models/ChatModel\"));\nvar router = _express[\"default\"].Router();\nrouter.post('/chat', /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(request, response) {\n    var message, email, chat;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(!request.body || !request.body.message)) {\n            _context.next = 4;\n            break;\n          }\n          response.status(400).json({\n            message: 'invalid body',\n            status: 400\n          });\n          _context.next = 10;\n          break;\n        case 4:\n          message = request.body.message;\n          email = request.user.email;\n          _context.next = 8;\n          return _ChatModel[\"default\"].create({\n            email: email,\n            message: message\n          });\n        case 8:\n          chat = _context.sent;\n          response.status(200).json({\n            chat: chat,\n            message: 'message sent',\n            status: 200\n          });\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nvar _default = exports[\"default\"] = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NoYXRNb2RlbCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxdWVzdCIsInJlc3BvbnNlIiwibWVzc2FnZSIsImVtYWlsIiwiY2hhdCIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsInVzZXIiLCJDaGF0TW9kZWwiLCJjcmVhdGUiLCJzZW50Iiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsic2VjdXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgQ2hhdE1vZGVsIGZyb20gJy4uL21vZGVscy9DaGF0TW9kZWwnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdCgnL2NoYXQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgaWYgKCFyZXF1ZXN0LmJvZHkgfHwgIXJlcXVlc3QuYm9keS5tZXNzYWdlKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdpbnZhbGlkIGJvZHknLCBzdGF0dXM6IDQwMCB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHJlcXVlc3QuYm9keTtcbiAgICBjb25zdCB7IGVtYWlsIH0gPSByZXF1ZXN0LnVzZXI7XG4gICAgY29uc3QgY2hhdCA9IGF3YWl0IENoYXRNb2RlbC5jcmVhdGUoeyBlbWFpbCwgbWVzc2FnZSB9KTtcbiAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgY2hhdCwgbWVzc2FnZTogJ21lc3NhZ2Ugc2VudCcsIHN0YXR1czogMjAwIH0pO1xuICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFNRSxNQUFNLEdBQUdDLG1CQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLElBQUksQ0FBQyxPQUFPO0VBQUEsSUFBQUMsSUFBQSxPQUFBQyxrQkFBQSwyQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUUsU0FBQUMsUUFBT0MsT0FBTyxFQUFFQyxRQUFRO0lBQUEsSUFBQUMsT0FBQSxFQUFBQyxLQUFBLEVBQUFDLElBQUE7SUFBQSxPQUFBUCxZQUFBLFlBQUFRLElBQUEsVUFBQUMsU0FBQUMsUUFBQTtNQUFBLGtCQUFBQSxRQUFBLENBQUFDLElBQUEsR0FBQUQsUUFBQSxDQUFBRSxJQUFBO1FBQUE7VUFBQSxNQUN2QyxDQUFDVCxPQUFPLENBQUNVLElBQUksSUFBSSxDQUFDVixPQUFPLENBQUNVLElBQUksQ0FBQ1IsT0FBTztZQUFBSyxRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQ3hDUixRQUFRLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVWLE9BQU8sRUFBRSxjQUFjO1lBQUVTLE1BQU0sRUFBRTtVQUFJLENBQUMsQ0FBQztVQUFDSixRQUFBLENBQUFFLElBQUE7VUFBQTtRQUFBO1VBRTVEUCxPQUFPLEdBQUtGLE9BQU8sQ0FBQ1UsSUFBSSxDQUF4QlIsT0FBTztVQUNQQyxLQUFLLEdBQUtILE9BQU8sQ0FBQ2EsSUFBSSxDQUF0QlYsS0FBSztVQUFBSSxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUNNSyxxQkFBUyxDQUFDQyxNQUFNLENBQUM7WUFBRVosS0FBSyxFQUFMQSxLQUFLO1lBQUVELE9BQU8sRUFBUEE7VUFBUSxDQUFDLENBQUM7UUFBQTtVQUFqREUsSUFBSSxHQUFBRyxRQUFBLENBQUFTLElBQUE7VUFDVmYsUUFBUSxDQUFDVSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFUixJQUFJLEVBQUpBLElBQUk7WUFBRUYsT0FBTyxFQUFFLGNBQWM7WUFBRVMsTUFBTSxFQUFFO1VBQUksQ0FBQyxDQUFDO1FBQUM7UUFBQTtVQUFBLE9BQUFKLFFBQUEsQ0FBQVUsSUFBQTtNQUFBO0lBQUEsR0FBQWxCLE9BQUE7RUFBQSxDQUU3RTtFQUFBLGlCQUFBbUIsRUFBQSxFQUFBQyxHQUFBO0lBQUEsT0FBQXhCLElBQUEsQ0FBQXlCLEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsSUFBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxjQUVZaEMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_ChatModel","router","express","Router","post","_ref","_asyncToGenerator2","_regenerator","mark","_callee","request","response","message","email","chat","wrap","_callee$","_context","prev","next","body","status","json","user","ChatModel","create","sent","stop","_x","_x2","apply","arguments","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/routes/","sources":["secure.js"],"sourcesContent":["import express from 'express';\n\nimport ChatModel from '../models/ChatModel';\n\nconst router = express.Router();\n\nrouter.post('/chat', async (request, response) => {\n  if (!request.body || !request.body.message) {\n    response.status(400).json({ message: 'invalid body', status: 400 });\n  } else {\n    const { message } = request.body;\n    const { email } = request.user;\n    const chat = await ChatModel.create({ email, message });\n    response.status(200).json({ chat, message: 'message sent', status: 200 });\n  }\n});\n\nexport default router;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEA,IAAME,MAAM,GAAGC,mBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,OAAO;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAC,QAAOC,OAAO,EAAEC,QAAQ;IAAA,IAAAC,OAAA,EAAAC,KAAA,EAAAC,IAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAA,MACvC,CAACT,OAAO,CAACU,IAAI,IAAI,CAACV,OAAO,CAACU,IAAI,CAACR,OAAO;YAAAK,QAAA,CAAAE,IAAA;YAAA;UAAA;UACxCR,QAAQ,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE,cAAc;YAAES,MAAM,EAAE;UAAI,CAAC,CAAC;UAACJ,QAAA,CAAAE,IAAA;UAAA;QAAA;UAE5DP,OAAO,GAAKF,OAAO,CAACU,IAAI,CAAxBR,OAAO;UACPC,KAAK,GAAKH,OAAO,CAACa,IAAI,CAAtBV,KAAK;UAAAI,QAAA,CAAAE,IAAA;UAAA,OACMK,qBAAS,CAACC,MAAM,CAAC;YAAEZ,KAAK,EAALA,KAAK;YAAED,OAAO,EAAPA;UAAQ,CAAC,CAAC;QAAA;UAAjDE,IAAI,GAAAG,QAAA,CAAAS,IAAA;UACVf,QAAQ,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAER,IAAI,EAAJA,IAAI;YAAEF,OAAO,EAAE,cAAc;YAAES,MAAM,EAAE;UAAI,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAJ,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAE7E;EAAA,iBAAAmB,EAAA,EAAAC,GAAA;IAAA,OAAAxB,IAAA,CAAAyB,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,cAEYhC,MAAM","ignoreList":[]}},"mtime":1718711816122},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/ChatModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar Schema = _mongoose[\"default\"].Schema;\nvar ChatSchema = new Schema({\n  email: {\n    type: String,\n    required: true,\n    unqiue: true\n  },\n  message: {\n    type: String,\n    required: true\n  }\n});\nvar ChatModel = _mongoose[\"default\"].model('chat', ChatSchema);\nvar _default = exports[\"default\"] = ChatModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIlNjaGVtYSIsIm1vbmdvb3NlIiwiQ2hhdFNjaGVtYSIsImVtYWlsIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5xaXVlIiwibWVzc2FnZSIsIkNoYXRNb2RlbCIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZmFicmljaW9vbGl2ZWlyYS9EZXZlbG9wZXIvZnVsbHN0YWNrLWhlcm8tam91cm5leS9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbIkNoYXRNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB7IFNjaGVtYSB9ID0gbW9uZ29vc2U7XG5cbmNvbnN0IENoYXRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgZW1haWw6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdW5xaXVlOiB0cnVlLFxuICB9LFxuICBtZXNzYWdlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxufSk7XG5cbmNvbnN0IENoYXRNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdjaGF0JywgQ2hhdFNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IENoYXRNb2RlbDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQVFDLE1BQU0sR0FBS0Msb0JBQVEsQ0FBbkJELE1BQU07QUFFZCxJQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBTSxDQUFDO0VBQzVCRyxLQUFLLEVBQUU7SUFDTEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLE1BQU0sRUFBRTtFQUNWLENBQUM7RUFDREMsT0FBTyxFQUFFO0lBQ1BKLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWjtBQUNGLENBQUMsQ0FBQztBQUVGLElBQU1HLFNBQVMsR0FBR1Isb0JBQVEsQ0FBQ1MsS0FBSyxDQUFDLE1BQU0sRUFBRVIsVUFBVSxDQUFDO0FBQUMsSUFBQVMsUUFBQSxHQUFBQyxPQUFBLGNBRXRDSCxTQUFTIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","Schema","mongoose","ChatSchema","email","type","String","required","unqiue","message","ChatModel","model","_default","exports"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["ChatModel.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst { Schema } = mongoose;\n\nconst ChatSchema = new Schema({\n  email: {\n    type: String,\n    required: true,\n    unqiue: true,\n  },\n  message: {\n    type: String,\n    required: true,\n  },\n});\n\nconst ChatModel = mongoose.model('chat', ChatSchema);\n\nexport default ChatModel;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAQC,MAAM,GAAKC,oBAAQ,CAAnBD,MAAM;AAEd,IAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE;EACV,CAAC;EACDC,OAAO,EAAE;IACPJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAEF,IAAMG,SAAS,GAAGR,oBAAQ,CAACS,KAAK,CAAC,MAAM,EAAER,UAAU,CAAC;AAAC,IAAAS,QAAA,GAAAC,OAAA,cAEtCH,SAAS","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/GameManager.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar levelData = _interopRequireWildcard(require(\"../../public/assets/level/new_level.json\"));\nvar _MonsterController = _interopRequireDefault(require(\"./controllers/MonsterController\"));\nvar _PlayerController = _interopRequireDefault(require(\"./controllers/PlayerController\"));\nvar _ItemController = _interopRequireDefault(require(\"./controllers/ItemController\"));\nvar _NpcController = _interopRequireDefault(require(\"./controllers/NpcController\"));\nvar _MessageController = _interopRequireDefault(require(\"./controllers/MessageController\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar GameManager = exports[\"default\"] = /*#__PURE__*/function () {\n  function GameManager(io) {\n    (0, _classCallCheck2[\"default\"])(this, GameManager);\n    this.io = io;\n    this.monsterController = undefined;\n    this.playerController = undefined;\n    this.itemController = undefined;\n    this.npcController = undefined;\n    this.messageController = undefined;\n    this.levelData = levelData;\n    this.playerLocations = [[200, 200]];\n    this.chestLocations = {};\n    this.monsterLocations = [];\n    this.npcLocations = [];\n  }\n  return (0, _createClass2[\"default\"])(GameManager, [{\n    key: \"setup\",\n    value: function setup() {\n      this.parseMapData();\n      this.setupControllers();\n      this.setupEventListeners();\n    }\n  }, {\n    key: \"setupControllers\",\n    value: function setupControllers() {\n      this.monsterController = new _MonsterController[\"default\"](this.io, this.monsterLocations);\n      this.playerController = new _PlayerController[\"default\"](this.io, this.playerLocations);\n      this.itemController = new _ItemController[\"default\"](this.io);\n      this.npcController = new _NpcController[\"default\"](this.io, this.npcLocations);\n      this.messageController = new _MessageController[\"default\"](this.io);\n    }\n  }, {\n    key: \"parseMapData\",\n    value: function parseMapData() {\n      var _this = this;\n      this.levelData = levelData;\n      this.levelData.layers.forEach(function (layer) {\n        if (layer.name === \"player_locations\") {\n          layer.objects.forEach(function (obj) {\n            _this.playerLocations.push([obj.x, obj.y]);\n          });\n        } else if (layer.name === \"monster_locations\") {\n          layer.objects.forEach(function (obj) {\n            _this.monsterLocations.push([obj.x, obj.y]);\n          });\n        } else if (layer.name === \"chest_locations\") {\n          layer.objects.forEach(function (obj) {\n            if (_this.chestLocations[obj.properties.spawner]) {\n              _this.chestLocations[obj.properties.spawner].push([obj.x, obj.y]);\n            } else {\n              _this.chestLocations[obj.properties.spawner] = [[obj.x, obj.y]];\n            }\n          });\n        } else if (layer.name === \"npc_locations\") {\n          layer.objects.forEach(function (obj) {\n            if (_this.npcLocations[obj.properties.spawner]) {\n              _this.npcLocations.push([obj.x, obj.y]);\n            } else {\n              _this.npcLocations.push([obj.x, obj.y]);\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners() {\n      var _this2 = this;\n      this.io.on(\"connection\", function (socket) {\n        socket.on(\"connect_error\", function (err) {\n          console.log(\"connect_error due to \".concat(err.message));\n        });\n        _this2.monsterController.setupEventListeners(socket);\n        _this2.itemController.setupEventListeners(socket);\n        _this2.npcController.setupEventListeners(socket);\n        _this2.playerController.setupEventListeners(socket);\n        _this2.messageController.setupEventListeners(socket);\n        socket.on(\"currents\", function () {\n          socket.emit(\"currentPlayers\", _this2.playerController.players);\n          socket.emit(\"currentMonsters\", _this2.monsterController.monsters);\n          socket.emit(\"currentChests\", _this2.itemController.chests);\n          socket.emit(\"currentItems\", _this2.itemController.items);\n          socket.emit(\"currentNpcs\", _this2.npcController.npcs);\n        });\n\n        // player connected to our game\n        console.log(\"player connected to our game\");\n      });\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsZXZlbERhdGEiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfTW9uc3RlckNvbnRyb2xsZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX1BsYXllckNvbnRyb2xsZXIiLCJfSXRlbUNvbnRyb2xsZXIiLCJfTnBjQ29udHJvbGxlciIsIl9NZXNzYWdlQ29udHJvbGxlciIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIkdhbWVNYW5hZ2VyIiwiZXhwb3J0cyIsImlvIiwiX2NsYXNzQ2FsbENoZWNrMiIsIm1vbnN0ZXJDb250cm9sbGVyIiwidW5kZWZpbmVkIiwicGxheWVyQ29udHJvbGxlciIsIml0ZW1Db250cm9sbGVyIiwibnBjQ29udHJvbGxlciIsIm1lc3NhZ2VDb250cm9sbGVyIiwicGxheWVyTG9jYXRpb25zIiwiY2hlc3RMb2NhdGlvbnMiLCJtb25zdGVyTG9jYXRpb25zIiwibnBjTG9jYXRpb25zIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwic2V0dXAiLCJwYXJzZU1hcERhdGEiLCJzZXR1cENvbnRyb2xsZXJzIiwic2V0dXBFdmVudExpc3RlbmVycyIsIk1vbnN0ZXJDb250cm9sbGVyIiwiUGxheWVyQ29udHJvbGxlciIsIkl0ZW1Db250cm9sbGVyIiwiTnBjQ29udHJvbGxlciIsIk1lc3NhZ2VDb250cm9sbGVyIiwiX3RoaXMiLCJsYXllcnMiLCJmb3JFYWNoIiwibGF5ZXIiLCJuYW1lIiwib2JqZWN0cyIsIm9iaiIsInB1c2giLCJ4IiwieSIsInByb3BlcnRpZXMiLCJzcGF3bmVyIiwiX3RoaXMyIiwib24iLCJzb2NrZXQiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY29uY2F0IiwibWVzc2FnZSIsImVtaXQiLCJwbGF5ZXJzIiwibW9uc3RlcnMiLCJjaGVzdHMiLCJpdGVtcyIsIm5wY3MiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyLyIsInNvdXJjZXMiOlsiR2FtZU1hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbGV2ZWxEYXRhIGZyb20gXCIuLi8uLi9wdWJsaWMvYXNzZXRzL2xldmVsL25ld19sZXZlbC5qc29uXCI7XG5cbmltcG9ydCBNb25zdGVyQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9Nb25zdGVyQ29udHJvbGxlclwiO1xuaW1wb3J0IFBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvUGxheWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IEl0ZW1Db250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJzL0l0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgTnBjQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9OcGNDb250cm9sbGVyXCI7XG5pbXBvcnQgTWVzc2FnZUNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvTWVzc2FnZUNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcihpbykge1xuICAgIHRoaXMuaW8gPSBpbztcblxuICAgIHRoaXMubW9uc3RlckNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wbGF5ZXJDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaXRlbUNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5ucGNDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubWVzc2FnZUNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmxldmVsRGF0YSA9IGxldmVsRGF0YTtcblxuICAgIHRoaXMucGxheWVyTG9jYXRpb25zID0gW1syMDAsIDIwMF1dO1xuICAgIHRoaXMuY2hlc3RMb2NhdGlvbnMgPSB7fTtcbiAgICB0aGlzLm1vbnN0ZXJMb2NhdGlvbnMgPSBbXTtcbiAgICB0aGlzLm5wY0xvY2F0aW9ucyA9IFtdO1xuICB9XG5cbiAgc2V0dXAoKSB7XG4gICAgdGhpcy5wYXJzZU1hcERhdGEoKTtcbiAgICB0aGlzLnNldHVwQ29udHJvbGxlcnMoKTtcbiAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldHVwQ29udHJvbGxlcnMoKSB7XG4gICAgdGhpcy5tb25zdGVyQ29udHJvbGxlciA9IG5ldyBNb25zdGVyQ29udHJvbGxlcihcbiAgICAgIHRoaXMuaW8sXG4gICAgICB0aGlzLm1vbnN0ZXJMb2NhdGlvbnNcbiAgICApO1xuICAgIHRoaXMucGxheWVyQ29udHJvbGxlciA9IG5ldyBQbGF5ZXJDb250cm9sbGVyKHRoaXMuaW8sIHRoaXMucGxheWVyTG9jYXRpb25zKTtcbiAgICB0aGlzLml0ZW1Db250cm9sbGVyID0gbmV3IEl0ZW1Db250cm9sbGVyKHRoaXMuaW8pO1xuICAgIHRoaXMubnBjQ29udHJvbGxlciA9IG5ldyBOcGNDb250cm9sbGVyKHRoaXMuaW8sIHRoaXMubnBjTG9jYXRpb25zKTtcbiAgICB0aGlzLm1lc3NhZ2VDb250cm9sbGVyID0gbmV3IE1lc3NhZ2VDb250cm9sbGVyKHRoaXMuaW8pO1xuICB9XG5cbiAgcGFyc2VNYXBEYXRhKCkge1xuICAgIHRoaXMubGV2ZWxEYXRhID0gbGV2ZWxEYXRhO1xuICAgIHRoaXMubGV2ZWxEYXRhLmxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyLm5hbWUgPT09IFwicGxheWVyX2xvY2F0aW9uc1wiKSB7XG4gICAgICAgIGxheWVyLm9iamVjdHMuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXJMb2NhdGlvbnMucHVzaChbb2JqLngsIG9iai55XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChsYXllci5uYW1lID09PSBcIm1vbnN0ZXJfbG9jYXRpb25zXCIpIHtcbiAgICAgICAgbGF5ZXIub2JqZWN0cy5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICB0aGlzLm1vbnN0ZXJMb2NhdGlvbnMucHVzaChbb2JqLngsIG9iai55XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChsYXllci5uYW1lID09PSBcImNoZXN0X2xvY2F0aW9uc1wiKSB7XG4gICAgICAgIGxheWVyLm9iamVjdHMuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY2hlc3RMb2NhdGlvbnNbb2JqLnByb3BlcnRpZXMuc3Bhd25lcl0pIHtcbiAgICAgICAgICAgIHRoaXMuY2hlc3RMb2NhdGlvbnNbb2JqLnByb3BlcnRpZXMuc3Bhd25lcl0ucHVzaChbb2JqLngsIG9iai55XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hlc3RMb2NhdGlvbnNbb2JqLnByb3BlcnRpZXMuc3Bhd25lcl0gPSBbW29iai54LCBvYmoueV1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGxheWVyLm5hbWUgPT09IFwibnBjX2xvY2F0aW9uc1wiKSB7XG4gICAgICAgIGxheWVyLm9iamVjdHMuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubnBjTG9jYXRpb25zW29iai5wcm9wZXJ0aWVzLnNwYXduZXJdKSB7XG4gICAgICAgICAgICB0aGlzLm5wY0xvY2F0aW9ucy5wdXNoKFtvYmoueCwgb2JqLnldKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ucGNMb2NhdGlvbnMucHVzaChbb2JqLngsIG9iai55XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5pby5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xuICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdF9lcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBjb25uZWN0X2Vycm9yIGR1ZSB0byAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubW9uc3RlckNvbnRyb2xsZXIuc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpO1xuICAgICAgdGhpcy5pdGVtQ29udHJvbGxlci5zZXR1cEV2ZW50TGlzdGVuZXJzKHNvY2tldCk7XG4gICAgICB0aGlzLm5wY0NvbnRyb2xsZXIuc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpO1xuICAgICAgdGhpcy5wbGF5ZXJDb250cm9sbGVyLnNldHVwRXZlbnRMaXN0ZW5lcnMoc29ja2V0KTtcbiAgICAgIHRoaXMubWVzc2FnZUNvbnRyb2xsZXIuc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpO1xuXG4gICAgICBzb2NrZXQub24oXCJjdXJyZW50c1wiLCAoKSA9PiB7XG4gICAgICAgIHNvY2tldC5lbWl0KFwiY3VycmVudFBsYXllcnNcIiwgdGhpcy5wbGF5ZXJDb250cm9sbGVyLnBsYXllcnMpO1xuICAgICAgICBzb2NrZXQuZW1pdChcImN1cnJlbnRNb25zdGVyc1wiLCB0aGlzLm1vbnN0ZXJDb250cm9sbGVyLm1vbnN0ZXJzKTtcbiAgICAgICAgc29ja2V0LmVtaXQoXCJjdXJyZW50Q2hlc3RzXCIsIHRoaXMuaXRlbUNvbnRyb2xsZXIuY2hlc3RzKTtcbiAgICAgICAgc29ja2V0LmVtaXQoXCJjdXJyZW50SXRlbXNcIiwgdGhpcy5pdGVtQ29udHJvbGxlci5pdGVtcyk7XG4gICAgICAgIHNvY2tldC5lbWl0KFwiY3VycmVudE5wY3NcIiwgdGhpcy5ucGNDb250cm9sbGVyLm5wY3MpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHBsYXllciBjb25uZWN0ZWQgdG8gb3VyIGdhbWVcbiAgICAgIGNvbnNvbGUubG9nKFwicGxheWVyIGNvbm5lY3RlZCB0byBvdXIgZ2FtZVwiKTtcbiAgICB9KTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsa0JBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLGlCQUFBLEdBQUFELHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSSxlQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSyxjQUFBLEdBQUFILHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBTSxrQkFBQSxHQUFBSixzQkFBQSxDQUFBRixPQUFBO0FBQWdFLFNBQUFPLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBVCx3QkFBQVMsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLGdCQUFBSyxPQUFBLENBQUFMLENBQUEsMEJBQUFBLENBQUEsc0JBQUFBLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FB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","map":{"version":3,"names":["levelData","_interopRequireWildcard","require","_MonsterController","_interopRequireDefault","_PlayerController","_ItemController","_NpcController","_MessageController","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","GameManager","exports","io","_classCallCheck2","monsterController","undefined","playerController","itemController","npcController","messageController","playerLocations","chestLocations","monsterLocations","npcLocations","_createClass2","key","value","setup","parseMapData","setupControllers","setupEventListeners","MonsterController","PlayerController","ItemController","NpcController","MessageController","_this","layers","forEach","layer","name","objects","obj","push","x","y","properties","spawner","_this2","on","socket","err","console","log","concat","message","emit","players","monsters","chests","items","npcs"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/","sources":["GameManager.js"],"sourcesContent":["import * as levelData from \"../../public/assets/level/new_level.json\";\n\nimport MonsterController from \"./controllers/MonsterController\";\nimport PlayerController from \"./controllers/PlayerController\";\nimport ItemController from \"./controllers/ItemController\";\nimport NpcController from \"./controllers/NpcController\";\nimport MessageController from \"./controllers/MessageController\";\n\nexport default class GameManager {\n  constructor(io) {\n    this.io = io;\n\n    this.monsterController = undefined;\n    this.playerController = undefined;\n    this.itemController = undefined;\n    this.npcController = undefined;\n    this.messageController = undefined;\n\n    this.levelData = levelData;\n\n    this.playerLocations = [[200, 200]];\n    this.chestLocations = {};\n    this.monsterLocations = [];\n    this.npcLocations = [];\n  }\n\n  setup() {\n    this.parseMapData();\n    this.setupControllers();\n    this.setupEventListeners();\n  }\n\n  setupControllers() {\n    this.monsterController = new MonsterController(\n      this.io,\n      this.monsterLocations\n    );\n    this.playerController = new PlayerController(this.io, this.playerLocations);\n    this.itemController = new ItemController(this.io);\n    this.npcController = new NpcController(this.io, this.npcLocations);\n    this.messageController = new MessageController(this.io);\n  }\n\n  parseMapData() {\n    this.levelData = levelData;\n    this.levelData.layers.forEach((layer) => {\n      if (layer.name === \"player_locations\") {\n        layer.objects.forEach((obj) => {\n          this.playerLocations.push([obj.x, obj.y]);\n        });\n      } else if (layer.name === \"monster_locations\") {\n        layer.objects.forEach((obj) => {\n          this.monsterLocations.push([obj.x, obj.y]);\n        });\n      } else if (layer.name === \"chest_locations\") {\n        layer.objects.forEach((obj) => {\n          if (this.chestLocations[obj.properties.spawner]) {\n            this.chestLocations[obj.properties.spawner].push([obj.x, obj.y]);\n          } else {\n            this.chestLocations[obj.properties.spawner] = [[obj.x, obj.y]];\n          }\n        });\n      } else if (layer.name === \"npc_locations\") {\n        layer.objects.forEach((obj) => {\n          if (this.npcLocations[obj.properties.spawner]) {\n            this.npcLocations.push([obj.x, obj.y]);\n          } else {\n            this.npcLocations.push([obj.x, obj.y]);\n          }\n        });\n      }\n    });\n  }\n\n  setupEventListeners() {\n    this.io.on(\"connection\", (socket) => {\n      socket.on(\"connect_error\", (err) => {\n        console.log(`connect_error due to ${err.message}`);\n      });\n\n      this.monsterController.setupEventListeners(socket);\n      this.itemController.setupEventListeners(socket);\n      this.npcController.setupEventListeners(socket);\n      this.playerController.setupEventListeners(socket);\n      this.messageController.setupEventListeners(socket);\n\n      socket.on(\"currents\", () => {\n        socket.emit(\"currentPlayers\", this.playerController.players);\n        socket.emit(\"currentMonsters\", this.monsterController.monsters);\n        socket.emit(\"currentChests\", this.itemController.chests);\n        socket.emit(\"currentItems\", this.itemController.items);\n        socket.emit(\"currentNpcs\", this.npcController.npcs);\n      });\n\n      // player connected to our game\n      console.log(\"player connected to our game\");\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719106440322},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/MonsterController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _MonsterModel = _interopRequireDefault(require(\"../../models/MonsterModel\"));\nvar enemyData = _interopRequireWildcard(require(\"../../../public/assets/Enemies/enemies.json\"));\nvar _uuid = require(\"uuid\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar MonsterController = exports[\"default\"] = /*#__PURE__*/function () {\n  function MonsterController(io, locations) {\n    (0, _classCallCheck2[\"default\"])(this, MonsterController);\n    this.monsters = {};\n    this.monsterLocations = locations;\n    this.io = io;\n    this.setupSpawn();\n    this.init();\n  }\n  return (0, _createClass2[\"default\"])(MonsterController, [{\n    key: \"init\",\n    value: function init() {\n      this.update();\n    }\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {\n      var _this = this;\n      return socket.on(\"monsterHit\", function (monsterId, playerAttack, playerId) {\n        if (!_this.monsters[monsterId]) return;\n        var monster = _this.monsters[monsterId];\n        var exp = monster.exp;\n        var playerAttackValue = playerAttack;\n        monster.loseHealth(playerAttackValue);\n        if (monster.health <= 0) {\n          _this.io.emit(\"updateXp\", exp, playerId);\n          _this.deleteMonster(monster.id);\n        } else {\n          socket.emit(\"updateMonsterHealth\", monsterId, monster.health);\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this2 = this;\n      setInterval(function () {\n        Object.keys(_this2.monsters).forEach(function (id) {\n          if (!_this2.monsters[id]) return;\n          _this2._movement(_this2.monsters[id]);\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"setupSpawn\",\n    value: function setupSpawn() {\n      var _this3 = this;\n      setInterval(function () {\n        if (Object.keys(_this3.monsters).length <= 8) {\n          _this3.spawnMonster();\n        }\n      }, 3000);\n    }\n  }, {\n    key: \"pickRandomLocation\",\n    value: function pickRandomLocation() {\n      var location = this.monsterLocations[Math.floor(Math.random() * this.monsterLocations.length)];\n      if (this.monsters.length > 0) {\n        var invalidLocation = this.monsters.some(function (obj) {\n          if (obj.x === location[0] && obj.y === location[1]) {\n            return true;\n          }\n          return false;\n        });\n        if (invalidLocation) return this.pickRandomLocation();\n        return location || [200, 200];\n      }\n      return location || [200, 200];\n    }\n  }, {\n    key: \"spawnMonster\",\n    value: function spawnMonster() {\n      var randomEnemy = enemyData.enemies[Math.floor(Math.random() * enemyData.enemies.length)];\n      var location = this.pickRandomLocation();\n      var monster = new _MonsterModel[\"default\"](location[0], location[1], randomEnemy.goldValue, // gold value\n      \"monster-\".concat((0, _uuid.v4)()), randomEnemy.key,\n      // key\n      randomEnemy.healthValue,\n      // health value\n      randomEnemy.attackValue,\n      // attack value\n      randomEnemy.expValue,\n      // exp value\n      3000 //timer\n      );\n      this.addMonster(monster.id, monster);\n    }\n  }, {\n    key: \"addMonster\",\n    value: function addMonster(monsterId, monster) {\n      this.monsters[monsterId] = monster;\n      this.io.emit(\"monsterSpawned\", monster);\n    }\n  }, {\n    key: \"deleteMonster\",\n    value: function deleteMonster(monsterId) {\n      delete this.monsters[monsterId];\n      this.io.emit(\"monsterRemoved\", monsterId);\n    }\n  }, {\n    key: \"addLocation\",\n    value: function addLocation(x, y) {\n      this.monsterLocations.push([x, y]);\n    }\n  }, {\n    key: \"getMonsterList\",\n    value: function getMonsterList() {\n      return this.monsters;\n    }\n  }, {\n    key: \"getMonster\",\n    value: function getMonster(monsterId) {\n      return this.monsters[monsterId];\n    }\n  }, {\n    key: \"getMonsterLocationList\",\n    value: function getMonsterLocationList() {\n      return this.monsterLocations;\n    }\n  }, {\n    key: \"_movement\",\n    value: function _movement(monster) {\n      monster.move();\n      this.io.emit(\"monsterMovement\", monster);\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTW9uc3Rlck1vZGVsIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlbmVteURhdGEiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl91dWlkIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiTW9uc3RlckNvbnRyb2xsZXIiLCJleHBvcnRzIiwiaW8iLCJsb2NhdGlvbnMiLCJfY2xhc3NDYWxsQ2hlY2syIiwibW9uc3RlcnMiLCJtb25zdGVyTG9jYXRpb25zIiwic2V0dXBTcGF3biIsImluaXQiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJ1cGRhdGUiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwic29ja2V0IiwiX3RoaXMiLCJvbiIsIm1vbnN0ZXJJZCIsInBsYXllckF0dGFjayIsInBsYXllcklkIiwibW9uc3RlciIsImV4cCIsInBsYXllckF0dGFja1ZhbHVlIiwibG9zZUhlYWx0aCIsImhlYWx0aCIsImVtaXQiLCJkZWxldGVNb25zdGVyIiwiaWQiLCJfdGhpczIiLCJzZXRJbnRlcnZhbCIsImtleXMiLCJmb3JFYWNoIiwiX21vdmVtZW50IiwiX3RoaXMzIiwibGVuZ3RoIiwic3Bhd25Nb25zdGVyIiwicGlja1JhbmRvbUxvY2F0aW9uIiwibG9jYXRpb24iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpbnZhbGlkTG9jYXRpb24iLCJzb21lIiwib2JqIiwieCIsInkiLCJyYW5kb21FbmVteSIsImVuZW1pZXMiLCJNb25zdGVyTW9kZWwiLCJnb2xkVmFsdWUiLCJjb25jYXQiLCJ2NCIsImhlYWx0aFZhbHVlIiwiYXR0YWNrVmFsdWUiLCJleHBWYWx1ZSIsImFkZE1vbnN0ZXIiLCJhZGRMb2NhdGlvbiIsInB1c2giLCJnZXRNb25zdGVyTGlzdCIsImdldE1vbnN0ZXIiLCJnZXRNb25zdGVyTG9jYXRpb25MaXN0IiwibW92ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9nYW1lX21hbmFnZXIvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJNb25zdGVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9uc3Rlck1vZGVsIGZyb20gXCIuLi8uLi9tb2RlbHMvTW9uc3Rlck1vZGVsXCI7XG5pbXBvcnQgKiBhcyBlbmVteURhdGEgZnJvbSBcIi4uLy4uLy4uL3B1YmxpYy9hc3NldHMvRW5lbWllcy9lbmVtaWVzLmpzb25cIjtcbmltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uc3RlckNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihpbywgbG9jYXRpb25zKSB7XG4gICAgdGhpcy5tb25zdGVycyA9IHt9O1xuICAgIHRoaXMubW9uc3RlckxvY2F0aW9ucyA9IGxvY2F0aW9ucztcbiAgICB0aGlzLmlvID0gaW87XG5cbiAgICB0aGlzLnNldHVwU3Bhd24oKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHNldHVwRXZlbnRMaXN0ZW5lcnMoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcIm1vbnN0ZXJIaXRcIiwgKG1vbnN0ZXJJZCwgcGxheWVyQXR0YWNrLCBwbGF5ZXJJZCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLm1vbnN0ZXJzW21vbnN0ZXJJZF0pIHJldHVybjtcbiAgICAgIGNvbnN0IG1vbnN0ZXIgPSB0aGlzLm1vbnN0ZXJzW21vbnN0ZXJJZF07XG4gICAgICBjb25zdCB7IGV4cCB9ID0gbW9uc3RlcjtcbiAgICAgIGNvbnN0IHBsYXllckF0dGFja1ZhbHVlID0gcGxheWVyQXR0YWNrO1xuICAgICAgbW9uc3Rlci5sb3NlSGVhbHRoKHBsYXllckF0dGFja1ZhbHVlKTtcblxuICAgICAgaWYgKG1vbnN0ZXIuaGVhbHRoIDw9IDApIHtcbiAgICAgICAgdGhpcy5pby5lbWl0KFwidXBkYXRlWHBcIiwgZXhwLCBwbGF5ZXJJZCk7XG4gICAgICAgIHRoaXMuZGVsZXRlTW9uc3Rlcihtb25zdGVyLmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlTW9uc3RlckhlYWx0aFwiLCBtb25zdGVySWQsIG1vbnN0ZXIuaGVhbHRoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLm1vbnN0ZXJzKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMubW9uc3RlcnNbaWRdKSByZXR1cm47XG4gICAgICAgIHRoaXMuX21vdmVtZW50KHRoaXMubW9uc3RlcnNbaWRdKTtcbiAgICAgIH0pO1xuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgc2V0dXBTcGF3bigpIHtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5tb25zdGVycykubGVuZ3RoIDw9IDgpIHtcbiAgICAgICAgdGhpcy5zcGF3bk1vbnN0ZXIoKTtcbiAgICAgIH1cbiAgICB9LCAzMDAwKTtcbiAgfVxuXG4gIHBpY2tSYW5kb21Mb2NhdGlvbigpIHtcbiAgICBjb25zdCBsb2NhdGlvbiA9XG4gICAgICB0aGlzLm1vbnN0ZXJMb2NhdGlvbnNbXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMubW9uc3RlckxvY2F0aW9ucy5sZW5ndGgpXG4gICAgICBdO1xuICAgIGlmICh0aGlzLm1vbnN0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGludmFsaWRMb2NhdGlvbiA9IHRoaXMubW9uc3RlcnMuc29tZSgob2JqKSA9PiB7XG4gICAgICAgIGlmIChvYmoueCA9PT0gbG9jYXRpb25bMF0gJiYgb2JqLnkgPT09IGxvY2F0aW9uWzFdKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpbnZhbGlkTG9jYXRpb24pIHJldHVybiB0aGlzLnBpY2tSYW5kb21Mb2NhdGlvbigpO1xuICAgICAgcmV0dXJuIGxvY2F0aW9uIHx8IFsyMDAsIDIwMF07XG4gICAgfVxuICAgIHJldHVybiBsb2NhdGlvbiB8fCBbMjAwLCAyMDBdO1xuICB9XG5cbiAgc3Bhd25Nb25zdGVyKCkge1xuICAgIGNvbnN0IHJhbmRvbUVuZW15ID1cbiAgICAgIGVuZW15RGF0YS5lbmVtaWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVuZW15RGF0YS5lbmVtaWVzLmxlbmd0aCldO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5waWNrUmFuZG9tTG9jYXRpb24oKTtcbiAgICBjb25zdCBtb25zdGVyID0gbmV3IE1vbnN0ZXJNb2RlbChcbiAgICAgIGxvY2F0aW9uWzBdLFxuICAgICAgbG9jYXRpb25bMV0sXG4gICAgICByYW5kb21FbmVteS5nb2xkVmFsdWUsIC8vIGdvbGQgdmFsdWVcbiAgICAgIGBtb25zdGVyLSR7djQoKX1gLFxuICAgICAgcmFuZG9tRW5lbXkua2V5LCAvLyBrZXlcbiAgICAgIHJhbmRvbUVuZW15LmhlYWx0aFZhbHVlLCAvLyBoZWFsdGggdmFsdWVcbiAgICAgIHJhbmRvbUVuZW15LmF0dGFja1ZhbHVlLCAvLyBhdHRhY2sgdmFsdWVcbiAgICAgIHJhbmRvbUVuZW15LmV4cFZhbHVlLCAvLyBleHAgdmFsdWVcbiAgICAgIDMwMDAgLy90aW1lclxuICAgICk7XG4gICAgdGhpcy5hZGRNb25zdGVyKG1vbnN0ZXIuaWQsIG1vbnN0ZXIpO1xuICB9XG5cbiAgYWRkTW9uc3Rlcihtb25zdGVySWQsIG1vbnN0ZXIpIHtcbiAgICB0aGlzLm1vbnN0ZXJzW21vbnN0ZXJJZF0gPSBtb25zdGVyO1xuICAgIHRoaXMuaW8uZW1pdChcIm1vbnN0ZXJTcGF3bmVkXCIsIG1vbnN0ZXIpO1xuICB9XG5cbiAgZGVsZXRlTW9uc3Rlcihtb25zdGVySWQpIHtcbiAgICBkZWxldGUgdGhpcy5tb25zdGVyc1ttb25zdGVySWRdO1xuICAgIHRoaXMuaW8uZW1pdChcIm1vbnN0ZXJSZW1vdmVkXCIsIG1vbnN0ZXJJZCk7XG4gIH1cblxuICBhZGRMb2NhdGlvbih4LCB5KSB7XG4gICAgdGhpcy5tb25zdGVyTG9jYXRpb25zLnB1c2goW3gsIHldKTtcbiAgfVxuXG4gIGdldE1vbnN0ZXJMaXN0KCkge1xuICAgIHJldHVybiB0aGlzLm1vbnN0ZXJzO1xuICB9XG5cbiAgZ2V0TW9uc3Rlcihtb25zdGVySWQpIHtcbiAgICByZXR1cm4gdGhpcy5tb25zdGVyc1ttb25zdGVySWRdO1xuICB9XG4gIGdldE1vbnN0ZXJMb2NhdGlvbkxpc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9uc3RlckxvY2F0aW9ucztcbiAgfVxuXG4gIF9tb3ZlbWVudChtb25zdGVyKSB7XG4gICAgbW9uc3Rlci5tb3ZlKCk7XG4gICAgdGhpcy5pby5lbWl0KFwibW9uc3Rlck1vdmVtZW50XCIsIG1vbnN0ZXIpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFDLHVCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFILE9BQUE7QUFBMEIsU0FBQUkseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEs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","map":{"version":3,"names":["_MonsterModel","_interopRequireDefault","require","enemyData","_interopRequireWildcard","_uuid","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","MonsterController","exports","io","locations","_classCallCheck2","monsters","monsterLocations","setupSpawn","init","_createClass2","key","value","update","setupEventListeners","socket","_this","on","monsterId","playerAttack","playerId","monster","exp","playerAttackValue","loseHealth","health","emit","deleteMonster","id","_this2","setInterval","keys","forEach","_movement","_this3","length","spawnMonster","pickRandomLocation","location","Math","floor","random","invalidLocation","some","obj","x","y","randomEnemy","enemies","MonsterModel","goldValue","concat","v4","healthValue","attackValue","expValue","addMonster","addLocation","push","getMonsterList","getMonster","getMonsterLocationList","move"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["MonsterController.js"],"sourcesContent":["import MonsterModel from \"../../models/MonsterModel\";\nimport * as enemyData from \"../../../public/assets/Enemies/enemies.json\";\nimport { v4 } from \"uuid\";\n\nexport default class MonsterController {\n  constructor(io, locations) {\n    this.monsters = {};\n    this.monsterLocations = locations;\n    this.io = io;\n\n    this.setupSpawn();\n    this.init();\n  }\n\n  init() {\n    this.update();\n  }\n\n  setupEventListeners(socket) {\n    return socket.on(\"monsterHit\", (monsterId, playerAttack, playerId) => {\n      if (!this.monsters[monsterId]) return;\n      const monster = this.monsters[monsterId];\n      const { exp } = monster;\n      const playerAttackValue = playerAttack;\n      monster.loseHealth(playerAttackValue);\n\n      if (monster.health <= 0) {\n        this.io.emit(\"updateXp\", exp, playerId);\n        this.deleteMonster(monster.id);\n      } else {\n        socket.emit(\"updateMonsterHealth\", monsterId, monster.health);\n      }\n    });\n  }\n\n  update() {\n    setInterval(() => {\n      Object.keys(this.monsters).forEach((id) => {\n        if (!this.monsters[id]) return;\n        this._movement(this.monsters[id]);\n      });\n    }, 1000);\n  }\n\n  setupSpawn() {\n    setInterval(() => {\n      if (Object.keys(this.monsters).length <= 8) {\n        this.spawnMonster();\n      }\n    }, 3000);\n  }\n\n  pickRandomLocation() {\n    const location =\n      this.monsterLocations[\n        Math.floor(Math.random() * this.monsterLocations.length)\n      ];\n    if (this.monsters.length > 0) {\n      const invalidLocation = this.monsters.some((obj) => {\n        if (obj.x === location[0] && obj.y === location[1]) {\n          return true;\n        }\n        return false;\n      });\n\n      if (invalidLocation) return this.pickRandomLocation();\n      return location || [200, 200];\n    }\n    return location || [200, 200];\n  }\n\n  spawnMonster() {\n    const randomEnemy =\n      enemyData.enemies[Math.floor(Math.random() * enemyData.enemies.length)];\n    const location = this.pickRandomLocation();\n    const monster = new MonsterModel(\n      location[0],\n      location[1],\n      randomEnemy.goldValue, // gold value\n      `monster-${v4()}`,\n      randomEnemy.key, // key\n      randomEnemy.healthValue, // health value\n      randomEnemy.attackValue, // attack value\n      randomEnemy.expValue, // exp value\n      3000 //timer\n    );\n    this.addMonster(monster.id, monster);\n  }\n\n  addMonster(monsterId, monster) {\n    this.monsters[monsterId] = monster;\n    this.io.emit(\"monsterSpawned\", monster);\n  }\n\n  deleteMonster(monsterId) {\n    delete this.monsters[monsterId];\n    this.io.emit(\"monsterRemoved\", monsterId);\n  }\n\n  addLocation(x, y) {\n    this.monsterLocations.push([x, y]);\n  }\n\n  getMonsterList() {\n    return this.monsters;\n  }\n\n  getMonster(monsterId) {\n    return this.monsters[monsterId];\n  }\n  getMonsterLocationList() {\n    return this.monsterLocations;\n  }\n\n  _movement(monster) {\n    monster.move();\n    this.io.emit(\"monsterMovement\", monster);\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719106483777},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/MonsterModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _uuid = require(\"uuid\");\nvar _utils = require(\"../game_manager/utils\");\nvar MonsterModel = exports[\"default\"] = /*#__PURE__*/function () {\n  function MonsterModel(x, y, gold, spawnerId, key, health, attack, exp, stateTime) {\n    (0, _classCallCheck2[\"default\"])(this, MonsterModel);\n    this.id = \"\".concat(spawnerId, \"-\").concat((0, _uuid.v4)());\n    this.spawnerId = spawnerId;\n    this.x = x * 2;\n    this.y = y * 2;\n    this.gold = gold;\n    this.key = key;\n    this.health = health;\n    this.maxHealth = health;\n    this.attack = attack;\n    this.exp = exp;\n    this.stateTime = stateTime;\n    this.randomPosition = (0, _utils.randomNumber)(1, 8);\n    this.targetPos = {\n      x: 0,\n      y: 0\n    };\n  }\n  return (0, _createClass2[\"default\"])(MonsterModel, [{\n    key: \"setTarget\",\n    value: function setTarget(target) {\n      this.targetPos = {\n        x: target.x,\n        y: target.y\n      };\n    }\n  }, {\n    key: \"move\",\n    value: function move() {\n      var randomPosition = (0, _utils.randomNumber)(1, 9);\n      var distance = 64;\n      switch (randomPosition) {\n        case 1:\n          this.setTarget({\n            x: this.x += distance,\n            y: this.y\n          });\n          break;\n        case 2:\n          this.setTarget({\n            x: this.x -= distance,\n            y: this.y\n          });\n          break;\n        case 3:\n          this.setTarget({\n            x: this.x,\n            y: this.y += distance\n          });\n          break;\n        case 4:\n          this.setTarget({\n            x: this.x,\n            y: this.y -= distance\n          });\n          break;\n        case 5:\n          this.setTarget({\n            x: this.x += distance,\n            y: this.y += distance\n          });\n          break;\n        case 6:\n          this.setTarget({\n            x: this.x += distance,\n            y: this.y -= distance\n          });\n          break;\n        case 7:\n          this.setTarget({\n            x: this.x -= distance,\n            y: this.y += distance\n          });\n          break;\n        case 8:\n          this.setTarget({\n            x: this.x -= distance,\n            y: this.y -= distance\n          });\n          break;\n        case 9:\n          this.setTarget({\n            x: this.x,\n            y: this.y\n          });\n          break;\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"loseHealth\",\n    value: function loseHealth(attack) {\n      this.health -= attack;\n    }\n  }, {\n    key: \"getId\",\n    value: function getId() {\n      return this.id;\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXVpZCIsInJlcXVpcmUiLCJfdXRpbHMiLCJNb25zdGVyTW9kZWwiLCJleHBvcnRzIiwieCIsInkiLCJnb2xkIiwic3Bhd25lcklkIiwia2V5IiwiaGVhbHRoIiwiYXR0YWNrIiwiZXhwIiwic3RhdGVUaW1lIiwiX2NsYXNzQ2FsbENoZWNrMiIsImlkIiwiY29uY2F0IiwidjQiLCJtYXhIZWFsdGgiLCJyYW5kb21Qb3NpdGlvbiIsInJhbmRvbU51bWJlciIsInRhcmdldFBvcyIsIl9jcmVhdGVDbGFzczIiLCJ2YWx1ZSIsInNldFRhcmdldCIsInRhcmdldCIsIm1vdmUiLCJkaXN0YW5jZSIsImxvc2VIZWFsdGgiLCJnZXRJZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJNb25zdGVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xuaW1wb3J0IHsgcmFuZG9tTnVtYmVyIH0gZnJvbSBcIi4uL2dhbWVfbWFuYWdlci91dGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb25zdGVyTW9kZWwge1xuICBjb25zdHJ1Y3Rvcih4LCB5LCBnb2xkLCBzcGF3bmVySWQsIGtleSwgaGVhbHRoLCBhdHRhY2ssIGV4cCwgc3RhdGVUaW1lKSB7XG4gICAgdGhpcy5pZCA9IGAke3NwYXduZXJJZH0tJHt2NCgpfWA7XG4gICAgdGhpcy5zcGF3bmVySWQgPSBzcGF3bmVySWQ7XG4gICAgdGhpcy54ID0geCAqIDI7XG4gICAgdGhpcy55ID0geSAqIDI7XG4gICAgdGhpcy5nb2xkID0gZ29sZDtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLmhlYWx0aCA9IGhlYWx0aDtcbiAgICB0aGlzLm1heEhlYWx0aCA9IGhlYWx0aDtcbiAgICB0aGlzLmF0dGFjayA9IGF0dGFjaztcbiAgICB0aGlzLmV4cCA9IGV4cDtcbiAgICB0aGlzLnN0YXRlVGltZSA9IHN0YXRlVGltZTtcbiAgICB0aGlzLnJhbmRvbVBvc2l0aW9uID0gcmFuZG9tTnVtYmVyKDEsIDgpO1xuICAgIHRoaXMudGFyZ2V0UG9zID0geyB4OiAwLCB5OiAwIH07XG4gIH1cblxuICBzZXRUYXJnZXQodGFyZ2V0KSB7XG4gICAgdGhpcy50YXJnZXRQb3MgPSB7XG4gICAgICB4OiB0YXJnZXQueCxcbiAgICAgIHk6IHRhcmdldC55LFxuICAgIH07XG4gIH1cbiAgbW92ZSgpIHtcbiAgICBjb25zdCByYW5kb21Qb3NpdGlvbiA9IHJhbmRvbU51bWJlcigxLCA5KTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IDY0O1xuICAgIHN3aXRjaCAocmFuZG9tUG9zaXRpb24pIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiAodGhpcy54ICs9IGRpc3RhbmNlKSwgeTogdGhpcy55IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiAodGhpcy54IC09IGRpc3RhbmNlKSwgeTogdGhpcy55IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiB0aGlzLngsIHk6ICh0aGlzLnkgKz0gZGlzdGFuY2UpIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiB0aGlzLngsIHk6ICh0aGlzLnkgLT0gZGlzdGFuY2UpIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiAodGhpcy54ICs9IGRpc3RhbmNlKSwgeTogKHRoaXMueSArPSBkaXN0YW5jZSkgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2OlxuICAgICAgICB0aGlzLnNldFRhcmdldCh7IHg6ICh0aGlzLnggKz0gZGlzdGFuY2UpLCB5OiAodGhpcy55IC09IGRpc3RhbmNlKSB9KTtcblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNzpcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoeyB4OiAodGhpcy54IC09IGRpc3RhbmNlKSwgeTogKHRoaXMueSArPSBkaXN0YW5jZSkgfSk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDg6XG4gICAgICAgIHRoaXMuc2V0VGFyZ2V0KHsgeDogKHRoaXMueCAtPSBkaXN0YW5jZSksIHk6ICh0aGlzLnkgLT0gZGlzdGFuY2UpIH0pO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA5OlxuICAgICAgICB0aGlzLnNldFRhcmdldCh7IHg6IHRoaXMueCwgeTogdGhpcy55IH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgbG9zZUhlYWx0aChhdHRhY2spIHtcbiAgICB0aGlzLmhlYWx0aCAtPSBhdHRhY2s7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFBcUQsSUFFaENFLFlBQVksR0FBQUMsT0FBQTtFQUMvQixTQUFBRCxhQUFZRSxDQUFDLEVBQUVDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLEdBQUcsRUFBRUMsU0FBUyxFQUFFO0lBQUEsSUFBQUMsZ0JBQUEsbUJBQUFYLFlBQUE7SUFDdEUsSUFBSSxDQUFDWSxFQUFFLE1BQUFDLE1BQUEsQ0FBTVIsU0FBUyxPQUFBUSxNQUFBLENBQUksSUFBQUMsUUFBRSxFQUFDLENBQUMsQ0FBRTtJQUNoQyxJQUFJLENBQUNULFNBQVMsR0FBR0EsU0FB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","map":{"version":3,"names":["_uuid","require","_utils","MonsterModel","exports","x","y","gold","spawnerId","key","health","attack","exp","stateTime","_classCallCheck2","id","concat","v4","maxHealth","randomPosition","randomNumber","targetPos","_createClass2","value","setTarget","target","move","distance","loseHealth","getId"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["MonsterModel.js"],"sourcesContent":["import { v4 } from \"uuid\";\nimport { randomNumber } from \"../game_manager/utils\";\n\nexport default class MonsterModel {\n  constructor(x, y, gold, spawnerId, key, health, attack, exp, stateTime) {\n    this.id = `${spawnerId}-${v4()}`;\n    this.spawnerId = spawnerId;\n    this.x = x * 2;\n    this.y = y * 2;\n    this.gold = gold;\n    this.key = key;\n    this.health = health;\n    this.maxHealth = health;\n    this.attack = attack;\n    this.exp = exp;\n    this.stateTime = stateTime;\n    this.randomPosition = randomNumber(1, 8);\n    this.targetPos = { x: 0, y: 0 };\n  }\n\n  setTarget(target) {\n    this.targetPos = {\n      x: target.x,\n      y: target.y,\n    };\n  }\n  move() {\n    const randomPosition = randomNumber(1, 9);\n    const distance = 64;\n    switch (randomPosition) {\n      case 1:\n        this.setTarget({ x: (this.x += distance), y: this.y });\n        break;\n      case 2:\n        this.setTarget({ x: (this.x -= distance), y: this.y });\n        break;\n      case 3:\n        this.setTarget({ x: this.x, y: (this.y += distance) });\n        break;\n      case 4:\n        this.setTarget({ x: this.x, y: (this.y -= distance) });\n        break;\n      case 5:\n        this.setTarget({ x: (this.x += distance), y: (this.y += distance) });\n        break;\n      case 6:\n        this.setTarget({ x: (this.x += distance), y: (this.y -= distance) });\n\n        break;\n      case 7:\n        this.setTarget({ x: (this.x -= distance), y: (this.y += distance) });\n\n        break;\n      case 8:\n        this.setTarget({ x: (this.x -= distance), y: (this.y -= distance) });\n\n        break;\n      case 9:\n        this.setTarget({ x: this.x, y: this.y });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  loseHealth(attack) {\n    this.health -= attack;\n  }\n\n  getId() {\n    return this.id;\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WeaponTypes = exports.SpawnerType = void 0;\nexports.getRandonValues = getRandonValues;\nexports.randomNumber = randomNumber;\nvar SpawnerType = exports.SpawnerType = {\n  MONSTER: 'MONSTER',\n  CHEST: 'CHEST',\n  ITEM: 'ITEM',\n  NPC: 'NPC'\n};\nvar WeaponTypes = exports.WeaponTypes = {\n  MELEE: 'MELEE',\n  RANGED: 'RANGED',\n  MAGIC: 'MAGIC',\n  POTION: 'POTION',\n  GEAR: 'GEAR'\n};\nfunction randomNumber(min, max) {\n  return Math.floor(Math.random() * max) + min;\n}\nfunction getRandonValues() {\n  var bonus = [-3, -5, -6, 0, 5, 3, 4, 7, 2, 1, 8, 10, 11, 23, 12, 13, 14, 15, 16, 9];\n  return bonus[Math.floor(Math.random() * bonus.length)];\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTcGF3bmVyVHlwZSIsImV4cG9ydHMiLCJNT05TVEVSIiwiQ0hFU1QiLCJJVEVNIiwiTlBDIiwiV2VhcG9uVHlwZXMiLCJNRUxFRSIsIlJBTkdFRCIsIk1BR0lDIiwiUE9USU9OIiwiR0VBUiIsInJhbmRvbU51bWJlciIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdldFJhbmRvblZhbHVlcyIsImJvbnVzIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZmFicmljaW9vbGl2ZWlyYS9EZXZlbG9wZXIvZnVsbHN0YWNrLWhlcm8tam91cm5leS9zZXJ2ZXIvc3JjL2dhbWVfbWFuYWdlci8iLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBTcGF3bmVyVHlwZSA9IHtcbiAgTU9OU1RFUjogJ01PTlNURVInLFxuICBDSEVTVDogJ0NIRVNUJyxcbiAgSVRFTTogJ0lURU0nLFxuICBOUEM6ICdOUEMnLFxuXG59O1xuXG5leHBvcnQgY29uc3QgV2VhcG9uVHlwZXMgPSB7XG4gIE1FTEVFOiAnTUVMRUUnLFxuICBSQU5HRUQ6ICdSQU5HRUQnLFxuICBNQUdJQzogJ01BR0lDJyxcbiAgUE9USU9OOiAnUE9USU9OJyxcbiAgR0VBUjogJ0dFQVInLFxuXG5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21OdW1iZXIobWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCkgKyBtaW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb25WYWx1ZXMoKSB7XG4gIGNvbnN0IGJvbnVzID0gW1xuICAgIC0zLCAtNSwgLTYsIDAsIDUsIDMsIDQsIDcsIDIsIDEsIDgsIDEwLCAxMSwgMjMsIDEyLCAxMywgMTQsIDE1LCAxNiwgOSxcbiAgXTtcbiAgcmV0dXJuIGJvbnVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJvbnVzLmxlbmd0aCldO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTyxJQUFNQSxXQUFXLEdBQUFDLE9BQUEsQ0FBQUQsV0FBQSxHQUFHO0VBQ3pCRSxPQUFPLEVBQUUsU0FBUztFQUNsQkMsS0FBSyxFQUFFLE9BQU87RUFDZEMsSUFBSSxFQUFFLE1BQU07RUFDWkMsR0FBRyxFQUFFO0FBRVAsQ0FBQztBQUVNLElBQU1DLFdBQVcsR0FBQUwsT0FBQSxDQUFBSyxXQUFBLEdBQUc7RUFDekJDLEtBQUssRUFBRSxPQUFPO0VBQ2RDLE1BQU0sRUFBRSxRQUFRO0VBQ2hCQyxLQUFLLEVBQUUsT0FBTztFQUNkQyxNQUFNLEVBQUUsUUFBUTtFQUNoQkMsSUFBSSxFQUFFO0FBR1IsQ0FBQztBQUVNLFNBQVNDLFlBQVlBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0VBQ3JDLE9BQU9DLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEdBQUdILEdBQUcsQ0FBQyxHQUFHRCxHQUFHO0FBQzlDO0FBRU8sU0FBU0ssZUFBZUEsQ0FBQSxFQUFHO0VBQ2hDLElBQU1DLEtBQUssR0FBRyxDQUNaLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ3RFO0VBQ0QsT0FBT0EsS0FBSyxDQUFDSixJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQyxHQUFHRSxLQUFLLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBQ3hEIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["SpawnerType","exports","MONSTER","CHEST","ITEM","NPC","WeaponTypes","MELEE","RANGED","MAGIC","POTION","GEAR","randomNumber","min","max","Math","floor","random","getRandonValues","bonus","length"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/","sources":["utils.js"],"sourcesContent":["export const SpawnerType = {\n  MONSTER: 'MONSTER',\n  CHEST: 'CHEST',\n  ITEM: 'ITEM',\n  NPC: 'NPC',\n\n};\n\nexport const WeaponTypes = {\n  MELEE: 'MELEE',\n  RANGED: 'RANGED',\n  MAGIC: 'MAGIC',\n  POTION: 'POTION',\n  GEAR: 'GEAR',\n\n\n};\n\nexport function randomNumber(min, max) {\n  return Math.floor(Math.random() * max) + min;\n}\n\nexport function getRandonValues() {\n  const bonus = [\n    -3, -5, -6, 0, 5, 3, 4, 7, 2, 1, 8, 10, 11, 23, 12, 13, 14, 15, 16, 9,\n  ];\n  return bonus[Math.floor(Math.random() * bonus.length)];\n}"],"mappings":";;;;;;;;AAAO,IAAMA,WAAW,GAAAC,OAAA,CAAAD,WAAA,GAAG;EACzBE,OAAO,EAAE,SAAS;EAClBC,KAAK,EAAE,OAAO;EACdC,IAAI,EAAE,MAAM;EACZC,GAAG,EAAE;AAEP,CAAC;AAEM,IAAMC,WAAW,GAAAL,OAAA,CAAAK,WAAA,GAAG;EACzBC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,QAAQ;EAChBC,IAAI,EAAE;AAGR,CAAC;AAEM,SAASC,YAAYA,CAACC,GAAG,EAAEC,GAAG,EAAE;EACrC,OAAOC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGH,GAAG,CAAC,GAAGD,GAAG;AAC9C;AAEO,SAASK,eAAeA,CAAA,EAAG;EAChC,IAAMC,KAAK,GAAG,CACZ,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACtE;EACD,OAAOA,KAAK,CAACJ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGE,KAAK,CAACC,MAAM,CAAC,CAAC;AACxD","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/PlayerController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _UserModel = _interopRequireDefault(require(\"../../models/UserModel\"));\nvar _PlayerModel = _interopRequireDefault(require(\"../../models/PlayerModel\"));\nvar PlayerController = exports[\"default\"] = /*#__PURE__*/function () {\n  function PlayerController(io, playerLocations) {\n    (0, _classCallCheck2[\"default\"])(this, PlayerController);\n    this.players = {};\n    this.playerLocations = playerLocations;\n    this.io = io;\n  }\n  return (0, _createClass2[\"default\"])(PlayerController, [{\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {\n      var _this = this;\n      this._eventNewPlayer(socket);\n      this._eventPlayerMovement(socket);\n      this._eventPickupChest(socket);\n      this._eventPickupItem(socket);\n      this._eventPlayerDroppedItem(socket);\n      this._eventPlayerEquipedItem(socket);\n      this._eventPlayerUnequipedItem(socket);\n      this._eventHealthPotion(socket);\n      this._eventAttackedPlayer(socket);\n      this._eventPlayerHit(socket);\n      this._eventSendBuyItemMessage(socket);\n      this._eventPlayerUpdateXp(socket);\n      this._eventLevelUp(socket);\n      this._eventDisconnect(socket);\n      this._eventSavePlayerData(socket);\n      socket.on(\"playerGetItem\", function (item, playerId) {\n        var player = _this.players[playerId];\n        player.addItem(item);\n        socket.emit(\"updateItems\", player);\n        socket.broadcast.emit(\"updatePlayersItems\", playerId, player);\n      });\n    }\n  }, {\n    key: \"_eventSavePlayerData\",\n    value: function _eventSavePlayerData(socket) {\n      var _this2 = this;\n      return socket.on(\"savePlayerData\", /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              if (!_this2.players[socket.id].items) {\n                _this2.players[socket.id].items = null;\n              }\n              if (!_this2.players[socket.id].equipedItems) {\n                _this2.players[socket.id].equipedItems = null;\n              }\n              _context.next = 5;\n              return _UserModel[\"default\"].updateOne({\n                username: _this2.players[socket.id].playerName\n              }, {\n                $set: {\n                  player: _this2.players[socket.id]\n                }\n              });\n            case 5:\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      })));\n    }\n  }, {\n    key: \"_eventNewPlayer\",\n    value: function _eventNewPlayer(socket) {\n      var _this3 = this;\n      return socket.on(\"newPlayer\", /*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(token, key, instanceId) {\n          var decoded, _decoded$user, name, _id, playerSchema, player;\n          return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                decoded = _jsonwebtoken[\"default\"].verify(token, process.env.JWT_SECRET);\n                _decoded$user = decoded.user, name = _decoded$user.name, _id = _decoded$user._id;\n                _context2.next = 5;\n                return _UserModel[\"default\"].findById(_id);\n              case 5:\n                playerSchema = _context2.sent;\n                console.log(name);\n                player = _this3._spawnPlayer(socket.id, name, key, playerSchema.player);\n                socket.emit(\"currentPlayers\", _this3.players, instanceId);\n\n                // inform the other players of the new player that joined\n                socket.broadcast.emit(\"spawnPlayer\", player);\n                socket.emit(\"updateItems\", player);\n                socket.broadcast.emit(\"updatePlayersItems\", socket.id, player);\n                _context2.next = 18;\n                break;\n              case 14:\n                _context2.prev = 14;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n                socket.emit(\"invalidToken\");\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, null, [[0, 14]]);\n        }));\n        return function (_x, _x2, _x3) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"_eventPlayerMovement\",\n    value: function _eventPlayerMovement(socket) {\n      var _this4 = this;\n      return socket.on(\"playerMovement\", function (playerData) {\n        if (_this4.players[socket.id]) {\n          _this4.players[socket.id].x = playerData.x;\n          _this4.players[socket.id].y = playerData.y;\n          _this4.players[socket.id].flipX = playerData.flipX;\n          _this4.players[socket.id].actionAActive = playerData.actionAActive;\n          _this4.players[socket.id].potionAActive = playerData.potionAActive;\n          _this4.players[socket.id].frame = playerData.frame;\n          _this4.players[socket.id].currentDirection = playerData.currentDirection;\n          // emit a message to all players about the player that moved\n          _this4.io.emit(\"playerMoved\", _this4.players[socket.id]);\n        }\n      });\n    }\n  }, {\n    key: \"_eventPickupChest\",\n    value: function _eventPickupChest(socket) {\n      var _this5 = this;\n      return socket.on(\"pickUpChest\", function (chestId) {\n        var player = _this5.players[socket.id];\n        player.updateGold(20);\n        socket.emit(\"updateScore\", player.gold);\n        socket.broadcast.emit(\"updatePlayersScore\", socket.id, player.gold);\n        _this5.io.emit(\"chestRemoved\", chestId);\n      });\n    }\n  }, {\n    key: \"_eventPickupItem\",\n    value: function _eventPickupItem(socket) {\n      var _this6 = this;\n      return socket.on(\"pickUpItem\", function (itemId) {\n        var player = _this6.players[socket.id];\n        if (player.canPickupItem()) {\n          socket.emit(\"collectItem\", itemId);\n        }\n      });\n    }\n  }, {\n    key: \"_eventPlayerDroppedItem\",\n    value: function _eventPlayerDroppedItem(socket) {\n      var _this7 = this;\n      return socket.on(\"playerDroppedItem\", function (itemId) {\n        _this7.players[socket.id].removeItem(itemId);\n        socket.emit(\"updateItems\", _this7.players[socket.id]);\n        socket.broadcast.emit(\"updatePlayersItems\", socket.id, _this7.players[socket.id]);\n      });\n    }\n  }, {\n    key: \"_eventPlayerEquipedItem\",\n    value: function _eventPlayerEquipedItem(socket) {\n      var _this8 = this;\n      return socket.on(\"playerEquipedItem\", function (itemId) {\n        if (_this8.players[socket.id].items[itemId]) {\n          if (_this8.players[socket.id].canEquipItem()) {\n            _this8.players[socket.id].equipItem(_this8.players[socket.id].items[itemId]);\n            socket.emit(\"updateItems\", _this8.players[socket.id]);\n            socket.broadcast.emit(\"updatePlayersItems\", socket.id, _this8.players[socket.id]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_eventPlayerUnequipedItem\",\n    value: function _eventPlayerUnequipedItem(socket) {\n      var _this9 = this;\n      return socket.on(\"playerUnequipedItem\", function (itemId) {\n        if (_this9.players[socket.id].equipedItems[itemId]) {\n          if (_this9.players[socket.id].canPickupItem()) {\n            _this9.players[socket.id].addItem(_this9.players[socket.id].equipedItems[itemId]);\n            _this9.players[socket.id].removeEquipedItem(itemId);\n            socket.emit(\"updateItems\", _this9.players[socket.id]);\n            socket.broadcast.emit(\"updatePlayersItems\", socket.id, _this9.players[socket.id]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_eventLevelUp\",\n    value: function _eventLevelUp(socket) {\n      var _this10 = this;\n      return socket.on(\"levelUp\", function () {\n        _this10.players[socket.id].levelUp();\n        _this10.io.emit(\"updatePlayerStats\", socket.id, _this10.players[socket.id].level, _this10.players[socket.id].attack, _this10.players[socket.id].defense, _this10.players[socket.id].maxHealth, _this10.players[socket.id].exp, _this10.players[socket.id].maxExp);\n      });\n    }\n  }, {\n    key: \"_eventHealthPotion\",\n    value: function _eventHealthPotion(socket) {\n      var _this11 = this;\n      return socket.on(\"healthPotion\", function (playerId, health) {\n        _this11.players[playerId];\n        _this11.players[playerId].potion(health);\n        _this11.io.emit(\"updatePlayerHealth\", playerId, _this11.players[playerId].health);\n      });\n    }\n  }, {\n    key: \"_eventAttackedPlayer\",\n    value: function _eventAttackedPlayer(socket) {\n      var _this12 = this;\n      return socket.on(\"attackedPlayer\", function (attackedPlayerId) {\n        if (_this12.players[attackedPlayerId]) {\n          // get required info from attacked player\n          var gold = _this12.players[attackedPlayerId].gold;\n          var playerAttackValue = _this12.players[socket.id].attack;\n\n          // subtract health from attacked player\n          _this12.players[attackedPlayerId].playerAttacked(playerAttackValue);\n\n          // check attacked players health, if dead send gold to other player\n          if (_this12.players[attackedPlayerId].health <= 0) {\n            // get the amount of gold, and update player object\n            _this12.players[socket.id].updateGold(gold);\n\n            // respawn attacked player\n            _this12.players[attackedPlayerId].respawn(_this12.players);\n            _this12.io.emit(\"respawnPlayer\", _this12.players[attackedPlayerId]);\n\n            // send update gold message to player\n            socket.emit(\"updateScore\", _this12.players[socket.id].gold);\n\n            // reset the attacked players gold\n            _this12.players[attackedPlayerId].updateGold(-gold);\n            _this12.io.to(\"\".concat(attackedPlayerId)).emit(\"updateScore\", _this12.players[attackedPlayerId].gold);\n\n            // add bonus health to the player\n            _this12.players[socket.id].updateHealth(15);\n            _this12.io.emit(\"updatePlayerHealth\", socket.id, _this12.players[socket.id].health);\n          } else {\n            _this12.io.emit(\"updatePlayerHealth\", attackedPlayerId, _this12.players[attackedPlayerId].health);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_eventPlayerHit\",\n    value: function _eventPlayerHit(socket) {\n      var _this13 = this;\n      return socket.on(\"playerHit\", function (playerId, monsterAttack) {\n        _this13.players[playerId].playerAttacked(monsterAttack);\n        _this13.io.emit(\"updatePlayerHealth\", playerId, _this13.players[playerId].health);\n        // check the player's health, if below 0 have the player respawn\n        if (_this13.players[playerId].health <= 0) {\n          // update the gold the player has\n          _this13.players[playerId].updateGold(parseInt(-_this13.players[playerId].gold / 2, 10));\n          socket.emit(\"updateScore\", _this13.players[playerId].gold);\n\n          // respawn the player\n          _this13.players[playerId].respawn(_this13.players);\n          _this13.io.emit(\"respawnPlayer\", _this13.players[playerId]);\n        }\n      });\n    }\n  }, {\n    key: \"_eventSendBuyItemMessage\",\n    value: function _eventSendBuyItemMessage(socket) {\n      var _this14 = this;\n      return socket.on(\"sendBuyItemMessage\", function (item) {\n        _this14.players[socket.id].potions++;\n        _this14.players[socket.id].updateGold(-item.price);\n        socket.emit(\"updateScore\", _this14.players[socket.id].gold);\n        socket.broadcast.emit(\"updatePlayersScore\", socket.id, _this14.players[socket.id].gold);\n      });\n    }\n  }, {\n    key: \"_eventPlayerUpdateXp\",\n    value: function _eventPlayerUpdateXp(socket) {\n      var _this15 = this;\n      return socket.on(\"playerUpdateXp\", function (playerId, exp) {\n        _this15.players[playerId].updateExp(exp);\n        _this15.io.emit(\"updateXp\", exp, socket.id);\n      });\n    }\n  }, {\n    key: \"_eventDisconnect\",\n    value: function _eventDisconnect(socket) {\n      var _this16 = this;\n      return socket.on(\"disconnect\", function () {\n        // delete user data from server\n\n        console.log(\"Player Disconnect\");\n        delete _this16.players[socket.id];\n\n        // emit a message to all players to remove this player\n        _this16.io.emit(\"disconnected\", socket.id);\n      });\n    }\n  }, {\n    key: \"_spawnPlayer\",\n    value: function _spawnPlayer(playerId, name, key, playerSchema) {\n      var player = new _PlayerModel[\"default\"](playerId, [[200, 200], [400, 400]], this.players, name, key, undefined, playerSchema);\n      this.players[playerId] = player;\n      return this.players[playerId];\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlck1vZGVsIiwiX1BsYXllck1vZGVsIiwiUGxheWVyQ29udHJvbGxlciIsImV4cG9ydHMiLCJpbyIsInBsYXllckxvY2F0aW9ucyIsIl9jbGFzc0NhbGxDaGVjazIiLCJwbGF5ZXJzIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwic2V0dXBFdmVudExpc3RlbmVycyIsInNvY2tldCIsIl90aGlzIiwiX2V2ZW50TmV3UGxheWVyIiwiX2V2ZW50UGxheWVyTW92ZW1lbnQiLCJfZXZlbnRQaWNrdXBDaGVzdCIsIl9ldmVudFBpY2t1cEl0ZW0iLCJfZXZlbnRQbGF5ZXJEcm9wcGVkSXRlbSIsIl9ldmVudFBsYXllckVxdWlwZWRJdGVtIiwiX2V2ZW50UGxheWVyVW5lcXVpcGVkSXRlbSIsIl9ldmVudEhlYWx0aFBvdGlvbiIsIl9ldmVudEF0dGFja2VkUGxheWVyIiwiX2V2ZW50UGxheWVySGl0IiwiX2V2ZW50U2VuZEJ1eUl0ZW1NZXNzYWdlIiwiX2V2ZW50UGxheWVyVXBkYXRlWHAiLCJfZXZlbnRMZXZlbFVwIiwiX2V2ZW50RGlzY29ubmVjdCIsIl9ldmVudFNhdmVQbGF5ZXJEYXRhIiwib24iLCJpdGVtIiwicGxheWVySWQiLCJwbGF5ZXIiLCJhZGRJdGVtIiwiZW1pdCIsImJyb2FkY2FzdCIsIl90aGlzMiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImlkIiwiaXRlbXMiLCJlcXVpcGVkSXRlbXMiLCJVc2VyTW9kZWwiLCJ1cGRhdGVPbmUiLCJ1c2VybmFtZSIsInBsYXllck5hbWUiLCIkc2V0IiwidDAiLCJjb25zb2xlIiwibG9nIiwic3RvcCIsIl90aGlzMyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJ0b2tlbiIsImluc3RhbmNlSWQiLCJkZWNvZGVkIiwiX2RlY29kZWQkdXNlciIsIm5hbWUiLCJfaWQiLCJwbGF5ZXJTY2hlbWEiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXIiLCJmaW5kQnlJZCIsInNlbnQiLCJfc3Bhd25QbGF5ZXIiLCJfeCIsIl94MiIsIl94MyIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3RoaXM0IiwicGxheWVyRGF0YSIsIngiLCJ5IiwiZmxpcFgiLCJhY3Rpb25BQWN0aXZlIiwicG90aW9uQUFjdGl2ZSIsImZyYW1lIiwiY3VycmVudERpcmVjdGlvbiIsIl90aGlzNSIsImNoZXN0SWQiLCJ1cGRhdGVHb2xkIiwiZ29sZCIsIl90aGlzNiIsIml0ZW1JZCIsImNhblBpY2t1cEl0ZW0iLCJfdGhpczciLCJyZW1vdmVJdGVtIiwiX3RoaXM4IiwiY2FuRXF1aXBJdGVtIiwiZXF1aXBJdGVtIiwiX3RoaXM5IiwicmVtb3ZlRXF1aXBlZEl0ZW0iLCJfdGhpczEwIiwibGV2ZWxVcCIsImxldmVsIiwiYXR0YWNrIiwiZGVmZW5zZSIsIm1heEhlYWx0aCIsImV4cCIsIm1heEV4cCIsIl90aGlzMTEiLCJoZWFsdGgiLCJwb3Rpb24iLCJfdGhpczEyIiwiYXR0YWNrZWRQbGF5ZXJJZCIsInBsYXllckF0dGFja1ZhbHVlIiwicGxheWVyQXR0YWNrZWQiLCJyZXNwYXduIiwidG8iLCJjb25jYXQiLCJ1cGRhdGVIZWFsdGgiLCJfdGhpczEzIiwibW9uc3RlckF0dGFjayIsInBhcnNlSW50IiwiX3RoaXMxNCIsInBvdGlvbnMiLCJwcmljZSIsIl90aGlzMTUiLCJ1cGRhdGVFeHAiLCJfdGhpczE2IiwiUGxheWVyTW9kZWwiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiUGxheWVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcblxuaW1wb3J0IFVzZXJNb2RlbCBmcm9tIFwiLi4vLi4vbW9kZWxzL1VzZXJNb2RlbFwiO1xuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9tb2RlbHMvUGxheWVyTW9kZWxcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihpbywgcGxheWVyTG9jYXRpb25zKSB7XG4gICAgdGhpcy5wbGF5ZXJzID0ge307XG4gICAgdGhpcy5wbGF5ZXJMb2NhdGlvbnMgPSBwbGF5ZXJMb2NhdGlvbnM7XG4gICAgdGhpcy5pbyA9IGlvO1xuICB9XG5cbiAgc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpIHtcbiAgICB0aGlzLl9ldmVudE5ld1BsYXllcihzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50UGxheWVyTW92ZW1lbnQoc29ja2V0KTtcbiAgICB0aGlzLl9ldmVudFBpY2t1cENoZXN0KHNvY2tldCk7XG4gICAgdGhpcy5fZXZlbnRQaWNrdXBJdGVtKHNvY2tldCk7XG4gICAgdGhpcy5fZXZlbnRQbGF5ZXJEcm9wcGVkSXRlbShzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50UGxheWVyRXF1aXBlZEl0ZW0oc29ja2V0KTtcbiAgICB0aGlzLl9ldmVudFBsYXllclVuZXF1aXBlZEl0ZW0oc29ja2V0KTtcbiAgICB0aGlzLl9ldmVudEhlYWx0aFBvdGlvbihzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50QXR0YWNrZWRQbGF5ZXIoc29ja2V0KTtcbiAgICB0aGlzLl9ldmVudFBsYXllckhpdChzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50U2VuZEJ1eUl0ZW1NZXNzYWdlKHNvY2tldCk7XG4gICAgdGhpcy5fZXZlbnRQbGF5ZXJVcGRhdGVYcChzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50TGV2ZWxVcChzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50RGlzY29ubmVjdChzb2NrZXQpO1xuICAgIHRoaXMuX2V2ZW50U2F2ZVBsYXllckRhdGEoc29ja2V0KTtcblxuICAgIHNvY2tldC5vbihcInBsYXllckdldEl0ZW1cIiwgKGl0ZW0sIHBsYXllcklkKSA9PiB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnNbcGxheWVySWRdO1xuICAgICAgcGxheWVyLmFkZEl0ZW0oaXRlbSk7XG4gICAgICBzb2NrZXQuZW1pdChcInVwZGF0ZUl0ZW1zXCIsIHBsYXllcik7XG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoXCJ1cGRhdGVQbGF5ZXJzSXRlbXNcIiwgcGxheWVySWQsIHBsYXllcik7XG4gICAgfSk7XG4gIH1cblxuICBfZXZlbnRTYXZlUGxheWVyRGF0YShzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwic2F2ZVBsYXllckRhdGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCF0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5pdGVtcykge1xuICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLml0ZW1zID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZXF1aXBlZEl0ZW1zKSB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZXF1aXBlZEl0ZW1zID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IFVzZXJNb2RlbC51cGRhdGVPbmUoXG4gICAgICAgICAgeyB1c2VybmFtZTogdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ucGxheWVyTmFtZSB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgcGxheWVyOiB0aGlzLnBsYXllcnNbc29ja2V0LmlkXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50TmV3UGxheWVyKHNvY2tldCkge1xuICAgIHJldHVybiBzb2NrZXQub24oXCJuZXdQbGF5ZXJcIiwgYXN5bmMgKHRva2VuLCBrZXksIGluc3RhbmNlSWQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUKTtcbiAgICAgICAgY29uc3QgeyBuYW1lLCBfaWQgfSA9IGRlY29kZWQudXNlcjtcblxuICAgICAgICBjb25zdCBwbGF5ZXJTY2hlbWEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWQoX2lkKTtcbiAgICAgICAgY29uc29sZS5sb2cobmFtZSk7XG4gICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3NwYXduUGxheWVyKFxuICAgICAgICAgIHNvY2tldC5pZCxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBwbGF5ZXJTY2hlbWEucGxheWVyXG4gICAgICAgICk7XG5cbiAgICAgICAgc29ja2V0LmVtaXQoXCJjdXJyZW50UGxheWVyc1wiLCB0aGlzLnBsYXllcnMsIGluc3RhbmNlSWQpO1xuXG4gICAgICAgIC8vIGluZm9ybSB0aGUgb3RoZXIgcGxheWVycyBvZiB0aGUgbmV3IHBsYXllciB0aGF0IGpvaW5lZFxuICAgICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoXCJzcGF3blBsYXllclwiLCBwbGF5ZXIpO1xuICAgICAgICBzb2NrZXQuZW1pdChcInVwZGF0ZUl0ZW1zXCIsIHBsYXllcik7XG4gICAgICAgIHNvY2tldC5icm9hZGNhc3QuZW1pdChcInVwZGF0ZVBsYXllcnNJdGVtc1wiLCBzb2NrZXQuaWQsIHBsYXllcik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIHNvY2tldC5lbWl0KFwiaW52YWxpZFRva2VuXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50UGxheWVyTW92ZW1lbnQoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInBsYXllck1vdmVtZW50XCIsIChwbGF5ZXJEYXRhKSA9PiB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0pIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ueCA9IHBsYXllckRhdGEueDtcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ueSA9IHBsYXllckRhdGEueTtcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZmxpcFggPSBwbGF5ZXJEYXRhLmZsaXBYO1xuICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5hY3Rpb25BQWN0aXZlID0gcGxheWVyRGF0YS5hY3Rpb25BQWN0aXZlO1xuICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5wb3Rpb25BQWN0aXZlID0gcGxheWVyRGF0YS5wb3Rpb25BQWN0aXZlO1xuICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5mcmFtZSA9IHBsYXllckRhdGEuZnJhbWU7XG4gICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmN1cnJlbnREaXJlY3Rpb24gPSBwbGF5ZXJEYXRhLmN1cnJlbnREaXJlY3Rpb247XG4gICAgICAgIC8vIGVtaXQgYSBtZXNzYWdlIHRvIGFsbCBwbGF5ZXJzIGFib3V0IHRoZSBwbGF5ZXIgdGhhdCBtb3ZlZFxuICAgICAgICB0aGlzLmlvLmVtaXQoXCJwbGF5ZXJNb3ZlZFwiLCB0aGlzLnBsYXllcnNbc29ja2V0LmlkXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfZXZlbnRQaWNrdXBDaGVzdChzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwicGlja1VwQ2hlc3RcIiwgKGNoZXN0SWQpID0+IHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyc1tzb2NrZXQuaWRdO1xuICAgICAgcGxheWVyLnVwZGF0ZUdvbGQoMjApO1xuICAgICAgc29ja2V0LmVtaXQoXCJ1cGRhdGVTY29yZVwiLCBwbGF5ZXIuZ29sZCk7XG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoXCJ1cGRhdGVQbGF5ZXJzU2NvcmVcIiwgc29ja2V0LmlkLCBwbGF5ZXIuZ29sZCk7XG4gICAgICB0aGlzLmlvLmVtaXQoXCJjaGVzdFJlbW92ZWRcIiwgY2hlc3RJZCk7XG4gICAgfSk7XG4gIH1cblxuICBfZXZlbnRQaWNrdXBJdGVtKHNvY2tldCkge1xuICAgIHJldHVybiBzb2NrZXQub24oXCJwaWNrVXBJdGVtXCIsIChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyc1tzb2NrZXQuaWRdO1xuICAgICAgaWYgKHBsYXllci5jYW5QaWNrdXBJdGVtKCkpIHtcbiAgICAgICAgc29ja2V0LmVtaXQoXCJjb2xsZWN0SXRlbVwiLCBpdGVtSWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50UGxheWVyRHJvcHBlZEl0ZW0oc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInBsYXllckRyb3BwZWRJdGVtXCIsIChpdGVtSWQpID0+IHtcbiAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLnJlbW92ZUl0ZW0oaXRlbUlkKTtcbiAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlSXRlbXNcIiwgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0pO1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC5lbWl0KFxuICAgICAgICBcInVwZGF0ZVBsYXllcnNJdGVtc1wiLFxuICAgICAgICBzb2NrZXQuaWQsXG4gICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50UGxheWVyRXF1aXBlZEl0ZW0oc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInBsYXllckVxdWlwZWRJdGVtXCIsIChpdGVtSWQpID0+IHtcbiAgICAgIGlmICh0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5pdGVtc1tpdGVtSWRdKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5jYW5FcXVpcEl0ZW0oKSkge1xuICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmVxdWlwSXRlbShcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLml0ZW1zW2l0ZW1JZF1cbiAgICAgICAgICApO1xuICAgICAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlSXRlbXNcIiwgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0pO1xuICAgICAgICAgIHNvY2tldC5icm9hZGNhc3QuZW1pdChcbiAgICAgICAgICAgIFwidXBkYXRlUGxheWVyc0l0ZW1zXCIsXG4gICAgICAgICAgICBzb2NrZXQuaWQsXG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudFBsYXllclVuZXF1aXBlZEl0ZW0oc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInBsYXllclVuZXF1aXBlZEl0ZW1cIiwgKGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmVxdWlwZWRJdGVtc1tpdGVtSWRdKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5jYW5QaWNrdXBJdGVtKCkpIHtcbiAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5hZGRJdGVtKFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZXF1aXBlZEl0ZW1zW2l0ZW1JZF1cbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLnJlbW92ZUVxdWlwZWRJdGVtKGl0ZW1JZCk7XG4gICAgICAgICAgc29ja2V0LmVtaXQoXCJ1cGRhdGVJdGVtc1wiLCB0aGlzLnBsYXllcnNbc29ja2V0LmlkXSk7XG4gICAgICAgICAgc29ja2V0LmJyb2FkY2FzdC5lbWl0KFxuICAgICAgICAgICAgXCJ1cGRhdGVQbGF5ZXJzSXRlbXNcIixcbiAgICAgICAgICAgIHNvY2tldC5pZCxcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIF9ldmVudExldmVsVXAoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcImxldmVsVXBcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ubGV2ZWxVcCgpO1xuICAgICAgdGhpcy5pby5lbWl0KFxuICAgICAgICBcInVwZGF0ZVBsYXllclN0YXRzXCIsXG4gICAgICAgIHNvY2tldC5pZCxcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ubGV2ZWwsXG4gICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmF0dGFjayxcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZGVmZW5zZSxcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ubWF4SGVhbHRoLFxuICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5leHAsXG4gICAgICAgIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLm1heEV4cFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudEhlYWx0aFBvdGlvbihzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwiaGVhbHRoUG90aW9uXCIsIChwbGF5ZXJJZCwgaGVhbHRoKSA9PiB7XG4gICAgICB0aGlzLnBsYXllcnNbcGxheWVySWRdO1xuICAgICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5wb3Rpb24oaGVhbHRoKTtcbiAgICAgIHRoaXMuaW8uZW1pdChcbiAgICAgICAgXCJ1cGRhdGVQbGF5ZXJIZWFsdGhcIixcbiAgICAgICAgcGxheWVySWQsXG4gICAgICAgIHRoaXMucGxheWVyc1twbGF5ZXJJZF0uaGVhbHRoXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgX2V2ZW50QXR0YWNrZWRQbGF5ZXIoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcImF0dGFja2VkUGxheWVyXCIsIChhdHRhY2tlZFBsYXllcklkKSA9PiB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdKSB7XG4gICAgICAgIC8vIGdldCByZXF1aXJlZCBpbmZvIGZyb20gYXR0YWNrZWQgcGxheWVyXG4gICAgICAgIGNvbnN0IHsgZ29sZCB9ID0gdGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdO1xuICAgICAgICBjb25zdCBwbGF5ZXJBdHRhY2tWYWx1ZSA9IHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmF0dGFjaztcblxuICAgICAgICAvLyBzdWJ0cmFjdCBoZWFsdGggZnJvbSBhdHRhY2tlZCBwbGF5ZXJcbiAgICAgICAgdGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdLnBsYXllckF0dGFja2VkKHBsYXllckF0dGFja1ZhbHVlKTtcblxuICAgICAgICAvLyBjaGVjayBhdHRhY2tlZCBwbGF5ZXJzIGhlYWx0aCwgaWYgZGVhZCBzZW5kIGdvbGQgdG8gb3RoZXIgcGxheWVyXG4gICAgICAgIGlmICh0aGlzLnBsYXllcnNbYXR0YWNrZWRQbGF5ZXJJZF0uaGVhbHRoIDw9IDApIHtcbiAgICAgICAgICAvLyBnZXQgdGhlIGFtb3VudCBvZiBnb2xkLCBhbmQgdXBkYXRlIHBsYXllciBvYmplY3RcbiAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS51cGRhdGVHb2xkKGdvbGQpO1xuXG4gICAgICAgICAgLy8gcmVzcGF3biBhdHRhY2tlZCBwbGF5ZXJcbiAgICAgICAgICB0aGlzLnBsYXllcnNbYXR0YWNrZWRQbGF5ZXJJZF0ucmVzcGF3bih0aGlzLnBsYXllcnMpO1xuICAgICAgICAgIHRoaXMuaW8uZW1pdChcInJlc3Bhd25QbGF5ZXJcIiwgdGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdKTtcblxuICAgICAgICAgIC8vIHNlbmQgdXBkYXRlIGdvbGQgbWVzc2FnZSB0byBwbGF5ZXJcbiAgICAgICAgICBzb2NrZXQuZW1pdChcInVwZGF0ZVNjb3JlXCIsIHRoaXMucGxheWVyc1tzb2NrZXQuaWRdLmdvbGQpO1xuXG4gICAgICAgICAgLy8gcmVzZXQgdGhlIGF0dGFja2VkIHBsYXllcnMgZ29sZFxuICAgICAgICAgIHRoaXMucGxheWVyc1thdHRhY2tlZFBsYXllcklkXS51cGRhdGVHb2xkKC1nb2xkKTtcbiAgICAgICAgICB0aGlzLmlvXG4gICAgICAgICAgICAudG8oYCR7YXR0YWNrZWRQbGF5ZXJJZH1gKVxuICAgICAgICAgICAgLmVtaXQoXCJ1cGRhdGVTY29yZVwiLCB0aGlzLnBsYXllcnNbYXR0YWNrZWRQbGF5ZXJJZF0uZ29sZCk7XG5cbiAgICAgICAgICAvLyBhZGQgYm9udXMgaGVhbHRoIHRvIHRoZSBwbGF5ZXJcbiAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS51cGRhdGVIZWFsdGgoMTUpO1xuICAgICAgICAgIHRoaXMuaW8uZW1pdChcbiAgICAgICAgICAgIFwidXBkYXRlUGxheWVySGVhbHRoXCIsXG4gICAgICAgICAgICBzb2NrZXQuaWQsXG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS5oZWFsdGhcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaW8uZW1pdChcbiAgICAgICAgICAgIFwidXBkYXRlUGxheWVySGVhbHRoXCIsXG4gICAgICAgICAgICBhdHRhY2tlZFBsYXllcklkLFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzW2F0dGFja2VkUGxheWVySWRdLmhlYWx0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudFBsYXllckhpdChzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwicGxheWVySGl0XCIsIChwbGF5ZXJJZCwgbW9uc3RlckF0dGFjaykgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5wbGF5ZXJBdHRhY2tlZChtb25zdGVyQXR0YWNrKTtcbiAgICAgIHRoaXMuaW8uZW1pdChcbiAgICAgICAgXCJ1cGRhdGVQbGF5ZXJIZWFsdGhcIixcbiAgICAgICAgcGxheWVySWQsXG4gICAgICAgIHRoaXMucGxheWVyc1twbGF5ZXJJZF0uaGVhbHRoXG4gICAgICApO1xuICAgICAgLy8gY2hlY2sgdGhlIHBsYXllcidzIGhlYWx0aCwgaWYgYmVsb3cgMCBoYXZlIHRoZSBwbGF5ZXIgcmVzcGF3blxuICAgICAgaWYgKHRoaXMucGxheWVyc1twbGF5ZXJJZF0uaGVhbHRoIDw9IDApIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBnb2xkIHRoZSBwbGF5ZXIgaGFzXG4gICAgICAgIHRoaXMucGxheWVyc1twbGF5ZXJJZF0udXBkYXRlR29sZChcbiAgICAgICAgICBwYXJzZUludCgtdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5nb2xkIC8gMiwgMTApXG4gICAgICAgICk7XG4gICAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlU2NvcmVcIiwgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5nb2xkKTtcblxuICAgICAgICAvLyByZXNwYXduIHRoZSBwbGF5ZXJcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS5yZXNwYXduKHRoaXMucGxheWVycyk7XG4gICAgICAgIHRoaXMuaW8uZW1pdChcInJlc3Bhd25QbGF5ZXJcIiwgdGhpcy5wbGF5ZXJzW3BsYXllcklkXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfZXZlbnRTZW5kQnV5SXRlbU1lc3NhZ2Uoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcInNlbmRCdXlJdGVtTWVzc2FnZVwiLCAoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0ucG90aW9ucysrO1xuXG4gICAgICB0aGlzLnBsYXllcnNbc29ja2V0LmlkXS51cGRhdGVHb2xkKC1pdGVtLnByaWNlKTtcbiAgICAgIHNvY2tldC5lbWl0KFwidXBkYXRlU2NvcmVcIiwgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZ29sZCk7XG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoXG4gICAgICAgIFwidXBkYXRlUGxheWVyc1Njb3JlXCIsXG4gICAgICAgIHNvY2tldC5pZCxcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF0uZ29sZFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudFBsYXllclVwZGF0ZVhwKHNvY2tldCkge1xuICAgIHJldHVybiBzb2NrZXQub24oXCJwbGF5ZXJVcGRhdGVYcFwiLCAocGxheWVySWQsIGV4cCkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXS51cGRhdGVFeHAoZXhwKTtcbiAgICAgIHRoaXMuaW8uZW1pdChcInVwZGF0ZVhwXCIsIGV4cCwgc29ja2V0LmlkKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9ldmVudERpc2Nvbm5lY3Qoc29ja2V0KSB7XG4gICAgcmV0dXJuIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgLy8gZGVsZXRlIHVzZXIgZGF0YSBmcm9tIHNlcnZlclxuXG4gICAgICBjb25zb2xlLmxvZyhcIlBsYXllciBEaXNjb25uZWN0XCIpO1xuXG4gICAgICBkZWxldGUgdGhpcy5wbGF5ZXJzW3NvY2tldC5pZF07XG5cbiAgICAgIC8vIGVtaXQgYSBtZXNzYWdlIHRvIGFsbCBwbGF5ZXJzIHRvIHJlbW92ZSB0aGlzIHBsYXllclxuICAgICAgdGhpcy5pby5lbWl0KFwiZGlzY29ubmVjdGVkXCIsIHNvY2tldC5pZCk7XG4gICAgfSk7XG4gIH1cblxuICBfc3Bhd25QbGF5ZXIocGxheWVySWQsIG5hbWUsIGtleSwgcGxheWVyU2NoZW1hKSB7XG4gICAgY29uc3QgcGxheWVyID0gbmV3IFBsYXllck1vZGVsKFxuICAgICAgcGxheWVySWQsXG4gICAgICBbXG4gICAgICAgIFsyMDAsIDIwMF0sXG4gICAgICAgIFs0MDAsIDQwMF0sXG4gICAgICBdLFxuICAgICAgdGhpcy5wbGF5ZXJzLFxuICAgICAgbmFtZSxcbiAgICAgIGtleSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHBsYXllclNjaGVtYVxuICAgICk7XG4gICAgdGhpcy5wbGF5ZXJzW3BsYXllcklkXSA9IHBsYXllcjtcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJzW3BsYXllcklkXTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFlBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFtRCxJQUM5QkcsZ0JBQWdCLEdBQUFDLE9BQUE7RUFDbkMsU0FBQUQsaUJBQVlFLEVBQUUsRUFBRUMsZUFBZSxFQUFFO0lBQUEsSUFBQUMsZ0JBQUEsbUJBQUFKLGdCQUFBO0lBQy9CLElBQUksQ0FBQ0ssT0FBTyxHQUFHLENBQUMsQ0FBQztJQUNqQixJQUFJLENBQUNGLGVBQWUsR0FBR0EsZUFBZTtJQUN0QyxJQUFJLENBQUNELEVBQUUsR0FBR0EsRUFBRTtFQUNkO0VBQUMsV0FBQUksYUFBQSxhQUFBTixnQkFBQTtJQUFBTyxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBQyxvQkFBb0JDLE1BQU0sRUFBRTtNQUFBLElBQUFDLEtBQUE7TUFDMUIsSUFBSSxDQUFDQyxlQUFlLENBQUNGLE1BQU0sQ0FBQztNQUM1QixJQUFJLENBQUNHLG9CQUFvQixDQUFDSCxNQUFNLENBQUM7TUFDakMsSUFBSSxDQUFDSSxpQkFBaUIsQ0FBQ0osTUFB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","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_UserModel","_PlayerModel","PlayerController","exports","io","playerLocations","_classCallCheck2","players","_createClass2","key","value","setupEventListeners","socket","_this","_eventNewPlayer","_eventPlayerMovement","_eventPickupChest","_eventPickupItem","_eventPlayerDroppedItem","_eventPlayerEquipedItem","_eventPlayerUnequipedItem","_eventHealthPotion","_eventAttackedPlayer","_eventPlayerHit","_eventSendBuyItemMessage","_eventPlayerUpdateXp","_eventLevelUp","_eventDisconnect","_eventSavePlayerData","on","item","playerId","player","addItem","emit","broadcast","_this2","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","id","items","equipedItems","UserModel","updateOne","username","playerName","$set","t0","console","log","stop","_this3","_ref2","_callee2","token","instanceId","decoded","_decoded$user","name","_id","playerSchema","_callee2$","_context2","jwt","verify","process","env","JWT_SECRET","user","findById","sent","_spawnPlayer","_x","_x2","_x3","apply","arguments","_this4","playerData","x","y","flipX","actionAActive","potionAActive","frame","currentDirection","_this5","chestId","updateGold","gold","_this6","itemId","canPickupItem","_this7","removeItem","_this8","canEquipItem","equipItem","_this9","removeEquipedItem","_this10","levelUp","level","attack","defense","maxHealth","exp","maxExp","_this11","health","potion","_this12","attackedPlayerId","playerAttackValue","playerAttacked","respawn","to","concat","updateHealth","_this13","monsterAttack","parseInt","_this14","potions","price","_this15","updateExp","_this16","PlayerModel","undefined"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["PlayerController.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\n\nimport UserModel from \"../../models/UserModel\";\nimport PlayerModel from \"../../models/PlayerModel\";\nexport default class PlayerController {\n  constructor(io, playerLocations) {\n    this.players = {};\n    this.playerLocations = playerLocations;\n    this.io = io;\n  }\n\n  setupEventListeners(socket) {\n    this._eventNewPlayer(socket);\n    this._eventPlayerMovement(socket);\n    this._eventPickupChest(socket);\n    this._eventPickupItem(socket);\n    this._eventPlayerDroppedItem(socket);\n    this._eventPlayerEquipedItem(socket);\n    this._eventPlayerUnequipedItem(socket);\n    this._eventHealthPotion(socket);\n    this._eventAttackedPlayer(socket);\n    this._eventPlayerHit(socket);\n    this._eventSendBuyItemMessage(socket);\n    this._eventPlayerUpdateXp(socket);\n    this._eventLevelUp(socket);\n    this._eventDisconnect(socket);\n    this._eventSavePlayerData(socket);\n\n    socket.on(\"playerGetItem\", (item, playerId) => {\n      const player = this.players[playerId];\n      player.addItem(item);\n      socket.emit(\"updateItems\", player);\n      socket.broadcast.emit(\"updatePlayersItems\", playerId, player);\n    });\n  }\n\n  _eventSavePlayerData(socket) {\n    return socket.on(\"savePlayerData\", async () => {\n      try {\n        if (!this.players[socket.id].items) {\n          this.players[socket.id].items = null;\n        }\n\n        if (!this.players[socket.id].equipedItems) {\n          this.players[socket.id].equipedItems = null;\n        }\n\n        await UserModel.updateOne(\n          { username: this.players[socket.id].playerName },\n          {\n            $set: {\n              player: this.players[socket.id],\n            },\n          }\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  }\n\n  _eventNewPlayer(socket) {\n    return socket.on(\"newPlayer\", async (token, key, instanceId) => {\n      try {\n        const decoded = jwt.verify(token, process.env.JWT_SECRET);\n        const { name, _id } = decoded.user;\n\n        const playerSchema = await UserModel.findById(_id);\n        console.log(name);\n        const player = this._spawnPlayer(\n          socket.id,\n          name,\n          key,\n          playerSchema.player\n        );\n\n        socket.emit(\"currentPlayers\", this.players, instanceId);\n\n        // inform the other players of the new player that joined\n        socket.broadcast.emit(\"spawnPlayer\", player);\n        socket.emit(\"updateItems\", player);\n        socket.broadcast.emit(\"updatePlayersItems\", socket.id, player);\n      } catch (error) {\n        console.log(error);\n        socket.emit(\"invalidToken\");\n      }\n    });\n  }\n\n  _eventPlayerMovement(socket) {\n    return socket.on(\"playerMovement\", (playerData) => {\n      if (this.players[socket.id]) {\n        this.players[socket.id].x = playerData.x;\n        this.players[socket.id].y = playerData.y;\n        this.players[socket.id].flipX = playerData.flipX;\n        this.players[socket.id].actionAActive = playerData.actionAActive;\n        this.players[socket.id].potionAActive = playerData.potionAActive;\n        this.players[socket.id].frame = playerData.frame;\n        this.players[socket.id].currentDirection = playerData.currentDirection;\n        // emit a message to all players about the player that moved\n        this.io.emit(\"playerMoved\", this.players[socket.id]);\n      }\n    });\n  }\n\n  _eventPickupChest(socket) {\n    return socket.on(\"pickUpChest\", (chestId) => {\n      const player = this.players[socket.id];\n      player.updateGold(20);\n      socket.emit(\"updateScore\", player.gold);\n      socket.broadcast.emit(\"updatePlayersScore\", socket.id, player.gold);\n      this.io.emit(\"chestRemoved\", chestId);\n    });\n  }\n\n  _eventPickupItem(socket) {\n    return socket.on(\"pickUpItem\", (itemId) => {\n      const player = this.players[socket.id];\n      if (player.canPickupItem()) {\n        socket.emit(\"collectItem\", itemId);\n      }\n    });\n  }\n\n  _eventPlayerDroppedItem(socket) {\n    return socket.on(\"playerDroppedItem\", (itemId) => {\n      this.players[socket.id].removeItem(itemId);\n      socket.emit(\"updateItems\", this.players[socket.id]);\n      socket.broadcast.emit(\n        \"updatePlayersItems\",\n        socket.id,\n        this.players[socket.id]\n      );\n    });\n  }\n\n  _eventPlayerEquipedItem(socket) {\n    return socket.on(\"playerEquipedItem\", (itemId) => {\n      if (this.players[socket.id].items[itemId]) {\n        if (this.players[socket.id].canEquipItem()) {\n          this.players[socket.id].equipItem(\n            this.players[socket.id].items[itemId]\n          );\n          socket.emit(\"updateItems\", this.players[socket.id]);\n          socket.broadcast.emit(\n            \"updatePlayersItems\",\n            socket.id,\n            this.players[socket.id]\n          );\n        }\n      }\n    });\n  }\n\n  _eventPlayerUnequipedItem(socket) {\n    return socket.on(\"playerUnequipedItem\", (itemId) => {\n      if (this.players[socket.id].equipedItems[itemId]) {\n        if (this.players[socket.id].canPickupItem()) {\n          this.players[socket.id].addItem(\n            this.players[socket.id].equipedItems[itemId]\n          );\n          this.players[socket.id].removeEquipedItem(itemId);\n          socket.emit(\"updateItems\", this.players[socket.id]);\n          socket.broadcast.emit(\n            \"updatePlayersItems\",\n            socket.id,\n            this.players[socket.id]\n          );\n        }\n      }\n    });\n  }\n  _eventLevelUp(socket) {\n    return socket.on(\"levelUp\", () => {\n      this.players[socket.id].levelUp();\n      this.io.emit(\n        \"updatePlayerStats\",\n        socket.id,\n        this.players[socket.id].level,\n        this.players[socket.id].attack,\n        this.players[socket.id].defense,\n        this.players[socket.id].maxHealth,\n        this.players[socket.id].exp,\n        this.players[socket.id].maxExp\n      );\n    });\n  }\n\n  _eventHealthPotion(socket) {\n    return socket.on(\"healthPotion\", (playerId, health) => {\n      this.players[playerId];\n      this.players[playerId].potion(health);\n      this.io.emit(\n        \"updatePlayerHealth\",\n        playerId,\n        this.players[playerId].health\n      );\n    });\n  }\n\n  _eventAttackedPlayer(socket) {\n    return socket.on(\"attackedPlayer\", (attackedPlayerId) => {\n      if (this.players[attackedPlayerId]) {\n        // get required info from attacked player\n        const { gold } = this.players[attackedPlayerId];\n        const playerAttackValue = this.players[socket.id].attack;\n\n        // subtract health from attacked player\n        this.players[attackedPlayerId].playerAttacked(playerAttackValue);\n\n        // check attacked players health, if dead send gold to other player\n        if (this.players[attackedPlayerId].health <= 0) {\n          // get the amount of gold, and update player object\n          this.players[socket.id].updateGold(gold);\n\n          // respawn attacked player\n          this.players[attackedPlayerId].respawn(this.players);\n          this.io.emit(\"respawnPlayer\", this.players[attackedPlayerId]);\n\n          // send update gold message to player\n          socket.emit(\"updateScore\", this.players[socket.id].gold);\n\n          // reset the attacked players gold\n          this.players[attackedPlayerId].updateGold(-gold);\n          this.io\n            .to(`${attackedPlayerId}`)\n            .emit(\"updateScore\", this.players[attackedPlayerId].gold);\n\n          // add bonus health to the player\n          this.players[socket.id].updateHealth(15);\n          this.io.emit(\n            \"updatePlayerHealth\",\n            socket.id,\n            this.players[socket.id].health\n          );\n        } else {\n          this.io.emit(\n            \"updatePlayerHealth\",\n            attackedPlayerId,\n            this.players[attackedPlayerId].health\n          );\n        }\n      }\n    });\n  }\n\n  _eventPlayerHit(socket) {\n    return socket.on(\"playerHit\", (playerId, monsterAttack) => {\n      this.players[playerId].playerAttacked(monsterAttack);\n      this.io.emit(\n        \"updatePlayerHealth\",\n        playerId,\n        this.players[playerId].health\n      );\n      // check the player's health, if below 0 have the player respawn\n      if (this.players[playerId].health <= 0) {\n        // update the gold the player has\n        this.players[playerId].updateGold(\n          parseInt(-this.players[playerId].gold / 2, 10)\n        );\n        socket.emit(\"updateScore\", this.players[playerId].gold);\n\n        // respawn the player\n        this.players[playerId].respawn(this.players);\n        this.io.emit(\"respawnPlayer\", this.players[playerId]);\n      }\n    });\n  }\n\n  _eventSendBuyItemMessage(socket) {\n    return socket.on(\"sendBuyItemMessage\", (item) => {\n      this.players[socket.id].potions++;\n\n      this.players[socket.id].updateGold(-item.price);\n      socket.emit(\"updateScore\", this.players[socket.id].gold);\n      socket.broadcast.emit(\n        \"updatePlayersScore\",\n        socket.id,\n        this.players[socket.id].gold\n      );\n    });\n  }\n\n  _eventPlayerUpdateXp(socket) {\n    return socket.on(\"playerUpdateXp\", (playerId, exp) => {\n      this.players[playerId].updateExp(exp);\n      this.io.emit(\"updateXp\", exp, socket.id);\n    });\n  }\n\n  _eventDisconnect(socket) {\n    return socket.on(\"disconnect\", () => {\n      // delete user data from server\n\n      console.log(\"Player Disconnect\");\n\n      delete this.players[socket.id];\n\n      // emit a message to all players to remove this player\n      this.io.emit(\"disconnected\", socket.id);\n    });\n  }\n\n  _spawnPlayer(playerId, name, key, playerSchema) {\n    const player = new PlayerModel(\n      playerId,\n      [\n        [200, 200],\n        [400, 400],\n      ],\n      this.players,\n      name,\n      key,\n      undefined,\n      playerSchema\n    );\n    this.players[playerId] = player;\n    return this.players[playerId];\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719106352710},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/PlayerModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar PlayerModel = exports[\"default\"] = /*#__PURE__*/function () {\n  function PlayerModel(playerId, spawnLocations, players, name, key, actionB, playerSchema) {\n    (0, _classCallCheck2[\"default\"])(this, PlayerModel);\n    this.attack = playerSchema.attack;\n    this.defense = playerSchema.defense;\n    this.health = playerSchema.health;\n    this.maxHealth = playerSchema.maxHealth;\n    this.gold = playerSchema.gold;\n    this.id = playerId;\n    this.playerName = name;\n    this.key = key;\n    this.items = playerSchema.items || {};\n    this.equipedItems = playerSchema.equipedItems || {};\n    this.level = playerSchema.level;\n    this.exp = playerSchema.exp;\n    this.maxExp = playerSchema.maxExp;\n    this.potions = playerSchema.potions;\n    //this.playerItems =  {};\n\n    this.maxNumberOfItems = 5;\n    this.spawnLocations = spawnLocations;\n    this.actionAActive = false;\n    this.potionAActive = false;\n    this.flipX = true;\n    var location = this.generateLocation(players);\n    this.x = location[0];\n    this.y = location[1];\n  }\n  return (0, _createClass2[\"default\"])(PlayerModel, [{\n    key: \"addItem\",\n    value: function addItem(item) {\n      this.items[item.id] = item;\n    }\n  }, {\n    key: \"equipItem\",\n    value: function equipItem(item) {\n      this.equipedItems[item.id] = item;\n      this.attack += this.equipedItems[item.id].attackBonus;\n      this.defense += this.equipedItems[item.id].defenseBonus;\n      this.maxHealth += this.equipedItems[item.id].healthBonus;\n      this.removeItem(item.id);\n    }\n  }, {\n    key: \"removeEquipedItem\",\n    value: function removeEquipedItem(itemId) {\n      this.attack -= this.equipedItems[itemId].attackBonus;\n      this.defense -= this.equipedItems[itemId].defenseBonus;\n      this.maxHealth -= this.equipedItems[itemId].healthBonus;\n      delete this.equipedItems[itemId];\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(itemId) {\n      // this.attack -= this.items[itemId].attackBonus;\n      // this.defense -= this.items[itemId].defenseBonus;\n      // this.maxHealth -= this.items[itemId].healthBonus;\n      delete this.items[itemId];\n    }\n  }, {\n    key: \"canPickupItem\",\n    value: function canPickupItem() {\n      if (Object.keys(this.items).length < 5) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"canEquipItem\",\n    value: function canEquipItem() {\n      if (Object.keys(this.equipedItems).length < 5) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"playerAttacked\",\n    value: function playerAttacked(attack) {\n      var damage = this.defense - attack;\n      if (damage > 0) damage = 0;\n      this.updateHealth(damage);\n    }\n  }, {\n    key: \"updateGold\",\n    value: function updateGold(gold) {\n      this.gold += gold;\n    }\n  }, {\n    key: \"potion\",\n    value: function potion(health) {\n      this.updateHealth(health);\n      this.potions--;\n    }\n  }, {\n    key: \"updateExp\",\n    value: function updateExp(exp) {\n      this.exp += exp;\n    }\n  }, {\n    key: \"levelUp\",\n    value: function levelUp() {\n      this.attack += 3;\n      this.defense += 2;\n      this.maxHealth += 1;\n      this.level++;\n      var calcNewExp = this.exp - this.maxExp;\n      this.exp = calcNewExp <= 0 ? 0 : calcNewExp;\n      this.maxExp = this.maxExp * 2;\n    }\n  }, {\n    key: \"updateHealth\",\n    value: function updateHealth(health) {\n      this.health += health;\n      if (this.health > this.maxHealth) this.health = this.maxHealth;\n    }\n  }, {\n    key: \"respawn\",\n    value: function respawn(players) {\n      this.health = this.maxHealth;\n      var location = this.generateLocation(players);\n      this.x = location[0];\n      this.y = location[1];\n    }\n  }, {\n    key: \"generateLocation\",\n    value: function generateLocation(players) {\n      return [200, 200];\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQbGF5ZXJNb2RlbCIsImV4cG9ydHMiLCJwbGF5ZXJJZCIsInNwYXduTG9jYXRpb25zIiwicGxheWVycyIsIm5hbWUiLCJrZXkiLCJhY3Rpb25CIiwicGxheWVyU2NoZW1hIiwiX2NsYXNzQ2FsbENoZWNrMiIsImF0dGFjayIsImRlZmVuc2UiLCJoZWFsdGgiLCJtYXhIZWFsdGgiLCJnb2xkIiwiaWQiLCJwbGF5ZXJOYW1lIiwiaXRlbXMiLCJlcXVpcGVkSXRlbXMiLCJsZXZlbCIsImV4cCIsIm1heEV4cCIsInBvdGlvbnMiLCJtYXhOdW1iZXJPZkl0ZW1zIiwiYWN0aW9uQUFjdGl2ZSIsInBvdGlvbkFBY3RpdmUiLCJmbGlwWCIsImxvY2F0aW9uIiwiZ2VuZXJhdGVMb2NhdGlvbiIsIngiLCJ5IiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwiYWRkSXRlbSIsIml0ZW0iLCJlcXVpcEl0ZW0iLCJhdHRhY2tCb251cyIsImRlZmVuc2VCb251cyIsImhlYWx0aEJvbnVzIiwicmVtb3ZlSXRlbSIsInJlbW92ZUVxdWlwZWRJdGVtIiwiaXRlbUlkIiwiY2FuUGlja3VwSXRlbSIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJjYW5FcXVpcEl0ZW0iLCJwbGF5ZXJBdHRhY2tlZCIsImRhbWFnZSIsInVwZGF0ZUhlYWx0aCIsInVwZGF0ZUdvbGQiLCJwb3Rpb24iLCJ1cGRhdGVFeHAiLCJsZXZlbFVwIiwiY2FsY05ld0V4cCIsInJlc3Bhd24iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiUGxheWVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyTW9kZWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwbGF5ZXJJZCxcbiAgICBzcGF3bkxvY2F0aW9ucyxcbiAgICBwbGF5ZXJzLFxuICAgIG5hbWUsXG4gICAga2V5LFxuICAgIGFjdGlvbkIsXG4gICAgcGxheWVyU2NoZW1hXG4gICkge1xuICAgIHRoaXMuYXR0YWNrID0gcGxheWVyU2NoZW1hLmF0dGFjaztcbiAgICB0aGlzLmRlZmVuc2UgPSBwbGF5ZXJTY2hlbWEuZGVmZW5zZTtcbiAgICB0aGlzLmhlYWx0aCA9IHBsYXllclNjaGVtYS5oZWFsdGg7XG4gICAgdGhpcy5tYXhIZWFsdGggPSBwbGF5ZXJTY2hlbWEubWF4SGVhbHRoO1xuICAgIHRoaXMuZ29sZCA9IHBsYXllclNjaGVtYS5nb2xkO1xuICAgIHRoaXMuaWQgPSBwbGF5ZXJJZDtcbiAgICB0aGlzLnBsYXllck5hbWUgPSBuYW1lO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMuaXRlbXMgPSBwbGF5ZXJTY2hlbWEuaXRlbXMgfHwge307XG4gICAgdGhpcy5lcXVpcGVkSXRlbXMgPSBwbGF5ZXJTY2hlbWEuZXF1aXBlZEl0ZW1zIHx8IHt9O1xuICAgIHRoaXMubGV2ZWwgPSBwbGF5ZXJTY2hlbWEubGV2ZWw7XG4gICAgdGhpcy5leHAgPSBwbGF5ZXJTY2hlbWEuZXhwO1xuICAgIHRoaXMubWF4RXhwID0gcGxheWVyU2NoZW1hLm1heEV4cDtcbiAgICB0aGlzLnBvdGlvbnMgPSBwbGF5ZXJTY2hlbWEucG90aW9ucztcbiAgICAvL3RoaXMucGxheWVySXRlbXMgPSAge307XG5cbiAgICB0aGlzLm1heE51bWJlck9mSXRlbXMgPSA1O1xuXG4gICAgdGhpcy5zcGF3bkxvY2F0aW9ucyA9IHNwYXduTG9jYXRpb25zO1xuICAgIHRoaXMuYWN0aW9uQUFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMucG90aW9uQUFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuZmxpcFggPSB0cnVlO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5nZW5lcmF0ZUxvY2F0aW9uKHBsYXllcnMpO1xuICAgIHRoaXMueCA9IGxvY2F0aW9uWzBdO1xuICAgIHRoaXMueSA9IGxvY2F0aW9uWzFdO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5pdGVtc1tpdGVtLmlkXSA9IGl0ZW07XG4gIH1cblxuICBlcXVpcEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuZXF1aXBlZEl0ZW1zW2l0ZW0uaWRdID0gaXRlbTtcblxuICAgIHRoaXMuYXR0YWNrICs9IHRoaXMuZXF1aXBlZEl0ZW1zW2l0ZW0uaWRdLmF0dGFja0JvbnVzO1xuICAgIHRoaXMuZGVmZW5zZSArPSB0aGlzLmVxdWlwZWRJdGVtc1tpdGVtLmlkXS5kZWZlbnNlQm9udXM7XG4gICAgdGhpcy5tYXhIZWFsdGggKz0gdGhpcy5lcXVpcGVkSXRlbXNbaXRlbS5pZF0uaGVhbHRoQm9udXM7XG4gICAgdGhpcy5yZW1vdmVJdGVtKGl0ZW0uaWQpO1xuICB9XG5cbiAgcmVtb3ZlRXF1aXBlZEl0ZW0oaXRlbUlkKSB7XG4gICAgdGhpcy5hdHRhY2sgLT0gdGhpcy5lcXVpcGVkSXRlbXNbaXRlbUlkXS5hdHRhY2tCb251cztcbiAgICB0aGlzLmRlZmVuc2UgLT0gdGhpcy5lcXVpcGVkSXRlbXNbaXRlbUlkXS5kZWZlbnNlQm9udXM7XG4gICAgdGhpcy5tYXhIZWFsdGggLT0gdGhpcy5lcXVpcGVkSXRlbXNbaXRlbUlkXS5oZWFsdGhCb251cztcbiAgICBkZWxldGUgdGhpcy5lcXVpcGVkSXRlbXNbaXRlbUlkXTtcbiAgfVxuXG4gIHJlbW92ZUl0ZW0oaXRlbUlkKSB7XG4gICAgLy8gdGhpcy5hdHRhY2sgLT0gdGhpcy5pdGVtc1tpdGVtSWRdLmF0dGFja0JvbnVzO1xuICAgIC8vIHRoaXMuZGVmZW5zZSAtPSB0aGlzLml0ZW1zW2l0ZW1JZF0uZGVmZW5zZUJvbnVzO1xuICAgIC8vIHRoaXMubWF4SGVhbHRoIC09IHRoaXMuaXRlbXNbaXRlbUlkXS5oZWFsdGhCb251cztcbiAgICBkZWxldGUgdGhpcy5pdGVtc1tpdGVtSWRdO1xuICB9XG5cbiAgY2FuUGlja3VwSXRlbSgpIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5pdGVtcykubGVuZ3RoIDwgNSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNhbkVxdWlwSXRlbSgpIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5lcXVpcGVkSXRlbXMpLmxlbmd0aCA8IDUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwbGF5ZXJBdHRhY2tlZChhdHRhY2spIHtcbiAgICBsZXQgZGFtYWdlID0gdGhpcy5kZWZlbnNlIC0gYXR0YWNrO1xuICAgIGlmIChkYW1hZ2UgPiAwKSBkYW1hZ2UgPSAwO1xuXG4gICAgdGhpcy51cGRhdGVIZWFsdGgoZGFtYWdlKTtcbiAgfVxuXG4gIHVwZGF0ZUdvbGQoZ29sZCkge1xuICAgIHRoaXMuZ29sZCArPSBnb2xkO1xuICB9XG5cbiAgcG90aW9uKGhlYWx0aCkge1xuICAgIHRoaXMudXBkYXRlSGVhbHRoKGhlYWx0aCk7XG4gICAgdGhpcy5wb3Rpb25zLS07XG4gIH1cblxuICB1cGRhdGVFeHAoZXhwKSB7XG4gICAgdGhpcy5leHAgKz0gZXhwO1xuICB9XG5cbiAgbGV2ZWxVcCgpIHtcbiAgICB0aGlzLmF0dGFjayArPSAzO1xuICAgIHRoaXMuZGVmZW5zZSArPSAyO1xuICAgIHRoaXMubWF4SGVhbHRoICs9IDE7XG4gICAgdGhpcy5sZXZlbCsrO1xuICAgIGNvbnN0IGNhbGNOZXdFeHAgPSB0aGlzLmV4cCAtIHRoaXMubWF4RXhwO1xuICAgIHRoaXMuZXhwID0gY2FsY05ld0V4cCA8PSAwID8gMCA6IGNhbGNOZXdFeHA7XG4gICAgdGhpcy5tYXhFeHAgPSB0aGlzLm1heEV4cCAqIDI7XG4gIH1cblxuICB1cGRhdGVIZWFsdGgoaGVhbHRoKSB7XG4gICAgdGhpcy5oZWFsdGggKz0gaGVhbHRoO1xuICAgIGlmICh0aGlzLmhlYWx0aCA+IHRoaXMubWF4SGVhbHRoKSB0aGlzLmhlYWx0aCA9IHRoaXMubWF4SGVhbHRoO1xuICB9XG5cbiAgcmVzcGF3bihwbGF5ZXJzKSB7XG4gICAgdGhpcy5oZWFsdGggPSB0aGlzLm1heEhlYWx0aDtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMuZ2VuZXJhdGVMb2NhdGlvbihwbGF5ZXJzKTtcbiAgICB0aGlzLnggPSBsb2NhdGlvblswXTtcbiAgICB0aGlzLnkgPSBsb2NhdGlvblsxXTtcbiAgfVxuXG4gIGdlbmVyYXRlTG9jYXRpb24ocGxheWVycykge1xuICAgIHJldHVybiBbMjAwLCAyMDBdO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztJQUFxQkEsV0FBVyxHQUFBQyxPQUFBO0VBQzlCLFNBQUFELFlBQ0VFLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxPQUFPLEVBQ1BDLElBQUksRUFDSkMsR0FBRyxFQUNIQyxPQUFPLEVBQ1BDLFlBQVksRUFDWjtJQUFBLElBQUFDLGdCQUFBLG1CQUFBVCxXQUFBO0lBQ0EsSUFBSSxDQUFDVSxNQUFNLEdBQUdGLFlBQVksQ0FBQ0UsTUFBTTtJQUNqQyxJQUFJLENBQUNDLE9BQU8sR0FBR0gsWUFBWSxDQUFDRyxPQUFPO0lBQ25DLElBQUksQ0FBQ0MsTUFBTSxHQUFHSixZQUFZLENBQUNJLE1BQU07SUFDakMsSUFBSSxDQUFDQyxTQUFTLEdBQUdMLFlBQVksQ0FBQ0ssU0FBUztJQUN2QyxJQUFJLENBQUNDLElBQUksR0FBR04sWUFBWSxDQUFDTSxJQUFJO0lBQzdCLElBQUksQ0FBQ0MsRUFBRSxHQUFHYixRQUFRO0lBQ2xCLElBQUksQ0FBQ2MsVUFBVSxHQUFHWCxJQUFJO0lBQ3RCLElBQUksQ0FBQ0MsR0FBRyxHQUFHQSxHQUFHO0lBQ2QsSUFBSSxDQUFDVyxLQUFLLEdBQUdULFlBQVksQ0FBQ1MsS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNyQyxJQUFJLENBQUNDLFlBQVksR0FBR1YsWUFBWSxDQUFDVSxZQUFZLElBQUksQ0FBQyxDQUFDO0lBQ25ELElBQUksQ0FBQ0MsS0FBSyxHQUFHWCxZQUFZLENBQUNXLEtBQUs7SUFDL0IsSUFBSSxDQUFD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","map":{"version":3,"names":["PlayerModel","exports","playerId","spawnLocations","players","name","key","actionB","playerSchema","_classCallCheck2","attack","defense","health","maxHealth","gold","id","playerName","items","equipedItems","level","exp","maxExp","potions","maxNumberOfItems","actionAActive","potionAActive","flipX","location","generateLocation","x","y","_createClass2","value","addItem","item","equipItem","attackBonus","defenseBonus","healthBonus","removeItem","removeEquipedItem","itemId","canPickupItem","Object","keys","length","canEquipItem","playerAttacked","damage","updateHealth","updateGold","potion","updateExp","levelUp","calcNewExp","respawn"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["PlayerModel.js"],"sourcesContent":["export default class PlayerModel {\n  constructor(\n    playerId,\n    spawnLocations,\n    players,\n    name,\n    key,\n    actionB,\n    playerSchema\n  ) {\n    this.attack = playerSchema.attack;\n    this.defense = playerSchema.defense;\n    this.health = playerSchema.health;\n    this.maxHealth = playerSchema.maxHealth;\n    this.gold = playerSchema.gold;\n    this.id = playerId;\n    this.playerName = name;\n    this.key = key;\n    this.items = playerSchema.items || {};\n    this.equipedItems = playerSchema.equipedItems || {};\n    this.level = playerSchema.level;\n    this.exp = playerSchema.exp;\n    this.maxExp = playerSchema.maxExp;\n    this.potions = playerSchema.potions;\n    //this.playerItems =  {};\n\n    this.maxNumberOfItems = 5;\n\n    this.spawnLocations = spawnLocations;\n    this.actionAActive = false;\n    this.potionAActive = false;\n    this.flipX = true;\n    const location = this.generateLocation(players);\n    this.x = location[0];\n    this.y = location[1];\n  }\n\n  addItem(item) {\n    this.items[item.id] = item;\n  }\n\n  equipItem(item) {\n    this.equipedItems[item.id] = item;\n\n    this.attack += this.equipedItems[item.id].attackBonus;\n    this.defense += this.equipedItems[item.id].defenseBonus;\n    this.maxHealth += this.equipedItems[item.id].healthBonus;\n    this.removeItem(item.id);\n  }\n\n  removeEquipedItem(itemId) {\n    this.attack -= this.equipedItems[itemId].attackBonus;\n    this.defense -= this.equipedItems[itemId].defenseBonus;\n    this.maxHealth -= this.equipedItems[itemId].healthBonus;\n    delete this.equipedItems[itemId];\n  }\n\n  removeItem(itemId) {\n    // this.attack -= this.items[itemId].attackBonus;\n    // this.defense -= this.items[itemId].defenseBonus;\n    // this.maxHealth -= this.items[itemId].healthBonus;\n    delete this.items[itemId];\n  }\n\n  canPickupItem() {\n    if (Object.keys(this.items).length < 5) {\n      return true;\n    }\n    return false;\n  }\n\n  canEquipItem() {\n    if (Object.keys(this.equipedItems).length < 5) {\n      return true;\n    }\n    return false;\n  }\n\n  playerAttacked(attack) {\n    let damage = this.defense - attack;\n    if (damage > 0) damage = 0;\n\n    this.updateHealth(damage);\n  }\n\n  updateGold(gold) {\n    this.gold += gold;\n  }\n\n  potion(health) {\n    this.updateHealth(health);\n    this.potions--;\n  }\n\n  updateExp(exp) {\n    this.exp += exp;\n  }\n\n  levelUp() {\n    this.attack += 3;\n    this.defense += 2;\n    this.maxHealth += 1;\n    this.level++;\n    const calcNewExp = this.exp - this.maxExp;\n    this.exp = calcNewExp <= 0 ? 0 : calcNewExp;\n    this.maxExp = this.maxExp * 2;\n  }\n\n  updateHealth(health) {\n    this.health += health;\n    if (this.health > this.maxHealth) this.health = this.maxHealth;\n  }\n\n  respawn(players) {\n    this.health = this.maxHealth;\n    const location = this.generateLocation(players);\n    this.x = location[0];\n    this.y = location[1];\n  }\n\n  generateLocation(players) {\n    return [200, 200];\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719072272077},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/ItemController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _ChestModel = _interopRequireDefault(require(\"../../models/ChestModel\"));\nvar _ItemModel = _interopRequireDefault(require(\"../../models/ItemModel\"));\nvar itemData = _interopRequireWildcard(require(\"../../../public/assets/level/tools.json\"));\nvar _uuid = require(\"uuid\");\nvar _utils = require(\"../utils\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar ItemController = exports[\"default\"] = /*#__PURE__*/function () {\n  function ItemController(io) {\n    (0, _classCallCheck2[\"default\"])(this, ItemController);\n    this.chests = {};\n    this.items = {};\n    this.io = io;\n    this.itemDictionary = {\n      chest: this.createChest.bind(this),\n      item: this.createItem.bind(this),\n      \"\": this.drop.bind(this)\n    };\n  }\n  return (0, _createClass2[\"default\"])(ItemController, [{\n    key: \"_eventDrop\",\n    value: function _eventDrop(socket) {\n      var _this = this;\n      return socket.on(\"dropItem\", function (x, y, item) {\n        _this.itemDictionary[item](x, y);\n      });\n    }\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {\n      var _this2 = this;\n      this._eventDrop(socket);\n      socket.on(\"playerCollectedItem\", function (itemId) {\n        socket.emit(\"collectedItem\", _this2.items[itemId]);\n        _this2.deleteItems(itemId);\n      });\n    }\n  }, {\n    key: \"addItems\",\n    value: function addItems(itemId, item) {\n      this.items[itemId] = item;\n      this.io.emit(\"itemSpawned\", item);\n    }\n  }, {\n    key: \"deleteItems\",\n    value: function deleteItems(itemId) {\n      delete this.items[itemId];\n      this.io.emit(\"itemRemoved\", itemId);\n    }\n  }, {\n    key: \"addChest\",\n    value: function addChest(chestId, chest) {\n      this.chests[chestId] = chest;\n      this.io.emit(\"chestSpawned\", chest);\n    }\n  }, {\n    key: \"deleteChest\",\n    value: function deleteChest(chestId) {\n      this.io.emit(\"chestRemoved\", chestId);\n    }\n  }, {\n    key: \"drop\",\n    value: function drop(x, y) {}\n  }, {\n    key: \"createChest\",\n    value: function createChest(x, y) {\n      var chest = new _ChestModel[\"default\"](x, y, (0, _utils.randomNumber)(10, 20), \"chest-\".concat((0, _uuid.v4)()));\n      this.addChest(chest.id, chest);\n    }\n  }, {\n    key: \"createItem\",\n    value: function createItem(x, y) {\n      var randomItem = itemData.items[Math.floor(Math.random() * itemData.items.length)];\n      var item = new _ItemModel[\"default\"](x, y, \"item-\".concat((0, _uuid.v4)()), randomItem.name, randomItem.frame, (0, _utils.getRandonValues)(), (0, _utils.getRandonValues)(), (0, _utils.getRandonValues)(), _utils.WeaponTypes.MELEE, \"Description\");\n      this.addItems(item.id, item);\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2hlc3RNb2RlbCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0l0ZW1Nb2RlbCIsIml0ZW1EYXRhIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfdXVpZCIsIl91dGlscyIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIkl0ZW1Db250cm9sbGVyIiwiZXhwb3J0cyIsImlvIiwiX2NsYXNzQ2FsbENoZWNrMiIsImNoZXN0cyIsIml0ZW1zIiwiaXRlbURpY3Rpb25hcnkiLCJjaGVzdCIsImNyZWF0ZUNoZXN0IiwiYmluZCIsIml0ZW0iLCJjcmVhdGVJdGVtIiwiZHJvcCIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsIl9ldmVudERyb3AiLCJzb2NrZXQiLCJfdGhpcyIsIm9uIiwieCIsInkiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiX3RoaXMyIiwiaXRlbUlkIiwiZW1pdCIsImRlbGV0ZUl0ZW1zIiwiYWRkSXRlbXMiLCJhZGRDaGVzdCIsImNoZXN0SWQiLCJkZWxldGVDaGVzdCIsIkNoZXN0TW9kZWwiLCJyYW5kb21OdW1iZXIiLCJjb25jYXQiLCJ2NCIsImlkIiwicmFuZG9tSXRlbSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsIkl0ZW1Nb2RlbCIsIm5hbWUiLCJmcmFtZSIsImdldFJhbmRvblZhbHVlcyIsIldlYXBvblR5cGVzIiwiTUVMRUUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiSXRlbUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoZXN0TW9kZWwgZnJvbSBcIi4uLy4uL21vZGVscy9DaGVzdE1vZGVsXCI7XG5pbXBvcnQgSXRlbU1vZGVsIGZyb20gXCIuLi8uLi9tb2RlbHMvSXRlbU1vZGVsXCI7XG5pbXBvcnQgKiBhcyBpdGVtRGF0YSBmcm9tIFwiLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9sZXZlbC90b29scy5qc29uXCI7XG5pbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgeyBnZXRSYW5kb25WYWx1ZXMsIHJhbmRvbU51bWJlciwgV2VhcG9uVHlwZXMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihpbykge1xuICAgIHRoaXMuY2hlc3RzID0ge307XG4gICAgdGhpcy5pdGVtcyA9IHt9O1xuICAgIHRoaXMuaW8gPSBpbztcblxuICAgIHRoaXMuaXRlbURpY3Rpb25hcnkgPSB7XG4gICAgICBjaGVzdDogdGhpcy5jcmVhdGVDaGVzdC5iaW5kKHRoaXMpLFxuICAgICAgaXRlbTogdGhpcy5jcmVhdGVJdGVtLmJpbmQodGhpcyksXG4gICAgICBcIlwiOiB0aGlzLmRyb3AuYmluZCh0aGlzKSxcbiAgICB9O1xuICB9XG5cbiAgX2V2ZW50RHJvcChzb2NrZXQpIHtcbiAgICByZXR1cm4gc29ja2V0Lm9uKFwiZHJvcEl0ZW1cIiwgKHgsIHksIGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuaXRlbURpY3Rpb25hcnlbaXRlbV0oeCwgeSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXR1cEV2ZW50TGlzdGVuZXJzKHNvY2tldCkge1xuICAgIHRoaXMuX2V2ZW50RHJvcChzb2NrZXQpO1xuICAgIHNvY2tldC5vbihcInBsYXllckNvbGxlY3RlZEl0ZW1cIiwgKGl0ZW1JZCkgPT4ge1xuICAgICAgc29ja2V0LmVtaXQoXCJjb2xsZWN0ZWRJdGVtXCIsIHRoaXMuaXRlbXNbaXRlbUlkXSk7XG4gICAgICB0aGlzLmRlbGV0ZUl0ZW1zKGl0ZW1JZCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtcyhpdGVtSWQsIGl0ZW0pIHtcbiAgICB0aGlzLml0ZW1zW2l0ZW1JZF0gPSBpdGVtO1xuICAgIHRoaXMuaW8uZW1pdChcIml0ZW1TcGF3bmVkXCIsIGl0ZW0pO1xuICB9XG5cbiAgZGVsZXRlSXRlbXMoaXRlbUlkKSB7XG4gICAgZGVsZXRlIHRoaXMuaXRlbXNbaXRlbUlkXTtcbiAgICB0aGlzLmlvLmVtaXQoXCJpdGVtUmVtb3ZlZFwiLCBpdGVtSWQpO1xuICB9XG5cbiAgYWRkQ2hlc3QoY2hlc3RJZCwgY2hlc3QpIHtcbiAgICB0aGlzLmNoZXN0c1tjaGVzdElkXSA9IGNoZXN0O1xuICAgIHRoaXMuaW8uZW1pdChcImNoZXN0U3Bhd25lZFwiLCBjaGVzdCk7XG4gIH1cblxuICBkZWxldGVDaGVzdChjaGVzdElkKSB7XG4gICAgdGhpcy5pby5lbWl0KFwiY2hlc3RSZW1vdmVkXCIsIGNoZXN0SWQpO1xuICB9XG5cbiAgZHJvcCh4LCB5KSB7fVxuXG4gIGNyZWF0ZUNoZXN0KHgsIHkpIHtcbiAgICBjb25zdCBjaGVzdCA9IG5ldyBDaGVzdE1vZGVsKHgsIHksIHJhbmRvbU51bWJlcigxMCwgMjApLCBgY2hlc3QtJHt2NCgpfWApO1xuICAgIHRoaXMuYWRkQ2hlc3QoY2hlc3QuaWQsIGNoZXN0KTtcbiAgfVxuXG4gIGNyZWF0ZUl0ZW0oeCwgeSkge1xuICAgIGNvbnN0IHJhbmRvbUl0ZW0gPVxuICAgICAgaXRlbURhdGEuaXRlbXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaXRlbURhdGEuaXRlbXMubGVuZ3RoKV07XG5cbiAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW1Nb2RlbChcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgYGl0ZW0tJHt2NCgpfWAsXG4gICAgICByYW5kb21JdGVtLm5hbWUsXG4gICAgICByYW5kb21JdGVtLmZyYW1lLFxuICAgICAgZ2V0UmFuZG9uVmFsdWVzKCksXG4gICAgICBnZXRSYW5kb25WYWx1ZXMoKSxcbiAgICAgIGdldFJhbmRvblZhbHVlcygpLFxuICAgICAgV2VhcG9uVHlwZXMuTUVMRUUsXG4gICAgICBcIkRlc2NyaXB0aW9uXCJcbiAgICApO1xuXG4gICAgdGhpcy5hZGRJdGVtcyhpdGVtLmlkLCBpdGVtKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBQUEsV0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBQyx1QkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssTUFBQSxHQUFBTCxPQUFBO0FBQXNFLFNBQUFNLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSix3QkFBQUksQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLGdCQUFBSyxPQUFBLENBQUFMLENBQUEsMEJBQUFBLENBQUEsc0JBQUFBLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FB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Q0FBQyxHQUFHdEIsS0FBSztNQUM1QixJQUFJLENBQUNMLEVBQUUsQ0FBQ3VCLElBQUksQ0FBQyxjQUFjLEVBQUVsQixLQUFLLENBQUM7SUFDckM7RUFBQztJQUFBTyxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBZSxZQUFZRCxPQUFPLEVBQUU7TUFDbkIsSUFBSSxDQUFDM0IsRUFBRSxDQUFDdUIsSUFBSSxDQUFDLGNBQWMsRUFBRUksT0FBTyxDQUFDO0lBQ3ZDO0VBQUM7SUFBQWYsR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQUgsS0FBS1EsQ0FBQyxFQUFFQyxDQUFDLEVBQUUsQ0FBQztFQUFDO0lBQUFQLEdBQUE7SUFBQUMsS0FBQSxFQUViLFNBQUFQLFlBQVlZLENBQUMsRUFBRUMsQ0FBQyxFQUFFO01BQ2hCLElBQU1kLEtBQUssR0FBRyxJQUFJd0Isc0JBQVUsQ0FBQ1gsQ0FBQyxFQUFFQyxDQUFDLEVBQUUsSUFBQVcsbUJBQVksRUFBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLFdBQUFDLE1BQUEsQ0FBVyxJQUFBQyxRQUFFLEVBQUMsQ0FBQyxDQUFFLENBQUM7TUFDekUsSUFBSSxDQUFDTixRQUFRLENBQUNyQixLQUFLLENBQUM0QixFQUFFLEVBQUU1QixLQUFLLENBQUM7SUFDaEM7RUFBQztJQUFBTyxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBSixXQUFXUyxDQUFDLEVBQUVDLENBQUMsRUFBRTtNQUNmLElBQU1lLFVBQVUsR0FDZDVELFFBQVEsQ0FBQzZCLEtBQUssQ0FBQ2dDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEdBQUcvRCxRQUFRLENBQUM2QixLQUFLLENBQUNtQyxNQUFNLENBQUMsQ0FBQztNQUVuRSxJQUFNOUIsSUFBSSxHQUFHLElBQUkrQixxQkFBUyxDQUN4QnJCLENBQUMsRUFDREMsQ0FBQyxVQUFBWSxNQUFBLENBQ08sSUFBQUMsUUFBRSxFQUFDLENBQUMsR0FDWkUsVUFBVSxDQUFDTSxJQUFJLEVBQ2ZOLFVBQVUsQ0FBQ08sS0FBSyxFQUNoQixJQUFBQyxzQkFBZSxFQUFDLENBQUMsRUFDakIsSUFBQUEsc0JBQWUsRUFBQyxDQUFDLEVBQ2pCLElBQUFBLHNCQUFlLEVBQUMsQ0FBQyxFQUNqQkMsa0JBQVcsQ0FBQ0MsS0FBSyxFQUNqQixhQUNGLENBQUM7TUFFRCxJQUFJLENBQUNuQixRQUFRLENBQUNqQixJQUFJLENBQUN5QixFQUFFLEVBQUV6QixJQUFJLENBQUM7SUFDOUI7RUFBQztBQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_ChestModel","_interopRequireDefault","require","_ItemModel","itemData","_interopRequireWildcard","_uuid","_utils","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ItemController","exports","io","_classCallCheck2","chests","items","itemDictionary","chest","createChest","bind","item","createItem","drop","_createClass2","key","value","_eventDrop","socket","_this","on","x","y","setupEventListeners","_this2","itemId","emit","deleteItems","addItems","addChest","chestId","deleteChest","ChestModel","randomNumber","concat","v4","id","randomItem","Math","floor","random","length","ItemModel","name","frame","getRandonValues","WeaponTypes","MELEE"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["ItemController.js"],"sourcesContent":["import ChestModel from \"../../models/ChestModel\";\nimport ItemModel from \"../../models/ItemModel\";\nimport * as itemData from \"../../../public/assets/level/tools.json\";\nimport { v4 } from \"uuid\";\nimport { getRandonValues, randomNumber, WeaponTypes } from \"../utils\";\n\nexport default class ItemController {\n  constructor(io) {\n    this.chests = {};\n    this.items = {};\n    this.io = io;\n\n    this.itemDictionary = {\n      chest: this.createChest.bind(this),\n      item: this.createItem.bind(this),\n      \"\": this.drop.bind(this),\n    };\n  }\n\n  _eventDrop(socket) {\n    return socket.on(\"dropItem\", (x, y, item) => {\n      this.itemDictionary[item](x, y);\n    });\n  }\n\n  setupEventListeners(socket) {\n    this._eventDrop(socket);\n    socket.on(\"playerCollectedItem\", (itemId) => {\n      socket.emit(\"collectedItem\", this.items[itemId]);\n      this.deleteItems(itemId);\n    });\n  }\n\n  addItems(itemId, item) {\n    this.items[itemId] = item;\n    this.io.emit(\"itemSpawned\", item);\n  }\n\n  deleteItems(itemId) {\n    delete this.items[itemId];\n    this.io.emit(\"itemRemoved\", itemId);\n  }\n\n  addChest(chestId, chest) {\n    this.chests[chestId] = chest;\n    this.io.emit(\"chestSpawned\", chest);\n  }\n\n  deleteChest(chestId) {\n    this.io.emit(\"chestRemoved\", chestId);\n  }\n\n  drop(x, y) {}\n\n  createChest(x, y) {\n    const chest = new ChestModel(x, y, randomNumber(10, 20), `chest-${v4()}`);\n    this.addChest(chest.id, chest);\n  }\n\n  createItem(x, y) {\n    const randomItem =\n      itemData.items[Math.floor(Math.random() * itemData.items.length)];\n\n    const item = new ItemModel(\n      x,\n      y,\n      `item-${v4()}`,\n      randomItem.name,\n      randomItem.frame,\n      getRandonValues(),\n      getRandonValues(),\n      getRandonValues(),\n      WeaponTypes.MELEE,\n      \"Description\"\n    );\n\n    this.addItems(item.id, item);\n  }\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1719082725729},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/ChestModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _uuid = require(\"uuid\");\nvar ChestModel = exports[\"default\"] = /*#__PURE__*/(0, _createClass2[\"default\"])(function ChestModel(x, y, gold, spawnerId) {\n  (0, _classCallCheck2[\"default\"])(this, ChestModel);\n  this.id = \"\".concat(spawnerId, \"-\").concat((0, _uuid.v4)());\n  this.spawnerId = spawnerId;\n  this.x = x;\n  this.y = y;\n  this.gold = gold;\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXVpZCIsInJlcXVpcmUiLCJDaGVzdE1vZGVsIiwiZXhwb3J0cyIsIl9jcmVhdGVDbGFzczIiLCJ4IiwieSIsImdvbGQiLCJzcGF3bmVySWQiLCJfY2xhc3NDYWxsQ2hlY2syIiwiaWQiLCJjb25jYXQiLCJ2NCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJDaGVzdE1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7djR9IGZyb20gJ3V1aWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGVzdE1vZGVsIHtcbiAgY29uc3RydWN0b3IoeCwgeSwgZ29sZCwgc3Bhd25lcklkKSB7XG4gICAgdGhpcy5pZCA9IGAke3NwYXduZXJJZH0tJHt2NCgpfWA7XG4gICAgdGhpcy5zcGF3bmVySWQgPSBzcGF3bmVySWQ7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMuZ29sZCA9IGdvbGQ7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBQXdCLElBRUhDLFVBQVUsR0FBQUMsT0FBQSwrQkFBQUMsYUFBQSxhQUM3QixTQUFBRixXQUFZRyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUU7RUFBQSxJQUFBQyxnQkFBQSxtQkFBQVAsVUFBQTtFQUNqQyxJQUFJLENBQUNRLEVBQUUsTUFBQUMsTUFBQSxDQUFNSCxTQUFTLE9BQUFHLE1BQUEsQ0FBSSxJQUFBQyxRQUFFLEVBQUMsQ0FBQyxDQUFFO0VBQ2hDLElBQUksQ0FBQ0osU0FBUyxHQUFHQSxTQUFTO0VBQzFCLElBQUksQ0FBQ0gsQ0FBQyxHQUFHQSxDQUFDO0VBQ1YsSUFBSSxDQUFDQyxDQUFDLEdBQUdBLENBQUM7RUFDVixJQUFJLENBQUNDLElBQUksR0FBR0EsSUFBSTtBQUNsQixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_uuid","require","ChestModel","exports","_createClass2","x","y","gold","spawnerId","_classCallCheck2","id","concat","v4"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["ChestModel.js"],"sourcesContent":["import {v4} from 'uuid';\n\nexport default class ChestModel {\n  constructor(x, y, gold, spawnerId) {\n    this.id = `${spawnerId}-${v4()}`;\n    this.spawnerId = spawnerId;\n    this.x = x;\n    this.y = y;\n    this.gold = gold;\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAAwB,IAEHC,UAAU,GAAAC,OAAA,+BAAAC,aAAA,aAC7B,SAAAF,WAAYG,CAAC,EAAEC,CAAC,EAAEC,IAAI,EAAEC,SAAS,EAAE;EAAA,IAAAC,gBAAA,mBAAAP,UAAA;EACjC,IAAI,CAACQ,EAAE,MAAAC,MAAA,CAAMH,SAAS,OAAAG,MAAA,CAAI,IAAAC,QAAE,EAAC,CAAC,CAAE;EAChC,IAAI,CAACJ,SAAS,GAAGA,SAAS;EAC1B,IAAI,CAACH,CAAC,GAAGA,CAAC;EACV,IAAI,CAACC,CAAC,GAAGA,CAAC;EACV,IAAI,CAACC,IAAI,GAAGA,IAAI;AAClB,CAAC","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/ItemModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _uuid = require(\"uuid\");\n/**\n * @class\n */\nvar ItemModel = exports[\"default\"] = /*#__PURE__*/(0, _createClass2[\"default\"])(function ItemModel(x, y, spawnerId, name, frame, attackValue, defenseValue, healthValue, type, description) {\n  (0, _classCallCheck2[\"default\"])(this, ItemModel);\n  this.id = \"\".concat(spawnerId, \"-\").concat((0, _uuid.v4)());\n  this.spawnerId = spawnerId;\n  this.x = x;\n  this.y = y;\n  this.name = name;\n  this.frame = frame;\n  this.attackBonus = attackValue;\n  this.defenseBonus = defenseValue;\n  this.healthBonus = healthValue;\n  this.type = type;\n  this.description = description;\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXVpZCIsInJlcXVpcmUiLCJJdGVtTW9kZWwiLCJleHBvcnRzIiwiX2NyZWF0ZUNsYXNzMiIsIngiLCJ5Iiwic3Bhd25lcklkIiwibmFtZSIsImZyYW1lIiwiYXR0YWNrVmFsdWUiLCJkZWZlbnNlVmFsdWUiLCJoZWFsdGhWYWx1ZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsIl9jbGFzc0NhbGxDaGVjazIiLCJpZCIsImNvbmNhdCIsInY0IiwiYXR0YWNrQm9udXMiLCJkZWZlbnNlQm9udXMiLCJoZWFsdGhCb251cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2ZhYnJpY2lvb2xpdmVpcmEvRGV2ZWxvcGVyL2Z1bGxzdGFjay1oZXJvLWpvdXJuZXkvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJJdGVtTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbU1vZGVsIHtcbiAgY29uc3RydWN0b3IoeCwgeSwgc3Bhd25lcklkLCBuYW1lLCBmcmFtZSwgYXR0YWNrVmFsdWUsIGRlZmVuc2VWYWx1ZSwgaGVhbHRoVmFsdWUsIHR5cGUsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5pZCA9IGAke3NwYXduZXJJZH0tJHt2NCgpfWA7XG4gICAgdGhpcy5zcGF3bmVySWQgPSBzcGF3bmVySWQ7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgIHRoaXMuYXR0YWNrQm9udXMgPSBhdHRhY2tWYWx1ZTtcbiAgICB0aGlzLmRlZmVuc2VCb251cyA9IGRlZmVuc2VWYWx1ZTtcbiAgICB0aGlzLmhlYWx0aEJvbnVzID0gaGVhbHRoVmFsdWU7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkEsSUFHcUJDLFNBQVMsR0FBQUMsT0FBQSwrQkFBQUMsYUFBQSxhQUM1QixTQUFBRixVQUFZRyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsU0FBUyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsV0FBVyxFQUFFQyxZQUFZLEVBQUVDLFdBQVcsRUFBRUMsSUFBSSxFQUFFQyxXQUFXLEVBQUU7RUFBQSxJQUFBQyxnQkFBQSxtQkFBQWIsU0FBQTtFQUNuRyxJQUFJLENBQUNjLEVBQUUsTUFBQUMsTUFBQSxDQUFNVixTQUFTLE9BQUFVLE1BQUEsQ0FBSSxJQUFBQyxRQUFFLEVBQUMsQ0FBQyxDQUFFO0VBQ2hDLElBQUksQ0FBQ1gsU0FBUyxHQUFHQSxTQUFTO0VBQzFCLElBQUksQ0FBQ0YsQ0FBQyxHQUFHQSxDQUFDO0VBQ1YsSUFBSSxDQUFDQyxDQUFDLEdBQUdBLENBQUM7RUFDVixJQUFJLENBQUNFLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNDLEtBQUssR0FBR0EsS0FBSztFQUNsQixJQUFJLENBQUNVLFdBQVcsR0FBR1QsV0FBVztFQUM5QixJQUFJLENBQUNVLFlBQVksR0FBR1QsWUFBWTtFQUNoQyxJQUFJLENBQUNVLFdBQVcsR0FBR1QsV0FBVztFQUM5QixJQUFJLENBQUNDLElBQUksR0FBR0EsSUFBSTtFQUNoQixJQUFJLENBQUNDLFdBQVcsR0FBR0EsV0FBVztBQUNoQyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_uuid","require","ItemModel","exports","_createClass2","x","y","spawnerId","name","frame","attackValue","defenseValue","healthValue","type","description","_classCallCheck2","id","concat","v4","attackBonus","defenseBonus","healthBonus"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/models/","sources":["ItemModel.js"],"sourcesContent":["import { v4 } from \"uuid\";\n/**\n * @class\n */\nexport default class ItemModel {\n  constructor(x, y, spawnerId, name, frame, attackValue, defenseValue, healthValue, type, description) {\n    this.id = `${spawnerId}-${v4()}`;\n    this.spawnerId = spawnerId;\n    this.x = x;\n    this.y = y;\n    this.name = name;\n    this.frame = frame;\n    this.attackBonus = attackValue;\n    this.defenseBonus = defenseValue;\n    this.healthBonus = healthValue;\n    this.type = type;\n    this.description = description;\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA;AACA;AACA;AAFA,IAGqBC,SAAS,GAAAC,OAAA,+BAAAC,aAAA,aAC5B,SAAAF,UAAYG,CAAC,EAAEC,CAAC,EAAEC,SAAS,EAAEC,IAAI,EAAEC,KAAK,EAAEC,WAAW,EAAEC,YAAY,EAAEC,WAAW,EAAEC,IAAI,EAAEC,WAAW,EAAE;EAAA,IAAAC,gBAAA,mBAAAb,SAAA;EACnG,IAAI,CAACc,EAAE,MAAAC,MAAA,CAAMV,SAAS,OAAAU,MAAA,CAAI,IAAAC,QAAE,EAAC,CAAC,CAAE;EAChC,IAAI,CAACX,SAAS,GAAGA,SAAS;EAC1B,IAAI,CAACF,CAAC,GAAGA,CAAC;EACV,IAAI,CAACC,CAAC,GAAGA,CAAC;EACV,IAAI,CAACE,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,KAAK,GAAGA,KAAK;EAClB,IAAI,CAACU,WAAW,GAAGT,WAAW;EAC9B,IAAI,CAACU,YAAY,GAAGT,YAAY;EAChC,IAAI,CAACU,WAAW,GAAGT,WAAW;EAC9B,IAAI,CAACC,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,WAAW,GAAGA,WAAW;AAChC,CAAC","ignoreList":[]}},"mtime":1718711816121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/NpcController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _uuid = require(\"uuid\");\nvar NpcController = exports[\"default\"] = /*#__PURE__*/function () {\n  function NpcController(io, npcsLocations) {\n    (0, _classCallCheck2[\"default\"])(this, NpcController);\n    this.npcs = {};\n    this.npcsLocations = npcsLocations;\n    this.io = io;\n    this.spawnNpc();\n  }\n  return (0, _createClass2[\"default\"])(NpcController, [{\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {}\n  }, {\n    key: \"spawnNpc\",\n    value: function spawnNpc() {\n      var location = this.npcsLocations[0];\n      var npc = {\n        x: location[0],\n        y: location[1],\n        id: \"npc-\".concat((0, _uuid.v4)())\n      };\n      this.addNpc(npc.id, npc);\n    }\n  }, {\n    key: \"addNpc\",\n    value: function addNpc(npcId, npc) {\n      this.npcs[npcId] = npc;\n      this.io.emit(\"npcSpawned\", npc);\n    }\n  }, {\n    key: \"deleteNpc\",\n    value: function deleteNpc(npcId) {\n      delete this.npcs[npcId];\n      this.io.emit(\"npcRemoved\", npcId);\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXVpZCIsInJlcXVpcmUiLCJOcGNDb250cm9sbGVyIiwiZXhwb3J0cyIsImlvIiwibnBjc0xvY2F0aW9ucyIsIl9jbGFzc0NhbGxDaGVjazIiLCJucGNzIiwic3Bhd25OcGMiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwic29ja2V0IiwibG9jYXRpb24iLCJucGMiLCJ4IiwieSIsImlkIiwiY29uY2F0IiwidjQiLCJhZGROcGMiLCJucGNJZCIsImVtaXQiLCJkZWxldGVOcGMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiTnBjQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5wY0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihpbywgbnBjc0xvY2F0aW9ucykge1xuICAgIHRoaXMubnBjcyA9IHt9O1xuICAgIHRoaXMubnBjc0xvY2F0aW9ucyA9IG5wY3NMb2NhdGlvbnM7XG4gICAgdGhpcy5pbyA9IGlvO1xuXG4gICAgdGhpcy5zcGF3bk5wYygpO1xuICB9XG5cbiAgc2V0dXBFdmVudExpc3RlbmVycyhzb2NrZXQpIHt9XG5cbiAgc3Bhd25OcGMoKSB7XG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLm5wY3NMb2NhdGlvbnNbMF07XG4gICAgY29uc3QgbnBjID0ge1xuICAgICAgeDogbG9jYXRpb25bMF0sXG4gICAgICB5OiBsb2NhdGlvblsxXSxcbiAgICAgIGlkOiBgbnBjLSR7djQoKX1gLFxuICAgIH07XG4gICAgdGhpcy5hZGROcGMobnBjLmlkLCBucGMpO1xuICB9XG5cbiAgYWRkTnBjKG5wY0lkLCBucGMpIHtcbiAgICB0aGlzLm5wY3NbbnBjSWRdID0gbnBjO1xuICAgIHRoaXMuaW8uZW1pdChcIm5wY1NwYXduZWRcIiwgbnBjKTtcbiAgfVxuXG4gIGRlbGV0ZU5wYyhucGNJZCkge1xuICAgIGRlbGV0ZSB0aGlzLm5wY3NbbnBjSWRdO1xuICAgIHRoaXMuaW8uZW1pdChcIm5wY1JlbW92ZWRcIiwgbnBjSWQpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsT0FBQTtBQUEwQixJQUVMQyxhQUFhLEdBQUFDLE9BQUE7RUFDaEMsU0FBQUQsY0FBWUUsRUFBRSxFQUFFQyxhQUFhLEVBQUU7SUFBQSxJQUFBQyxnQkFBQSxtQkFBQUosYUFBQTtJQUM3QixJQUFJLENBQUNLLElBQUksR0FBRyxDQUFDLENBQUM7SUFDZCxJQUFJLENBQUNGLGFBQWEsR0FBR0EsYUFBYTtJQUNsQyxJQUFJLENBQUNELEVBQUUsR0FBR0EsRUFBRTtJQUVaLElBQUksQ0FBQ0ksUUFBUSxDQUFDLENBQUM7RUFDakI7RUFBQyxXQUFBQyxhQUFBLGFBQUFQLGFBQUE7SUFBQVEsR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQUMsb0JBQW9CQyxNQUFNLEVBQUUsQ0FBQztFQUFDO0lBQUFILEdBQUE7SUFBQUMsS0FBQSxFQUU5QixTQUFBSCxTQUFBLEVBQVc7TUFDVCxJQUFNTSxRQUFRLEdBQUcsSUFBSSxDQUFDVCxhQUFhLENBQUMsQ0FBQyxDQUFDO01BQ3RDLElBQU1VLEdBQUcsR0FBRztRQUNWQyxDQUFDLEVBQUVGLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDZEcsQ0FBQyxFQUFFSCxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ2RJLEVBQUUsU0FBQUMsTUFBQSxDQUFTLElBQUFDLFFBQUUsRUFBQyxDQUFDO01BQ2pCLENBQUM7TUFDRCxJQUFJLENBQUNDLE1BQU0sQ0FBQ04sR0FBRyxDQUFDRyxFQUFFLEVBQUVILEdBQUcsQ0FBQztJQUMxQjtFQUFDO0lBQUFMLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFVLE9BQU9DLEtBQUssRUFBRVAsR0FBRyxFQUFFO01BQ2pCLElBQUksQ0FBQ1IsSUFBSSxDQUFDZSxLQUFLLENBQUMsR0FBR1AsR0FBRztNQUN0QixJQUFJLENBQUNYLEVBQUUsQ0FBQ21CLElBQUksQ0FBQyxZQUFZLEVBQUVSLEdBQUcsQ0FBQztJQUNqQztFQUFDO0lBQUFMLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFhLFVBQVVGLEtBQUssRUFBRTtNQUNmLE9BQU8sSUFBSSxDQUFDZixJQUFJLENBQUNlLEtBQUssQ0FBQztNQUN2QixJQUFJLENBQUNsQixFQUFFLENBQUNtQixJQUFJLENBQUMsWUFBWSxFQUFFRCxLQUFLLENBQUM7SUFDbkM7RUFBQztBQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_uuid","require","NpcController","exports","io","npcsLocations","_classCallCheck2","npcs","spawnNpc","_createClass2","key","value","setupEventListeners","socket","location","npc","x","y","id","concat","v4","addNpc","npcId","emit","deleteNpc"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["NpcController.js"],"sourcesContent":["import { v4 } from \"uuid\";\n\nexport default class NpcController {\n  constructor(io, npcsLocations) {\n    this.npcs = {};\n    this.npcsLocations = npcsLocations;\n    this.io = io;\n\n    this.spawnNpc();\n  }\n\n  setupEventListeners(socket) {}\n\n  spawnNpc() {\n    const location = this.npcsLocations[0];\n    const npc = {\n      x: location[0],\n      y: location[1],\n      id: `npc-${v4()}`,\n    };\n    this.addNpc(npc.id, npc);\n  }\n\n  addNpc(npcId, npc) {\n    this.npcs[npcId] = npc;\n    this.io.emit(\"npcSpawned\", npc);\n  }\n\n  deleteNpc(npcId) {\n    delete this.npcs[npcId];\n    this.io.emit(\"npcRemoved\", npcId);\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAA0B,IAELC,aAAa,GAAAC,OAAA;EAChC,SAAAD,cAAYE,EAAE,EAAEC,aAAa,EAAE;IAAA,IAAAC,gBAAA,mBAAAJ,aAAA;IAC7B,IAAI,CAACK,IAAI,GAAG,CAAC,CAAC;IACd,IAAI,CAACF,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACD,EAAE,GAAGA,EAAE;IAEZ,IAAI,CAACI,QAAQ,CAAC,CAAC;EACjB;EAAC,WAAAC,aAAA,aAAAP,aAAA;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAC,oBAAoBC,MAAM,EAAE,CAAC;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAE9B,SAAAH,SAAA,EAAW;MACT,IAAMM,QAAQ,GAAG,IAAI,CAACT,aAAa,CAAC,CAAC,CAAC;MACtC,IAAMU,GAAG,GAAG;QACVC,CAAC,EAAEF,QAAQ,CAAC,CAAC,CAAC;QACdG,CAAC,EAAEH,QAAQ,CAAC,CAAC,CAAC;QACdI,EAAE,SAAAC,MAAA,CAAS,IAAAC,QAAE,EAAC,CAAC;MACjB,CAAC;MACD,IAAI,CAACC,MAAM,CAACN,GAAG,CAACG,EAAE,EAAEH,GAAG,CAAC;IAC1B;EAAC;IAAAL,GAAA;IAAAC,KAAA,EAED,SAAAU,OAAOC,KAAK,EAAEP,GAAG,EAAE;MACjB,IAAI,CAACR,IAAI,CAACe,KAAK,CAAC,GAAGP,GAAG;MACtB,IAAI,CAACX,EAAE,CAACmB,IAAI,CAAC,YAAY,EAAER,GAAG,CAAC;IACjC;EAAC;IAAAL,GAAA;IAAAC,KAAA,EAED,SAAAa,UAAUF,KAAK,EAAE;MACf,OAAO,IAAI,CAACf,IAAI,CAACe,KAAK,CAAC;MACvB,IAAI,CAAClB,EAAE,CAACmB,IAAI,CAAC,YAAY,EAAED,KAAK,CAAC;IACnC;EAAC;AAAA","ignoreList":[]}},"mtime":1719106341599},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/auth/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/auth/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _passportLocal = _interopRequireDefault(require(\"passport-local\"));\nvar _passportJwt = _interopRequireDefault(require(\"passport-jwt\"));\nvar _UserModel = _interopRequireDefault(require(\"../models/UserModel\"));\n// handle user registration\n_passport[\"default\"].use(\"signup\", new _passportLocal[\"default\"].Strategy({\n  usernameField: \"email\",\n  passwordField: \"password\",\n  passReqToCallback: true\n}, /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(request, email, password, done) {\n    var username, player, user;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          username = request.body.username;\n          player = {\n            playerName: username,\n            attack: 25,\n            defense: 10,\n            maxHealth: 150,\n            health: 150,\n            frame: 0,\n            key: \"characters_1\",\n            gold: 20,\n            items: null,\n            equipedItems: null,\n            exp: 0,\n            maxExp: 100,\n            level: 1,\n            potions: 0\n          };\n          _context.next = 5;\n          return _UserModel[\"default\"].create({\n            email: email,\n            password: password,\n            username: username,\n            player: player\n          });\n        case 5:\n          user = _context.sent;\n          return _context.abrupt(\"return\", done(null, user));\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", done(_context.t0));\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n  return function (_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}()));\n\n// handle user login\n_passport[\"default\"].use(\"login\", new _passportLocal[\"default\"].Strategy({\n  usernameField: \"username\",\n  passwordField: \"password\"\n}, /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(username, password, done) {\n    var user, valid;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _UserModel[\"default\"].findOne({\n            username: username\n          });\n        case 3:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", done(new Error(\"user not found\"), false));\n        case 6:\n          if (user.player) {\n            _context2.next = 8;\n            break;\n          }\n          return _context2.abrupt(\"return\", done(new Error(\"user not found\"), false));\n        case 8:\n          _context2.next = 10;\n          return user.isValidPassword(password);\n        case 10:\n          valid = _context2.sent;\n          if (valid) {\n            _context2.next = 13;\n            break;\n          }\n          return _context2.abrupt(\"return\", done(new Error(\"invalid password\"), false));\n        case 13:\n          return _context2.abrupt(\"return\", done(null, user));\n        case 16:\n          _context2.prev = 16;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", done(_context2.t0));\n        case 19:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 16]]);\n  }));\n  return function (_x5, _x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n}()));\n\n// verify jwt token\n_passport[\"default\"].use(new _passportJwt[\"default\"].Strategy({\n  secretOrKey: process.env.JWT_SECRET,\n  jwtFromRequest: function jwtFromRequest(request) {\n    var token = null;\n    if (request && request.cookies) token = request.cookies.jwt;\n    return token;\n  }\n}, /*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(token, done) {\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          return _context3.abrupt(\"return\", done(null, token.user));\n        case 4:\n          _context3.prev = 4;\n          _context3.t0 = _context3[\"catch\"](0);\n          return _context3.abrupt(\"return\", done(_context3.t0));\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 4]]);\n  }));\n  return function (_x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}()));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFzc3BvcnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXNzcG9ydExvY2FsIiwiX3Bhc3Nwb3J0Snd0IiwiX1VzZXJNb2RlbCIsInBhc3Nwb3J0IiwidXNlIiwibG9jYWxTdHJhdGVneSIsIlN0cmF0ZWd5IiwidXNlcm5hbWVGaWVsZCIsInBhc3N3b3JkRmllbGQiLCJwYXNzUmVxVG9DYWxsYmFjayIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcXVlc3QiLCJlbWFpbCIsInBhc3N3b3JkIiwiZG9uZSIsInVzZXJuYW1lIiwicGxheWVyIiwidXNlciIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwicGxheWVyTmFtZSIsImF0dGFjayIsImRlZmVuc2UiLCJtYXhIZWFsdGgiLCJoZWFsdGgiLCJmcmFtZSIsImtleSIsImdvbGQiLCJpdGVtcyIsImVxdWlwZWRJdGVtcyIsImV4cCIsIm1heEV4cCIsImxldmVsIiwicG90aW9ucyIsIlVzZXJNb2RlbCIsImNyZWF0ZSIsInNlbnQiLCJhYnJ1cHQiLCJ0MCIsInN0b3AiLCJfeCIsIl94MiIsIl94MyIsIl94NCIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3JlZjIiLCJfY2FsbGVlMiIsInZhbGlkIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiZmluZE9uZSIsIkVycm9yIiwiaXNWYWxpZFBhc3N3b3JkIiwiX3g1IiwiX3g2IiwiX3g3Iiwiand0U3RyYXRlZ3kiLCJzZWNyZXRPcktleSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiand0RnJvbVJlcXVlc3QiLCJ0b2tlbiIsImNvb2tpZXMiLCJqd3QiLCJfcmVmMyIsIl9jYWxsZWUzIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiX3g4IiwiX3g5Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZmFicmljaW9vbGl2ZWlyYS9EZXZlbG9wZXIvZnVsbHN0YWNrLWhlcm8tam91cm5leS9zZXJ2ZXIvc3JjL2F1dGgvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXNzcG9ydCBmcm9tIFwicGFzc3BvcnRcIjtcbmltcG9ydCBsb2NhbFN0cmF0ZWd5IGZyb20gXCJwYXNzcG9ydC1sb2NhbFwiO1xuaW1wb3J0IGp3dFN0cmF0ZWd5IGZyb20gXCJwYXNzcG9ydC1qd3RcIjtcblxuaW1wb3J0IFVzZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL1VzZXJNb2RlbFwiO1xuXG4vLyBoYW5kbGUgdXNlciByZWdpc3RyYXRpb25cbnBhc3Nwb3J0LnVzZShcbiAgXCJzaWdudXBcIixcbiAgbmV3IGxvY2FsU3RyYXRlZ3kuU3RyYXRlZ3koXG4gICAge1xuICAgICAgdXNlcm5hbWVGaWVsZDogXCJlbWFpbFwiLFxuICAgICAgcGFzc3dvcmRGaWVsZDogXCJwYXNzd29yZFwiLFxuICAgICAgcGFzc1JlcVRvQ2FsbGJhY2s6IHRydWUsXG4gICAgfSxcbiAgICBhc3luYyAocmVxdWVzdCwgZW1haWwsIHBhc3N3b3JkLCBkb25lKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHVzZXJuYW1lIH0gPSByZXF1ZXN0LmJvZHk7XG4gICAgICAgIGNvbnN0IHBsYXllciA9IHtcbiAgICAgICAgICBwbGF5ZXJOYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICBhdHRhY2s6IDI1LFxuICAgICAgICAgIGRlZmVuc2U6IDEwLFxuICAgICAgICAgIG1heEhlYWx0aDogMTUwLFxuICAgICAgICAgIGhlYWx0aDogMTUwLFxuICAgICAgICAgIGZyYW1lOiAwLFxuICAgICAgICAgIGtleTogXCJjaGFyYWN0ZXJzXzFcIixcbiAgICAgICAgICBnb2xkOiAyMCxcbiAgICAgICAgICBpdGVtczogbnVsbCxcbiAgICAgICAgICBlcXVpcGVkSXRlbXM6IG51bGwsXG4gICAgICAgICAgZXhwOiAwLFxuICAgICAgICAgIG1heEV4cDogMTAwLFxuICAgICAgICAgIGxldmVsOiAxLFxuICAgICAgICAgIHBvdGlvbnM6IDAsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuY3JlYXRlKHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICBwbGF5ZXIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIClcbik7XG5cbi8vIGhhbmRsZSB1c2VyIGxvZ2luXG5wYXNzcG9ydC51c2UoXG4gIFwibG9naW5cIixcbiAgbmV3IGxvY2FsU3RyYXRlZ3kuU3RyYXRlZ3koXG4gICAge1xuICAgICAgdXNlcm5hbWVGaWVsZDogXCJ1c2VybmFtZVwiLFxuICAgICAgcGFzc3dvcmRGaWVsZDogXCJwYXNzd29yZFwiLFxuICAgIH0sXG4gICAgYXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZG9uZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcm5hbWUgfSk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcihcInVzZXIgbm90IGZvdW5kXCIpLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXVzZXIucGxheWVyKSB7XG4gICAgICAgICAgcmV0dXJuIGRvbmUobmV3IEVycm9yKFwidXNlciBub3QgZm91bmRcIiksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWxpZCA9IGF3YWl0IHVzZXIuaXNWYWxpZFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcihcImludmFsaWQgcGFzc3dvcmRcIiksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIClcbik7XG5cbi8vIHZlcmlmeSBqd3QgdG9rZW5cbnBhc3Nwb3J0LnVzZShcbiAgbmV3IGp3dFN0cmF0ZWd5LlN0cmF0ZWd5KFxuICAgIHtcbiAgICAgIHNlY3JldE9yS2V5OiBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxuICAgICAgand0RnJvbVJlcXVlc3Q6IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgIGxldCB0b2tlbiA9IG51bGw7XG4gICAgICAgIGlmIChyZXF1ZXN0ICYmIHJlcXVlc3QuY29va2llcykgdG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuand0O1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9LFxuICAgIH0sXG4gICAgYXN5bmMgKHRva2VuLCBkb25lKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZG9uZShudWxsLCB0b2tlbi51c2VyKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIClcbik7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsY0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsWUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBRUE7QUFDQUksb0JBQVEsQ0FBQ0MsR0FBRyxDQUNWLFFBQVEsRUFDUixJQUFJQyx5QkFBYSxDQUFDQyxRQUFRLENBQ3hCO0VBQ0VDLGFBQWEsRUFB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","map":{"version":3,"names":["_passport","_interopRequireDefault","require","_passportLocal","_passportJwt","_UserModel","passport","use","localStrategy","Strategy","usernameField","passwordField","passReqToCallback","_ref","_asyncToGenerator2","_regenerator","mark","_callee","request","email","password","done","username","player","user","wrap","_callee$","_context","prev","next","body","playerName","attack","defense","maxHealth","health","frame","key","gold","items","equipedItems","exp","maxExp","level","potions","UserModel","create","sent","abrupt","t0","stop","_x","_x2","_x3","_x4","apply","arguments","_ref2","_callee2","valid","_callee2$","_context2","findOne","Error","isValidPassword","_x5","_x6","_x7","jwtStrategy","secretOrKey","process","env","JWT_SECRET","jwtFromRequest","token","cookies","jwt","_ref3","_callee3","_callee3$","_context3","_x8","_x9"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/auth/","sources":["auth.js"],"sourcesContent":["import passport from \"passport\";\nimport localStrategy from \"passport-local\";\nimport jwtStrategy from \"passport-jwt\";\n\nimport UserModel from \"../models/UserModel\";\n\n// handle user registration\npassport.use(\n  \"signup\",\n  new localStrategy.Strategy(\n    {\n      usernameField: \"email\",\n      passwordField: \"password\",\n      passReqToCallback: true,\n    },\n    async (request, email, password, done) => {\n      try {\n        const { username } = request.body;\n        const player = {\n          playerName: username,\n          attack: 25,\n          defense: 10,\n          maxHealth: 150,\n          health: 150,\n          frame: 0,\n          key: \"characters_1\",\n          gold: 20,\n          items: null,\n          equipedItems: null,\n          exp: 0,\n          maxExp: 100,\n          level: 1,\n          potions: 0,\n        };\n        const user = await UserModel.create({\n          email,\n          password,\n          username,\n          player,\n        });\n        return done(null, user);\n      } catch (error) {\n        return done(error);\n      }\n    }\n  )\n);\n\n// handle user login\npassport.use(\n  \"login\",\n  new localStrategy.Strategy(\n    {\n      usernameField: \"username\",\n      passwordField: \"password\",\n    },\n    async (username, password, done) => {\n      try {\n        const user = await UserModel.findOne({ username });\n        if (!user) {\n          return done(new Error(\"user not found\"), false);\n        }\n\n        if (!user.player) {\n          return done(new Error(\"user not found\"), false);\n        }\n        const valid = await user.isValidPassword(password);\n        if (!valid) {\n          return done(new Error(\"invalid password\"), false);\n        }\n        return done(null, user);\n      } catch (error) {\n        return done(error);\n      }\n    }\n  )\n);\n\n// verify jwt token\npassport.use(\n  new jwtStrategy.Strategy(\n    {\n      secretOrKey: process.env.JWT_SECRET,\n      jwtFromRequest: (request) => {\n        let token = null;\n        if (request && request.cookies) token = request.cookies.jwt;\n        return token;\n      },\n    },\n    async (token, done) => {\n      try {\n        return done(null, token.user);\n      } catch (error) {\n        return done(error);\n      }\n    }\n  )\n);\n"],"mappings":"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","ignoreList":[]}},"mtime":1718711816119},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/MessageController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _ChatModel = _interopRequireDefault(require(\"../../models/ChatModel\"));\nvar MessageController = exports[\"default\"] = /*#__PURE__*/function () {\n  function MessageController(io) {\n    (0, _classCallCheck2[\"default\"])(this, MessageController);\n    this.io = io;\n  }\n  return (0, _createClass2[\"default\"])(MessageController, [{\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {\n      this._sendMessage(socket);\n    }\n  }, {\n    key: \"_sendMessage\",\n    value: function _sendMessage(socket) {\n      var _this = this;\n      socket.on(\"sendMessage\", /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(message, token) {\n          var decoded, _decoded$user, email, name;\n          return _regenerator[\"default\"].wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                decoded = _jsonwebtoken[\"default\"].verify(token, process.env.JWT_SECRET);\n                _decoded$user = decoded.user, email = _decoded$user.email, name = _decoded$user.name;\n                _context.next = 5;\n                return _ChatModel[\"default\"].create({\n                  email: email,\n                  message: message\n                });\n              case 5:\n                _this.io.emit(\"newMessage\", {\n                  message: message,\n                  name: name\n                });\n                _context.next = 11;\n                break;\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, null, [[0, 8]]);\n        }));\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfQ2hhdE1vZGVsIiwiTWVzc2FnZUNvbnRyb2xsZXIiLCJleHBvcnRzIiwiaW8iLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwic2V0dXBFdmVudExpc3RlbmVycyIsInNvY2tldCIsIl9zZW5kTWVzc2FnZSIsIl90aGlzIiwib24iLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJtZXNzYWdlIiwidG9rZW4iLCJkZWNvZGVkIiwiX2RlY29kZWQkdXNlciIsImVtYWlsIiwibmFtZSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXIiLCJDaGF0TW9kZWwiLCJjcmVhdGUiLCJlbWl0IiwidDAiLCJjb25zb2xlIiwibG9nIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiTWVzc2FnZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5cbmltcG9ydCBDaGF0TW9kZWwgZnJvbSBcIi4uLy4uL21vZGVscy9DaGF0TW9kZWxcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2VDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoaW8pIHtcbiAgICB0aGlzLmlvID0gaW87XG4gIH1cblxuICBzZXR1cEV2ZW50TGlzdGVuZXJzKHNvY2tldCkge1xuICAgIHRoaXMuX3NlbmRNZXNzYWdlKHNvY2tldCk7XG4gIH1cblxuICBfc2VuZE1lc3NhZ2Uoc29ja2V0KSB7XG4gICAgc29ja2V0Lm9uKFwic2VuZE1lc3NhZ2VcIiwgYXN5bmMgKG1lc3NhZ2UsIHRva2VuKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XG4gICAgICAgIGNvbnN0IHsgZW1haWwsIG5hbWUgfSA9IGRlY29kZWQudXNlcjtcbiAgICAgICAgYXdhaXQgQ2hhdE1vZGVsLmNyZWF0ZSh7IGVtYWlsLCBtZXNzYWdlIH0pO1xuICAgICAgICB0aGlzLmlvLmVtaXQoXCJuZXdNZXNzYWdlXCIsIHtcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQStDLElBQzFCRSxpQkFBaUIsR0FBQUMsT0FBQTtFQUNwQyxTQUFBRCxrQkFBWUUsRUFBRSxFQUFFO0lBQUEsSUFBQUMsZ0JBQUEsbUJBQUFILGlCQUFBO0lBQ2QsSUFBSSxDQUFDRSxFQUFFLEdBQUdBLEVBQUU7RUFDZDtFQUFDLFdBQUFFLGFBQUEsYUFBQUosaUJBQUE7SUFBQUssR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQUMsb0JBQW9CQyxNQUFNLEVBQUU7TUFDMUIsSUFBSSxDQUFDQyxZQUFZLENBQUNELE1BQU0sQ0FBQztJQUMzQjtFQUFDO0lBQUFILEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFHLGFBQWFELE1BQU0sRUFBRTtNQUFBLElBQUFFLEtBQUE7TUFDbkJGLE1BQU0sQ0FBQ0csRUFBRSxDQUFDLGFBQWE7UUFBQSxJQUFBQyxJQUFBLE9BQUFDLGtCQUFBLDJCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBRSxTQUFBQyxRQUFPQyxPQUFPLEVBQUVDLEtBQUs7VUFBQSxJQUFBQyxPQUFBLEVBQUFDLGFBQUEsRUFBQUMsS0FBQSxFQUFBQyxJQUFBO1VBQUEsT0FBQVIsWUFBQSxZQUFBUyxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7WUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtjQUFBO2dCQUFBRixRQUFBLENBQUFDLElBQUE7Z0JBRXBDUCxPQUFPLEdBQUdTLHdCQUFHLENBQUNDLE1BQU0sQ0FBQ1gsS0FBSyxFQUFFWSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVSxDQUFDO2dCQUFBWixhQUFBLEdBQ2pDRCxPQUFPLENBQUNjLElBQUksRUFBNUJaLEtBQUssR0FBQUQsYUFBQSxDQUFMQyxLQUFLLEVBQUVDLElBQUksR0FBQUYsYUFBQSxDQUFKRSxJQUFJO2dCQUFBRyxRQUFBLENBQUFFLElBQUE7Z0JBQUEsT0FDYk8scUJBQVMsQ0FBQ0MsTUFBTSxDQUFDO2tCQUFFZCxLQUFLLEVBQUxBLEtBQUs7a0JBQUVKLE9BQU8sRUFBUEE7Z0JBQVEsQ0FBQyxDQUFDO2NBQUE7Z0JBQzFDUCxLQUFJLENBQUNSLEVBQUUsQ0FBQ2tDLElBQUksQ0FBQyxZQUFZLEVBQUU7a0JBQ3pCbkIsT0FBTyxFQUFQQSxPQUFPO2tCQUNQSyxJQUFJLEVBQUVBO2dCQUNSLENBQUMsQ0FBQztnQkFBQ0csUUFBQSxDQUFBRSxJQUFBO2dCQUFBO2NBQUE7Z0JBQUFGLFFBQUEsQ0FBQUMsSUFBQTtnQkFBQUQsUUFBQSxDQUFBWSxFQUFBLEdBQUFaLFFBQUE7Z0JBRUhhLE9BQU8sQ0FBQ0MsR0FBRyxDQUFBZCxRQUFBLENBQUFZLEVBQU0sQ0FBQztjQUFDO2NBQUE7Z0JBQUEsT0FBQVosUUFBQSxDQUFBZSxJQUFBO1lBQUE7VUFBQSxHQUFBeEIsT0FBQTtRQUFBLENBRXRCO1FBQUEsaUJBQUF5QixFQUFBLEVBQUFDLEdBQUE7VUFBQSxPQUFBOUIsSUFBQSxDQUFBK0IsS0FBQSxPQUFBQyxTQUFBO1FBQUE7TUFBQSxJQUFDO0lBQ0o7RUFBQztBQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_ChatModel","MessageController","exports","io","_classCallCheck2","_createClass2","key","value","setupEventListeners","socket","_sendMessage","_this","on","_ref","_asyncToGenerator2","_regenerator","mark","_callee","message","token","decoded","_decoded$user","email","name","wrap","_callee$","_context","prev","next","jwt","verify","process","env","JWT_SECRET","user","ChatModel","create","emit","t0","console","log","stop","_x","_x2","apply","arguments"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["MessageController.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\n\nimport ChatModel from \"../../models/ChatModel\";\nexport default class MessageController {\n  constructor(io) {\n    this.io = io;\n  }\n\n  setupEventListeners(socket) {\n    this._sendMessage(socket);\n  }\n\n  _sendMessage(socket) {\n    socket.on(\"sendMessage\", async (message, token) => {\n      try {\n        const decoded = jwt.verify(token, process.env.JWT_SECRET);\n        const { email, name } = decoded.user;\n        await ChatModel.create({ email, message });\n        this.io.emit(\"newMessage\", {\n          message,\n          name: name,\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  }\n}\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+C,IAC1BE,iBAAiB,GAAAC,OAAA;EACpC,SAAAD,kBAAYE,EAAE,EAAE;IAAA,IAAAC,gBAAA,mBAAAH,iBAAA;IACd,IAAI,CAACE,EAAE,GAAGA,EAAE;EACd;EAAC,WAAAE,aAAA,aAAAJ,iBAAA;IAAAK,GAAA;IAAAC,KAAA,EAED,SAAAC,oBAAoBC,MAAM,EAAE;MAC1B,IAAI,CAACC,YAAY,CAACD,MAAM,CAAC;IAC3B;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAED,SAAAG,aAAaD,MAAM,EAAE;MAAA,IAAAE,KAAA;MACnBF,MAAM,CAACG,EAAE,CAAC,aAAa;QAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAC,QAAOC,OAAO,EAAEC,KAAK;UAAA,IAAAC,OAAA,EAAAC,aAAA,EAAAC,KAAA,EAAAC,IAAA;UAAA,OAAAR,YAAA,YAAAS,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAEpCP,OAAO,GAAGS,wBAAG,CAACC,MAAM,CAACX,KAAK,EAAEY,OAAO,CAACC,GAAG,CAACC,UAAU,CAAC;gBAAAZ,aAAA,GACjCD,OAAO,CAACc,IAAI,EAA5BZ,KAAK,GAAAD,aAAA,CAALC,KAAK,EAAEC,IAAI,GAAAF,aAAA,CAAJE,IAAI;gBAAAG,QAAA,CAAAE,IAAA;gBAAA,OACbO,qBAAS,CAACC,MAAM,CAAC;kBAAEd,KAAK,EAALA,KAAK;kBAAEJ,OAAO,EAAPA;gBAAQ,CAAC,CAAC;cAAA;gBAC1CP,KAAI,CAACR,EAAE,CAACkC,IAAI,CAAC,YAAY,EAAE;kBACzBnB,OAAO,EAAPA,OAAO;kBACPK,IAAI,EAAEA;gBACR,CAAC,CAAC;gBAACG,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAY,EAAA,GAAAZ,QAAA;gBAEHa,OAAO,CAACC,GAAG,CAAAd,QAAA,CAAAY,EAAM,CAAC;cAAC;cAAA;gBAAA,OAAAZ,QAAA,CAAAe,IAAA;YAAA;UAAA,GAAAxB,OAAA;QAAA,CAEtB;QAAA,iBAAAyB,EAAA,EAAAC,GAAA;UAAA,OAAA9B,IAAA,CAAA+B,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IACJ;EAAC;AAAA","ignoreList":[]}},"mtime":1719106298807},"{\"assumptions\":{},\"sourceRoot\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"filename\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/MessageController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.7:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _ChatModel = _interopRequireDefault(require(\"../../models/ChatModel\"));\nvar MessageController = exports[\"default\"] = /*#__PURE__*/function () {\n  function MessageController(io) {\n    (0, _classCallCheck2[\"default\"])(this, MessageController);\n    this.io = io;\n  }\n  return (0, _createClass2[\"default\"])(MessageController, [{\n    key: \"setupEventListeners\",\n    value: function setupEventListeners(socket) {\n      this._sendMessage(socket);\n    }\n  }, {\n    key: \"_sendMessage\",\n    value: function _sendMessage(socket) {\n      var _this = this;\n      socket.on(\"sendMessage\", /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(message, token) {\n          var decoded, _decoded$user, email, name;\n          return _regenerator[\"default\"].wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                decoded = _jsonwebtoken[\"default\"].verify(token, process.env.JWT_SECRET);\n                _decoded$user = decoded.user, email = _decoded$user.email, name = _decoded$user.name;\n                _context.next = 5;\n                return _ChatModel[\"default\"].create({\n                  email: email,\n                  message: message\n                });\n              case 5:\n                _this.io.emit(\"newMessage\", {\n                  message: message,\n                  name: name\n                });\n                _context.next = 11;\n                break;\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, null, [[0, 8]]);\n        }));\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }]);\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfQ2hhdE1vZGVsIiwiTWVzc2FnZUNvbnRyb2xsZXIiLCJleHBvcnRzIiwiaW8iLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwic2V0dXBFdmVudExpc3RlbmVycyIsInNvY2tldCIsIl9zZW5kTWVzc2FnZSIsIl90aGlzIiwib24iLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJtZXNzYWdlIiwidG9rZW4iLCJkZWNvZGVkIiwiX2RlY29kZWQkdXNlciIsImVtYWlsIiwibmFtZSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXIiLCJDaGF0TW9kZWwiLCJjcmVhdGUiLCJlbWl0IiwidDAiLCJjb25zb2xlIiwibG9nIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9mYWJyaWNpb29saXZlaXJhL0RldmVsb3Blci9mdWxsc3RhY2staGVyby1qb3VybmV5L3NlcnZlci9zcmMvZ2FtZV9tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiTWVzc2FnZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5cbmltcG9ydCBDaGF0TW9kZWwgZnJvbSBcIi4uLy4uL21vZGVscy9DaGF0TW9kZWxcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2VDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoaW8pIHtcbiAgICB0aGlzLmlvID0gaW87XG4gIH1cblxuICBzZXR1cEV2ZW50TGlzdGVuZXJzKHNvY2tldCkge1xuICAgIHRoaXMuX3NlbmRNZXNzYWdlKHNvY2tldCk7XG4gIH1cblxuICBfc2VuZE1lc3NhZ2Uoc29ja2V0KSB7XG4gICAgc29ja2V0Lm9uKFwic2VuZE1lc3NhZ2VcIiwgYXN5bmMgKG1lc3NhZ2UsIHRva2VuKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XG4gICAgICAgIGNvbnN0IHsgZW1haWwsIG5hbWUgfSA9IGRlY29kZWQudXNlcjtcbiAgICAgICAgYXdhaXQgQ2hhdE1vZGVsLmNyZWF0ZSh7IGVtYWlsLCBtZXNzYWdlIH0pO1xuICAgICAgICB0aGlzLmlvLmVtaXQoXCJuZXdNZXNzYWdlXCIsIHtcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQStDLElBQzFCRSxpQkFBaUIsR0FBQUMsT0FBQTtFQUNwQyxTQUFBRCxrQkFBWUUsRUFBRSxFQUFFO0lBQUEsSUFBQUMsZ0JBQUEsbUJBQUFILGlCQUFBO0lBQ2QsSUFBSSxDQUFDRSxFQUFFLEdBQUdBLEVBQUU7RUFDZDtFQUFDLFdBQUFFLGFBQUEsYUFBQUosaUJBQUE7SUFBQUssR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQUMsb0JBQW9CQyxNQUFNLEVBQUU7TUFDMUIsSUFBSSxDQUFDQyxZQUFZLENBQUNELE1BQU0sQ0FBQztJQUMzQjtFQUFDO0lBQUFILEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFHLGFBQWFELE1BQU0sRUFBRTtNQUFBLElBQUFFLEtBQUE7TUFDbkJGLE1BQU0sQ0FBQ0csRUFBRSxDQUFDLGFBQWE7UUFBQSxJQUFBQyxJQUFBLE9BQUFDLGtCQUFBLDJCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBRSxTQUFBQyxRQUFPQyxPQUFPLEVBQUVDLEtBQUs7VUFBQSxJQUFBQyxPQUFBLEVBQUFDLGFBQUEsRUFBQUMsS0FBQSxFQUFBQyxJQUFBO1VBQUEsT0FBQVIsWUFBQSxZQUFBUyxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7WUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtjQUFBO2dCQUFBRixRQUFBLENBQUFDLElBQUE7Z0JBRXBDUCxPQUFPLEdBQUdTLHdCQUFHLENBQUNDLE1BQU0sQ0FBQ1gsS0FBSyxFQUFFWSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVSxDQUFDO2dCQUFBWixhQUFBLEdBQ2pDRCxPQUFPLENBQUNjLElBQUksRUFBNUJaLEtBQUssR0FBQUQsYUFBQSxDQUFMQyxLQUFLLEVBQUVDLElBQUksR0FBQUYsYUFBQSxDQUFKRSxJQUFJO2dCQUFBRyxRQUFBLENBQUFFLElBQUE7Z0JBQUEsT0FDYk8scUJBQVMsQ0FBQ0MsTUFBTSxDQUFDO2tCQUFFZCxLQUFLLEVBQUxBLEtBQUs7a0JBQUVKLE9BQU8sRUFBUEE7Z0JBQVEsQ0FBQyxDQUFDO2NBQUE7Z0JBQzFDUCxLQUFJLENBQUNSLEVBQUUsQ0FBQ2tDLElBQUksQ0FBQyxZQUFZLEVBQUU7a0JBQ3pCbkIsT0FBTyxFQUFQQSxPQUFPO2tCQUNQSyxJQUFJLEVBQUVBO2dCQUNSLENBQUMsQ0FBQztnQkFBQ0csUUFBQSxDQUFBRSxJQUFBO2dCQUFBO2NBQUE7Z0JBQUFGLFFBQUEsQ0FBQUMsSUFBQTtnQkFBQUQsUUFBQSxDQUFBWSxFQUFBLEdBQUFaLFFBQUE7Z0JBRUhhLE9BQU8sQ0FBQ0MsR0FBRyxDQUFBZCxRQUFBLENBQUFZLEVBQU0sQ0FBQztjQUFDO2NBQUE7Z0JBQUEsT0FBQVosUUFBQSxDQUFBZSxJQUFBO1lBQUE7VUFBQSxHQUFBeEIsT0FBQTtRQUFBLENBRXRCO1FBQUEsaUJBQUF5QixFQUFBLEVBQUFDLEdBQUE7VUFBQSxPQUFBOUIsSUFBQSxDQUFBK0IsS0FBQSxPQUFBQyxTQUFBO1FBQUE7TUFBQSxJQUFDO0lBQ0o7RUFBQztBQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_ChatModel","MessageController","exports","io","_classCallCheck2","_createClass2","key","value","setupEventListeners","socket","_sendMessage","_this","on","_ref","_asyncToGenerator2","_regenerator","mark","_callee","message","token","decoded","_decoded$user","email","name","wrap","_callee$","_context","prev","next","jwt","verify","process","env","JWT_SECRET","user","ChatModel","create","emit","t0","console","log","stop","_x","_x2","apply","arguments"],"sourceRoot":"/Users/fabriciooliveira/Developer/fullstack-hero-journey/server/src/game_manager/controllers/","sources":["MessageController.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\n\nimport ChatModel from \"../../models/ChatModel\";\nexport default class MessageController {\n  constructor(io) {\n    this.io = io;\n  }\n\n  setupEventListeners(socket) {\n    this._sendMessage(socket);\n  }\n\n  _sendMessage(socket) {\n    socket.on(\"sendMessage\", async (message, token) => {\n      try {\n        const decoded = jwt.verify(token, process.env.JWT_SECRET);\n        const { email, name } = decoded.user;\n        await ChatModel.create({ email, message });\n        this.io.emit(\"newMessage\", {\n          message,\n          name: name,\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  }\n}\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+C,IAC1BE,iBAAiB,GAAAC,OAAA;EACpC,SAAAD,kBAAYE,EAAE,EAAE;IAAA,IAAAC,gBAAA,mBAAAH,iBAAA;IACd,IAAI,CAACE,EAAE,GAAGA,EAAE;EACd;EAAC,WAAAE,aAAA,aAAAJ,iBAAA;IAAAK,GAAA;IAAAC,KAAA,EAED,SAAAC,oBAAoBC,MAAM,EAAE;MAC1B,IAAI,CAACC,YAAY,CAACD,MAAM,CAAC;IAC3B;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAED,SAAAG,aAAaD,MAAM,EAAE;MAAA,IAAAE,KAAA;MACnBF,MAAM,CAACG,EAAE,CAAC,aAAa;QAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAC,QAAOC,OAAO,EAAEC,KAAK;UAAA,IAAAC,OAAA,EAAAC,aAAA,EAAAC,KAAA,EAAAC,IAAA;UAAA,OAAAR,YAAA,YAAAS,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAEpCP,OAAO,GAAGS,wBAAG,CAACC,MAAM,CAACX,KAAK,EAAEY,OAAO,CAACC,GAAG,CAACC,UAAU,CAAC;gBAAAZ,aAAA,GACjCD,OAAO,CAACc,IAAI,EAA5BZ,KAAK,GAAAD,aAAA,CAALC,KAAK,EAAEC,IAAI,GAAAF,aAAA,CAAJE,IAAI;gBAAAG,QAAA,CAAAE,IAAA;gBAAA,OACbO,qBAAS,CAACC,MAAM,CAAC;kBAAEd,KAAK,EAALA,KAAK;kBAAEJ,OAAO,EAAPA;gBAAQ,CAAC,CAAC;cAAA;gBAC1CP,KAAI,CAACR,EAAE,CAACkC,IAAI,CAAC,YAAY,EAAE;kBACzBnB,OAAO,EAAPA,OAAO;kBACPK,IAAI,EAAEA;gBACR,CAAC,CAAC;gBAACG,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAY,EAAA,GAAAZ,QAAA;gBAEHa,OAAO,CAACC,GAAG,CAAAd,QAAA,CAAAY,EAAM,CAAC;cAAC;cAAA;gBAAA,OAAAZ,QAAA,CAAAe,IAAA;YAAA;UAAA,GAAAxB,OAAA;QAAA,CAEtB;QAAA,iBAAAyB,EAAA,EAAAC,GAAA;UAAA,OAAA9B,IAAA,CAAA+B,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;IACJ;EAAC;AAAA","ignoreList":[]}},"mtime":1719106298807}}